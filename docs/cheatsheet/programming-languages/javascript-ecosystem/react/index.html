<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React チートシート</title>

    <!-- ダークモード早期適用（フラッシュ防止） -->
    <script src="main.js"></script>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // React - Cyan
                        primary: {
                            50: '#ecfeff',
                            100: '#cffafe',
                            200: '#a5f3fc',
                            300: '#67e8f9',
                            400: '#22d3ee',
                            500: '#06b6d4',
                            600: '#0891b2',
                            700: '#0e7490',
                            800: '#155e75',
                            900: '#164e63',
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans JP"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- カスタムスタイル -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="font-sans bg-slate-50 text-slate-800 antialiased">
    <!-- ヘッダー -->
    <header class="header-rich text-white py-4 shadow-lg no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center backdrop-blur-sm border border-white/20">
                        <i class="fab fa-react text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">React チートシート</h1>
                        <p class="text-sm text-white/80">エンジニアのための実践クイックリファレンス</p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <!-- ダークモード切り替えボタン -->
                    <button id="dark-mode-toggle" class="w-10 h-10 flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 transition" title="ダークモード切り替え">
                        <i class="fas fa-moon dark-icon"></i>
                        <i class="fas fa-sun light-icon hidden"></i>
                    </button>
                    <!-- 印刷ボタン -->
                    <button onclick="window.print()" class="hidden md:flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition">
                        <i class="fas fa-print"></i>
                        <span>印刷</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- イントロセクション -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8">
            <div class="flex items-start gap-4">
                <div class="flex-shrink-0 w-12 h-12 bg-primary-500 rounded-lg flex items-center justify-center">
                    <i class="fab fa-react text-white text-xl"></i>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-slate-800 mb-2">Reactとは？</h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        ReactはMeta（旧Facebook）が開発したUIライブラリで、宣言的・コンポーネントベース・一度学習すればどこでも書けるという3つの哲学に基づいています。仮想DOMにより高速なUI更新を実現し、JSX/TSXで直感的にUIを記述できます。
                    </p>
                    <div class="flex flex-wrap gap-2">
                        <span class="px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium">
                            <i class="fas fa-code mr-1"></i>宣言的UI
                        </span>
                        <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium">
                            <i class="fas fa-cubes mr-1"></i>コンポーネントベース
                        </span>
                        <span class="px-3 py-1 bg-violet-100 text-violet-700 rounded-full text-sm font-medium">
                            <i class="fas fa-bolt mr-1"></i>仮想DOM
                        </span>
                        <span class="px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-sm font-medium">
                            <i class="fas fa-shield-alt mr-1"></i>型安全（TypeScript）
                        </span>
                    </div>
                </div>
            </div>
        </section>

        <!-- プロジェクト作成 & 基本構文 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

            <!-- プロジェクト作成 -->
            <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-rocket text-white"></i>
                    </div>
                    <h3 class="text-lg font-bold text-slate-800">プロジェクト作成</h3>
                </div>

                <div class="space-y-4">
                    <div class="bg-primary-50 border border-primary-200 rounded-lg p-3">
                        <p class="text-sm text-primary-800">
                            <i class="fas fa-lightbulb text-primary-500 mr-2"></i>
                            <strong>Vite</strong>で高速な開発環境を構築（推奨）
                        </p>
                    </div>

                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg"><code class="language-bash"># Vite + React + TypeScript
npm create vite@latest my-app -- --template react-ts
cd my-app
npm install
npm run dev

# Next.js（フレームワーク）
npx create-next-app@latest</code></pre>
                    </div>

                    <div class="text-sm text-slate-600 space-y-1">
                        <p><span class="text-primary-600 font-medium">●</span> Vite: 高速ビルド、軽量</p>
                        <p><span class="text-primary-600 font-medium">●</span> Next.js: SSR/SSG対応、本番向け</p>
                    </div>
                </div>
            </section>

            <!-- 関数コンポーネントの基本 -->
            <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-cube text-white"></i>
                    </div>
                    <h3 class="text-lg font-bold text-slate-800">関数コンポーネント</h3>
                </div>

                <div class="space-y-4">
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg"><code class="language-typescript">// 基本構文
function MyComponent() {
  return <div>Hello, React!</div>;
}

// Props型定義（TypeScript）
interface Props {
  name: string;
  age?: number; // オプショナル
}

function Greeting({ name, age }: Props) {
  return (
    <div>
      <h1>Hello, {name}!</h1>
      {age && <p>Age: {age}</p>}
    </div>
  );
}</code></pre>
                    </div>

                    <div class="text-sm text-slate-600 space-y-1">
                        <p><span class="text-emerald-600 font-medium">●</span> Props: 親から受け取るデータ</p>
                        <p><span class="text-emerald-600 font-medium">●</span> JSX: JavaScript内でHTML風の記述</p>
                    </div>
                </div>
            </section>

        </div>

        <!-- useState & useEffect -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-amber-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-wrench text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">基本Hooks（useState / useEffect）</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- useState -->
                <div class="bg-amber-50 border border-amber-200 rounded-lg p-4">
                    <h4 class="font-bold text-amber-800 mb-3 flex items-center gap-2">
                        <i class="fas fa-database"></i>useState（状態管理）
                    </h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// 基本形
const [count, setCount] = useState(0);
const [user, setUser] = useState<User | null>(null);

// 更新
setCount(count + 1);
setCount(prev => prev + 1); // 推奨

// オブジェクト更新
setUser({ ...user, name: 'New Name' });</code></pre>
                    </div>
                    <p class="mt-2 text-xs text-amber-700">
                        <i class="fas fa-check-circle mr-1"></i>関数形式で前の状態を参照すると安全
                    </p>
                </div>

                <!-- useEffect -->
                <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4">
                    <h4 class="font-bold text-indigo-800 mb-3 flex items-center gap-2">
                        <i class="fas fa-sync-alt"></i>useEffect（副作用）
                    </h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// マウント時のみ実行
useEffect(() => {
  console.log('Mounted');
}, []);

// 依存配列の値変更時に実行
useEffect(() => {
  fetchData(userId);
}, [userId]);

// クリーンアップ
useEffect(() => {
  const timer = setInterval(() => {}, 1000);
  return () => clearInterval(timer);
}, []);</code></pre>
                    </div>
                    <p class="mt-2 text-xs text-indigo-700">
                        <i class="fas fa-info-circle mr-1"></i>データ取得、購読、タイマーに使用
                    </p>
                </div>
            </div>
        </section>

        <!-- その他の重要Hooks -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-toolbox text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">その他の重要Hooks</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- useContext -->
                <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                    <h4 class="font-bold text-purple-800 mb-3 flex items-center gap-2">
                        <i class="fas fa-share-alt"></i>useContext
                    </h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// Context作成
const ThemeContext = createContext('light');

// Provider
<ThemeContext.Provider value="dark">
  <App />
</ThemeContext.Provider>

// 使用
const theme = useContext(ThemeContext);</code></pre>
                    </div>
                    <p class="mt-2 text-xs text-purple-700">グローバル状態共有</p>
                </div>

                <!-- useRef -->
                <div class="bg-teal-50 border border-teal-200 rounded-lg p-4">
                    <h4 class="font-bold text-teal-800 mb-3 flex items-center gap-2">
                        <i class="fas fa-link"></i>useRef
                    </h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// DOM参照
const inputRef = useRef<HTMLInputElement>(null);
inputRef.current?.focus();

// 値の保持（再レンダーなし）
const countRef = useRef(0);
countRef.current += 1;

return <input ref={inputRef} />;</code></pre>
                    </div>
                    <p class="mt-2 text-xs text-teal-700">DOM操作・値保持</p>
                </div>

                <!-- useMemo / useCallback -->
                <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                    <h4 class="font-bold text-orange-800 mb-3 flex items-center gap-2">
                        <i class="fas fa-tachometer-alt"></i>useMemo / useCallback
                    </h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// 計算結果をメモ化
const expensiveValue = useMemo(() => {
  return heavyCalculation(data);
}, [data]);

// 関数をメモ化
const handleClick = useCallback(() => {
  doSomething(id);
}, [id]);</code></pre>
                    </div>
                    <p class="mt-2 text-xs text-orange-700">パフォーマンス最適化</p>
                </div>
            </div>
        </section>

        <!-- イベントハンドリング -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-mouse-pointer text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">イベントハンドリング</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-bold text-blue-800 mb-3">基本パターン</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// クリックイベント
<button onClick={() => setCount(count + 1)}>
  クリック
</button>

// 引数付き
<button onClick={() => handleClick(id)}>
  削除
</button>

// フォーム送信
<form onSubmit={handleSubmit}>
  <input onChange={(e) => setValue(e.target.value)} />
</form></code></pre>
                    </div>
                </div>

                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-bold text-blue-800 mb-3">イベント型（TypeScript）</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// マウスイベント
const handleClick = (
  e: React.MouseEvent<HTMLButtonElement>
) => { /* ... */ };

// フォームイベント
const handleSubmit = (
  e: React.FormEvent<HTMLFormElement>
) => {
  e.preventDefault();
};

// Changeイベント
const handleChange = (
  e: React.ChangeEvent<HTMLInputElement>
) => { /* ... */ };</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- 条件付きレンダリング & リスト表示 -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-list text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">条件付きレンダリング & リスト表示</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-4">
                    <h4 class="font-bold text-emerald-800 mb-3">条件付きレンダリング</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// 三項演算子
{isLoggedIn ? <Dashboard /> : <Login />}

// && 演算子
{error && <ErrorMessage text={error} />}

// if文（早期return）
if (loading) return <Spinner />;
if (error) return <Error />;
return <Content data={data} />;</code></pre>
                    </div>
                </div>

                <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-4">
                    <h4 class="font-bold text-emerald-800 mb-3">リスト表示（map）</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// 基本形（key必須）
{users.map(user => (
  <UserCard key={user.id} user={user} />
))}

// インデックスを使う場合
{items.map((item, index) => (
  <li key={index}>{item}</li>
))}

// フィルタリング
{users
  .filter(u => u.active)
  .map(u => <UserCard key={u.id} user={u} />)
}</code></pre>
                    </div>
                    <p class="mt-2 text-xs text-emerald-700">
                        <i class="fas fa-exclamation-triangle mr-1"></i>key属性は一意な値を指定
                    </p>
                </div>
            </div>
        </section>

        <!-- フォーム管理 -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-violet-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-edit text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">フォーム管理</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-violet-50 border border-violet-200 rounded-lg p-4">
                    <h4 class="font-bold text-violet-800 mb-3">制御されたコンポーネント</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">function Form() {
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    console.log({ name, email });
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        value={name}
        onChange={e => setName(e.target.value)}
      />
      <input
        type="email"
        value={email}
        onChange={e => setEmail(e.target.value)}
      />
      <button type="submit">送信</button>
    </form>
  );
}</code></pre>
                    </div>
                </div>

                <div class="bg-violet-50 border border-violet-200 rounded-lg p-4">
                    <h4 class="font-bold text-violet-800 mb-3">React Hook Form（推奨）</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">import { useForm } from 'react-hook-form';

function Form() {
  const { register, handleSubmit, formState: { errors } } = useForm();

  const onSubmit = (data: any) => {
    console.log(data);
  };

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <input {...register('name', { required: true })} />
      {errors.name && <span>必須項目です</span>}

      <input {...register('email', {
        pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i
      })} />
      <button type="submit">送信</button>
    </form>
  );
}</code></pre>
                    </div>
                    <p class="mt-2 text-xs text-violet-700">
                        <i class="fas fa-star mr-1"></i>高パフォーマンス・バリデーション簡単
                    </p>
                </div>
            </div>
        </section>

        <!-- データフェッチング -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-rose-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-download text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">データフェッチング</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-rose-50 border border-rose-200 rounded-lg p-4">
                    <h4 class="font-bold text-rose-800 mb-3">fetch + useEffect</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">function UserList() {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    fetch('/api/users')
      .then(res => res.json())
      .then(data => {
        setUsers(data);
        setLoading(false);
      })
      .catch(err => {
        setError(err.message);
        setLoading(false);
      });
  }, []);

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error}</div>;
  return <div>{/* ... */}</div>;
}</code></pre>
                    </div>
                </div>

                <div class="bg-rose-50 border border-rose-200 rounded-lg p-4">
                    <h4 class="font-bold text-rose-800 mb-3">TanStack Query（推奨）</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">import { useQuery } from '@tanstack/react-query';

function UserList() {
  const { data, isLoading, error } = useQuery({
    queryKey: ['users'],
    queryFn: () => fetch('/api/users').then(r => r.json())
  });

  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;

  return (
    <div>
      {data.map(user => (
        <UserCard key={user.id} user={user} />
      ))}
    </div>
  );
}</code></pre>
                    </div>
                    <p class="mt-2 text-xs text-rose-700">
                        <i class="fas fa-star mr-1"></i>キャッシング・再取得・並列処理が簡単
                    </p>
                </div>
            </div>
        </section>

        <!-- ルーティング（React Router） -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-route text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">ルーティング（React Router v6）</h3>
            </div>

            <div class="code-block-wrapper">
                <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                    <i class="fas fa-copy"></i>
                </button>
                <pre class="rounded-lg"><code class="language-typescript">import { BrowserRouter, Routes, Route, Link, useNavigate, useParams } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <nav>
        <Link to="/">ホーム</Link>
        <Link to="/about">About</Link>
        <Link to="/users/123">ユーザー詳細</Link>
      </nav>

      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
        <Route path="/users/:id" element={<UserDetail />} />
        <Route path="*" element={<NotFound />} />
      </Routes>
    </BrowserRouter>
  );
}

// パラメータ取得
function UserDetail() {
  const { id } = useParams<{ id: string }>();
  return <div>User ID: {id}</div>;
}

// プログラム的な遷移
function LoginForm() {
  const navigate = useNavigate();

  const handleLogin = () => {
    // ログイン処理後
    navigate('/dashboard');
  };

  return <button onClick={handleLogin}>ログイン</button>;
}</code></pre>
            </div>
        </section>

        <!-- パフォーマンス最適化 -->
        <section class="mt-6 bg-slate-800 rounded-xl shadow-sm p-6 text-white">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-amber-400 rounded-lg flex items-center justify-center">
                    <i class="fas fa-tachometer-alt text-slate-800"></i>
                </div>
                <h3 class="text-lg font-bold">パフォーマンス最適化のTips</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-bold text-amber-300 mb-2 flex items-center gap-2">
                        <i class="fas fa-memory"></i>React.memo
                    </h4>
                    <p class="text-sm text-slate-300 mb-2">不必要な再レンダーを防ぐ</p>
                    <code class="text-xs text-amber-200">const MemoComponent = React.memo(MyComponent);</code>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-bold text-amber-300 mb-2 flex items-center gap-2">
                        <i class="fas fa-layer-group"></i>コード分割
                    </h4>
                    <p class="text-sm text-slate-300 mb-2">遅延読み込みで初回ロード高速化</p>
                    <code class="text-xs text-amber-200">const LazyComponent = lazy(() => import('./Heavy'));</code>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-bold text-amber-300 mb-2 flex items-center gap-2">
                        <i class="fas fa-list"></i>仮想化
                    </h4>
                    <p class="text-sm text-slate-300 mb-2">大量リスト表示を高速化</p>
                    <code class="text-xs text-amber-200">react-window / react-virtualized</code>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-bold text-amber-300 mb-2 flex items-center gap-2">
                        <i class="fas fa-key"></i>key属性
                    </h4>
                    <p class="text-sm text-slate-300 mb-2">リスト要素の一意性を保証</p>
                    <code class="text-xs text-amber-200">key={item.id} // 安定した一意なID</code>
                </div>
            </div>
        </section>

        <!-- TypeScript型定義パターン -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                    <i class="fab fa-js-square text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">TypeScript型定義パターン</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-bold text-blue-800 mb-3">Props型定義</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// 基本
interface Props {
  title: string;
  count?: number; // オプショナル
  onSubmit: () => void;
}

// children
interface Props {
  children: React.ReactNode;
}

// ジェネリック
interface ListProps<T> {
  items: T[];
  renderItem: (item: T) => React.ReactNode;
}</code></pre>
                    </div>
                </div>

                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-bold text-blue-800 mb-3">State型定義</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// 基本型
const [count, setCount] = useState<number>(0);

// オブジェクト
interface User {
  id: number;
  name: string;
}
const [user, setUser] = useState<User | null>(null);

// 配列
const [users, setUsers] = useState<User[]>([]);

// Union型
const [status, setStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle');</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- よくあるパターン -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-lightbulb text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">実務でよく使うパターン</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-teal-50 border border-teal-200 rounded-lg p-4">
                    <h4 class="font-bold text-teal-800 mb-3">カスタムHooks</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// ローカルストレージ管理
function useLocalStorage<T>(key: string, initialValue: T) {
  const [value, setValue] = useState<T>(() => {
    const item = localStorage.getItem(key);
    return item ? JSON.parse(item) : initialValue;
  });

  useEffect(() => {
    localStorage.setItem(key, JSON.stringify(value));
  }, [key, value]);

  return [value, setValue] as const;
}

// 使用例
const [theme, setTheme] = useLocalStorage('theme', 'light');</code></pre>
                    </div>
                </div>

                <div class="bg-teal-50 border border-teal-200 rounded-lg p-4">
                    <h4 class="font-bold text-teal-800 mb-3">エラーバウンダリ</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-typescript">// クラスコンポーネントが必要
class ErrorBoundary extends React.Component<
  { children: React.ReactNode },
  { hasError: boolean }
> {
  state = { hasError: false };

  static getDerivedStateFromError() {
    return { hasError: true };
  }

  componentDidCatch(error: Error, info: React.ErrorInfo) {
    console.error('Error:', error, info);
  }

  render() {
    if (this.state.hasError) {
      return <h1>エラーが発生しました</h1>;
    }
    return this.props.children;
  }
}

// 使用
<ErrorBoundary>
  <App />
</ErrorBoundary></code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- 主要ライブラリ -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-plug text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">よく使うライブラリ</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <h4 class="font-bold text-slate-800 text-sm mb-1 flex items-center gap-2">
                        <i class="fas fa-route text-primary-500"></i>React Router
                    </h4>
                    <p class="text-xs text-slate-600">SPAのルーティング</p>
                </div>

                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <h4 class="font-bold text-slate-800 text-sm mb-1 flex items-center gap-2">
                        <i class="fas fa-database text-primary-500"></i>TanStack Query
                    </h4>
                    <p class="text-xs text-slate-600">データフェッチング・キャッシング</p>
                </div>

                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <h4 class="font-bold text-slate-800 text-sm mb-1 flex items-center gap-2">
                        <i class="fas fa-edit text-primary-500"></i>React Hook Form
                    </h4>
                    <p class="text-xs text-slate-600">高パフォーマンスフォーム管理</p>
                </div>

                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <h4 class="font-bold text-slate-800 text-sm mb-1 flex items-center gap-2">
                        <i class="fas fa-box text-primary-500"></i>Zustand / Jotai
                    </h4>
                    <p class="text-xs text-slate-600">軽量グローバル状態管理</p>
                </div>

                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <h4 class="font-bold text-slate-800 text-sm mb-1 flex items-center gap-2">
                        <i class="fas fa-paint-brush text-primary-500"></i>Tailwind CSS
                    </h4>
                    <p class="text-xs text-slate-600">ユーティリティファーストCSS</p>
                </div>

                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <h4 class="font-bold text-slate-800 text-sm mb-1 flex items-center gap-2">
                        <i class="fas fa-mobile-alt text-primary-500"></i>React Native
                    </h4>
                    <p class="text-xs text-slate-600">モバイルアプリ開発</p>
                </div>
            </div>
        </section>

        <!-- Next.jsとの違い -->
        <section class="mt-6 bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-slate-700 rounded-lg flex items-center justify-center">
                    <i class="fas fa-code-branch text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">React vs Next.js</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-white rounded-lg border border-primary-200 p-4">
                    <h4 class="font-bold text-primary-700 mb-3 flex items-center gap-2">
                        <i class="fab fa-react"></i>React
                    </h4>
                    <ul class="space-y-2 text-sm text-slate-700">
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-primary-500 mt-0.5"></i>
                            <span>UIライブラリ（軽量）</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-primary-500 mt-0.5"></i>
                            <span>CSR（クライアントサイドレンダリング）</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-primary-500 mt-0.5"></i>
                            <span>ルーティングはライブラリが必要</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-primary-500 mt-0.5"></i>
                            <span>学習コスト低、自由度高</span>
                        </li>
                    </ul>
                </div>

                <div class="bg-white rounded-lg border border-slate-300 p-4">
                    <h4 class="font-bold text-slate-700 mb-3 flex items-center gap-2">
                        <i class="fas fa-layer-group"></i>Next.js
                    </h4>
                    <ul class="space-y-2 text-sm text-slate-700">
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-emerald-500 mt-0.5"></i>
                            <span>フルスタックフレームワーク</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-emerald-500 mt-0.5"></i>
                            <span>SSR/SSG/ISR対応</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-emerald-500 mt-0.5"></i>
                            <span>ファイルベースルーティング内蔵</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-emerald-500 mt-0.5"></i>
                            <span>SEO最適化、パフォーマンス高</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="mt-4 bg-amber-50 border border-amber-200 rounded-lg p-3">
                <p class="text-sm text-amber-900">
                    <i class="fas fa-lightbulb text-amber-600 mr-2"></i>
                    <strong>推奨:</strong> Reactの基礎を習得後、本番環境ではNext.jsを検討すると良いでしょう。
                </p>
            </div>
        </section>

    </main>

    <!-- フッター -->
    <footer class="bg-slate-800 text-slate-300 mt-12 no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <p class="text-sm text-center">
                &copy; 2025 F-Circle. All rights reserved.<br>
                本資料はAIツールを活用し、人間による編集・監修のもと作成されています。
            </p>
        </div>
    </footer>
</body>
</html>
