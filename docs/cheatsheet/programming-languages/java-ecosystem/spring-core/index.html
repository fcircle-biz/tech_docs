<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Core チートシート</title>

    <!-- ダークモード早期適用（フラッシュ防止） -->
    <script src="main.js"></script>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#ecfdf5',
                            100: '#d1fae5',
                            200: '#a7f3d0',
                            300: '#6ee7b7',
                            400: '#34d399',
                            500: '#10b981',
                            600: '#059669',
                            700: '#047857',
                            800: '#065f46',
                            900: '#064e3b',
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans JP"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- カスタムスタイル -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="font-sans bg-slate-50 text-slate-800 antialiased">
    <!-- ヘッダー -->
    <header class="header-rich header-emerald text-white py-4 shadow-lg no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center backdrop-blur-sm border border-white/20">
                        <i class="fas fa-leaf text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">Spring Core チートシート</h1>
                        <p class="text-sm text-white/80">DIコンテナとBean管理の実践リファレンス</p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <!-- ダークモード切り替えボタン -->
                    <button id="dark-mode-toggle" class="w-10 h-10 flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 transition" title="ダークモード切り替え">
                        <i class="fas fa-moon dark-icon"></i>
                        <i class="fas fa-sun light-icon hidden"></i>
                    </button>
                    <!-- 印刷ボタン -->
                    <button onclick="window.print()" class="hidden md:flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition">
                        <i class="fas fa-print"></i>
                        <span>印刷</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- ============================================
             イントロセクション
             ============================================ -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8">
            <div class="flex items-start gap-4">
                <div class="flex-shrink-0 w-12 h-12 bg-primary-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-cube text-white text-xl"></i>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-slate-800 mb-2">Spring Coreとは？</h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        Spring CoreはSpring Frameworkの中核機能を提供するモジュールで、DI（依存性注入）コンテナとBean管理機能を中心に構成されています。アノテーションベースの設定により、疎結合で保守性の高いアプリケーション開発を実現します。
                    </p>
                    <!-- タグ -->
                    <div class="flex flex-wrap gap-2">
                        <span class="px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium">
                            <i class="fas fa-tag mr-1"></i>DI/IoC
                        </span>
                        <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium">
                            <i class="fas fa-tag mr-1"></i>Bean管理
                        </span>
                        <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium">
                            <i class="fas fa-tag mr-1"></i>アノテーション
                        </span>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             2カラムグリッドレイアウト
             ============================================ -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

            <!-- Bean定義 - @Component系 -->
            <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-cube text-white"></i>
                    </div>
                    <h3 class="text-lg font-bold text-slate-800">Bean定義 - @Component系</h3>
                </div>

                <div class="space-y-4">
                    <!-- @Component -->
                    <div class="bg-primary-50 border border-primary-200 rounded-lg p-3">
                        <p class="text-sm text-primary-800 font-medium mb-2">
                            <i class="fas fa-cube text-primary-500 mr-2"></i>
                            汎用コンポーネント
                        </p>
                        <div class="code-block-wrapper">
                            <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                                <i class="fas fa-copy"></i>
                            </button>
                            <pre class="rounded-lg"><code class="language-java">@Component
public class MyComponent {
    // DIコンテナに登録される
}</code></pre>
                        </div>
                    </div>

                    <!-- @Service -->
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                        <p class="text-sm text-blue-800 font-medium mb-2">
                            <i class="fas fa-cogs text-blue-500 mr-2"></i>
                            ビジネスロジック層
                        </p>
                        <div class="code-block-wrapper">
                            <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                                <i class="fas fa-copy"></i>
                            </button>
                            <pre class="rounded-lg"><code class="language-java">@Service
public class UserService {
    // サービス層のビジネスロジック
}</code></pre>
                        </div>
                    </div>

                    <!-- @Repository -->
                    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3">
                        <p class="text-sm text-indigo-800 font-medium mb-2">
                            <i class="fas fa-database text-indigo-500 mr-2"></i>
                            データアクセス層
                        </p>
                        <div class="code-block-wrapper">
                            <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                                <i class="fas fa-copy"></i>
                            </button>
                            <pre class="rounded-lg"><code class="language-java">@Repository
public class UserRepository {
    // DB例外変換が自動適用される
}</code></pre>
                        </div>
                    </div>

                    <!-- @Controller -->
                    <div class="bg-violet-50 border border-violet-200 rounded-lg p-3">
                        <p class="text-sm text-violet-800 font-medium mb-2">
                            <i class="fas fa-layer-group text-violet-500 mr-2"></i>
                            プレゼンテーション層
                        </p>
                        <div class="code-block-wrapper">
                            <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                                <i class="fas fa-copy"></i>
                            </button>
                            <pre class="rounded-lg"><code class="language-java">@Controller
public class UserController {
    // リクエストハンドラ
}</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 依存性注入 -->
            <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-10 h-10 bg-amber-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-syringe text-white"></i>
                    </div>
                    <h3 class="text-lg font-bold text-slate-800">依存性注入（DI）</h3>
                </div>

                <div class="space-y-4">
                    <!-- コンストラクタインジェクション（推奨） -->
                    <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-3">
                        <p class="text-sm text-emerald-800 font-medium mb-2">
                            <i class="fas fa-check-circle text-emerald-500 mr-2"></i>
                            コンストラクタ注入（推奨）
                        </p>
                        <div class="code-block-wrapper">
                            <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                                <i class="fas fa-copy"></i>
                            </button>
                            <pre class="rounded-lg"><code class="language-java">@Service
public class UserService {
    private final UserRepository repository;

    // @Autowired省略可（単一コンストラクタ）
    public UserService(UserRepository repository) {
        this.repository = repository;
    }
}</code></pre>
                        </div>
                        <p class="text-xs text-emerald-700 mt-2">
                            <i class="fas fa-lightbulb mr-1"></i>
                            不変性保証、テスト容易、循環依存検知
                        </p>
                    </div>

                    <!-- フィールドインジェクション -->
                    <div class="bg-amber-50 border border-amber-200 rounded-lg p-3">
                        <p class="text-sm text-amber-800 font-medium mb-2">
                            <i class="fas fa-exclamation-triangle text-amber-500 mr-2"></i>
                            フィールド注入（非推奨）
                        </p>
                        <div class="code-block-wrapper">
                            <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                                <i class="fas fa-copy"></i>
                            </button>
                            <pre class="rounded-lg"><code class="language-java">@Service
public class UserService {
    @Autowired
    private UserRepository repository;
    // テストが困難、循環依存検知不可
}</code></pre>
                        </div>
                    </div>

                    <!-- Setterインジェクション -->
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                        <p class="text-sm text-blue-800 font-medium mb-2">
                            <i class="fas fa-info-circle text-blue-500 mr-2"></i>
                            Setter注入（オプション依存時）
                        </p>
                        <div class="code-block-wrapper">
                            <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                                <i class="fas fa-copy"></i>
                            </button>
                            <pre class="rounded-lg"><code class="language-java">@Service
public class UserService {
    private CacheService cache;

    @Autowired(required = false)
    public void setCache(CacheService cache) {
        this.cache = cache;
    }
}</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bean Scope -->
            <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-layer-group text-white"></i>
                    </div>
                    <h3 class="text-lg font-bold text-slate-800">Bean Scope</h3>
                </div>

                <div class="grid grid-cols-2 gap-3 text-sm">
                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-3">
                        <p class="font-medium text-purple-800 mb-1">singleton（デフォルト）</p>
                        <code class="text-xs text-purple-700">@Scope("singleton")</code>
                        <p class="text-xs text-slate-600 mt-2">アプリ全体で1つのインスタンス</p>
                    </div>
                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-3">
                        <p class="font-medium text-purple-800 mb-1">prototype</p>
                        <code class="text-xs text-purple-700">@Scope("prototype")</code>
                        <p class="text-xs text-slate-600 mt-2">DI時に毎回新規作成</p>
                    </div>
                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-3">
                        <p class="font-medium text-purple-800 mb-1">request</p>
                        <code class="text-xs text-purple-700">@RequestScope</code>
                        <p class="text-xs text-slate-600 mt-2">HTTPリクエスト毎</p>
                    </div>
                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-3">
                        <p class="font-medium text-purple-800 mb-1">session</p>
                        <code class="text-xs text-purple-700">@SessionScope</code>
                        <p class="text-xs text-slate-600 mt-2">HTTPセッション毎</p>
                    </div>
                </div>

                <div class="mt-4 code-block-wrapper">
                    <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                        <i class="fas fa-copy"></i>
                    </button>
                    <pre class="rounded-lg"><code class="language-java">@Component
@Scope("prototype")
public class PrototypeBean {
    // 毎回新しいインスタンスが生成される
}</code></pre>
                </div>
            </section>

            <!-- Configuration -->
            <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-cog text-white"></i>
                    </div>
                    <h3 class="text-lg font-bold text-slate-800">@Configuration & @Bean</h3>
                </div>

                <div class="space-y-4">
                    <div class="bg-orange-50 border border-orange-200 rounded-lg p-3">
                        <p class="text-sm text-orange-800 font-medium mb-2">
                            <i class="fas fa-wrench text-orange-500 mr-2"></i>
                            Javaベース設定
                        </p>
                        <div class="code-block-wrapper">
                            <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                                <i class="fas fa-copy"></i>
                            </button>
                            <pre class="rounded-lg"><code class="language-java">@Configuration
public class AppConfig {

    @Bean
    public DataSource dataSource() {
        return new HikariDataSource();
    }

    @Bean
    public JdbcTemplate jdbcTemplate(DataSource ds) {
        return new JdbcTemplate(ds);
    }
}</code></pre>
                        </div>
                    </div>

                    <div class="text-sm text-slate-600 space-y-1">
                        <p><span class="text-orange-600 font-medium">●</span> サードパーティライブラリのBean化</p>
                        <p><span class="text-orange-600 font-medium">●</span> 複雑な初期化ロジック</p>
                        <p><span class="text-orange-600 font-medium">●</span> 条件付きBean生成（@Conditional）</p>
                    </div>
                </div>
            </section>

        </div>

        <!-- ============================================
             ライフサイクルコールバック
             ============================================ -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-sync-alt text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">Beanライフサイクルコールバック</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- @PostConstruct -->
                <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-4">
                    <h4 class="font-bold text-emerald-800 mb-3 flex items-center gap-2">
                        <i class="fas fa-play-circle"></i>初期化時
                    </h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-java">@PostConstruct
public void init() {
    // DI完了後に実行
    logger.info("初期化");
}</code></pre>
                    </div>
                </div>

                <!-- @PreDestroy -->
                <div class="bg-amber-50 border border-amber-200 rounded-lg p-4">
                    <h4 class="font-bold text-amber-800 mb-3 flex items-center gap-2">
                        <i class="fas fa-stop-circle"></i>破棄前
                    </h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-java">@PreDestroy
public void cleanup() {
    // Bean破棄前に実行
    pool.shutdown();
}</code></pre>
                    </div>
                </div>

                <!-- InitializingBean/DisposableBean -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-bold text-blue-800 mb-3 flex items-center gap-2">
                        <i class="fas fa-interface"></i>インターフェース方式
                    </h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-java">public class MyBean
    implements InitializingBean {

    @Override
    public void afterPropertiesSet() {
        // 初期化処理
    }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             よく使うパターン
             ============================================ -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-violet-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-magic text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">よく使うパターン</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- @Qualifier -->
                <div class="bg-violet-50 border border-violet-200 rounded-lg p-4">
                    <h4 class="font-bold text-violet-800 mb-3">@Qualifier - Bean選択</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-java">@Service
public class UserService {
    private final DataSource dataSource;

    public UserService(
        @Qualifier("mainDB") DataSource ds) {
        this.dataSource = ds;
    }
}</code></pre>
                    </div>
                    <p class="text-xs text-violet-700 mt-2">
                        <i class="fas fa-info-circle mr-1"></i>
                        同一型のBeanが複数ある場合に使用
                    </p>
                </div>

                <!-- @Primary -->
                <div class="bg-violet-50 border border-violet-200 rounded-lg p-4">
                    <h4 class="font-bold text-violet-800 mb-3">@Primary - デフォルト指定</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-java">@Configuration
public class DataSourceConfig {

    @Bean
    @Primary  // デフォルトとして使用
    public DataSource mainDB() {
        return new HikariDataSource();
    }

    @Bean
    public DataSource subDB() {
        return new HikariDataSource();
    }
}</code></pre>
                    </div>
                </div>

                <!-- @Value -->
                <div class="bg-violet-50 border border-violet-200 rounded-lg p-4">
                    <h4 class="font-bold text-violet-800 mb-3">@Value - プロパティ注入</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-java">@Component
public class AppConfig {

    @Value("${app.name}")
    private String appName;

    @Value("${db.timeout:30}")
    private int timeout;  // デフォルト値30
}</code></pre>
                    </div>
                </div>

                <!-- @Lazy -->
                <div class="bg-violet-50 border border-violet-200 rounded-lg p-4">
                    <h4 class="font-bold text-violet-800 mb-3">@Lazy - 遅延初期化</h4>
                    <div class="code-block-wrapper">
                        <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                            <i class="fas fa-copy"></i>
                        </button>
                        <pre class="rounded-lg text-sm"><code class="language-java">@Component
@Lazy  // 初回使用時に初期化
public class HeavyComponent {
    public HeavyComponent() {
        // 重い初期化処理
    }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             ComponentScan
             ============================================ -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-search text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">@ComponentScan</h3>
            </div>

            <div class="space-y-4">
                <div class="code-block-wrapper">
                    <button onclick="copyCode(this)" class="copy-btn px-2 py-1 bg-slate-600 hover:bg-slate-500 text-white text-xs rounded transition">
                        <i class="fas fa-copy"></i>
                    </button>
                    <pre class="rounded-lg"><code class="language-java">@Configuration
@ComponentScan(
    basePackages = {"com.example.service", "com.example.repository"},
    excludeFilters = @ComponentScan.Filter(
        type = FilterType.ANNOTATION,
        classes = ExcludeFromScan.class
    )
)
public class AppConfig {
    // 指定パッケージ配下の@Component系を自動検出
}</code></pre>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3">
                        <p class="font-medium text-indigo-800 mb-1">basePackages</p>
                        <p class="text-xs text-slate-600">スキャン対象パッケージを指定</p>
                    </div>
                    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3">
                        <p class="font-medium text-indigo-800 mb-1">excludeFilters</p>
                        <p class="text-xs text-slate-600">特定のクラスを除外</p>
                    </div>
                    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3">
                        <p class="font-medium text-indigo-800 mb-1">includeFilters</p>
                        <p class="text-xs text-slate-600">追加で含めるクラス</p>
                    </div>
                    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3">
                        <p class="font-medium text-indigo-800 mb-1">lazyInit</p>
                        <p class="text-xs text-slate-600">遅延初期化を一括指定</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ============================================
             実務で役立つTips
             ============================================ -->
        <section class="mt-6 bg-slate-800 rounded-xl shadow-sm p-6 text-white">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-amber-400 rounded-lg flex items-center justify-center">
                    <i class="fas fa-star text-slate-800"></i>
                </div>
                <h3 class="text-lg font-bold">実務で役立つTips</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-bold text-amber-300 mb-2 flex items-center gap-2">
                        <i class="fas fa-bolt"></i>コンストラクタDI優先
                    </h4>
                    <p class="text-sm text-slate-300">不変性を保証し、テストが容易。フィールドインジェクションは避ける。</p>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-bold text-amber-300 mb-2 flex items-center gap-2">
                        <i class="fas fa-exclamation-triangle"></i>循環依存に注意
                    </h4>
                    <p class="text-sm text-slate-300">A→B→Aのような相互依存は設計の見直しが必要。@Lazyで回避も可能。</p>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-bold text-amber-300 mb-2 flex items-center gap-2">
                        <i class="fas fa-layer-group"></i>適切なスコープ選択
                    </h4>
                    <p class="text-sm text-slate-300">デフォルトのsingletonで十分なケースがほとんど。prototypeは慎重に。</p>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-bold text-amber-300 mb-2 flex items-center gap-2">
                        <i class="fas fa-check-double"></i>Bean名の競合回避
                    </h4>
                    <p class="text-sm text-slate-300">@Component("beanName")で明示的に名前を指定。@Primaryや@Qualifierを活用。</p>
                </div>
            </div>
        </section>

        <!-- ============================================
             処理フロー - Beanライフサイクル
             ============================================ -->
        <section class="mt-6 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center">
                    <i class="fas fa-list-ol text-white"></i>
                </div>
                <h3 class="text-lg font-bold text-slate-800">Beanライフサイクル処理フロー</h3>
            </div>

            <div class="flex flex-wrap items-center justify-center gap-2 md:gap-3">
                <div class="flex items-center gap-2 bg-teal-100 px-3 py-2 rounded-lg">
                    <span class="w-6 h-6 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">1</span>
                    <span class="font-mono font-bold text-teal-800 text-sm">Bean生成</span>
                </div>
                <i class="fas fa-chevron-right text-teal-400 hidden md:block"></i>
                <div class="flex items-center gap-2 bg-teal-100 px-3 py-2 rounded-lg">
                    <span class="w-6 h-6 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">2</span>
                    <span class="font-mono font-bold text-teal-800 text-sm">依存性注入</span>
                </div>
                <i class="fas fa-chevron-right text-teal-400 hidden md:block"></i>
                <div class="flex items-center gap-2 bg-teal-100 px-3 py-2 rounded-lg">
                    <span class="w-6 h-6 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">3</span>
                    <span class="font-mono font-bold text-teal-800 text-sm">@PostConstruct</span>
                </div>
                <i class="fas fa-chevron-right text-teal-400 hidden md:block"></i>
                <div class="flex items-center gap-2 bg-teal-100 px-3 py-2 rounded-lg">
                    <span class="w-6 h-6 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">4</span>
                    <span class="font-mono font-bold text-teal-800 text-sm">使用可能</span>
                </div>
                <i class="fas fa-chevron-right text-teal-400 hidden md:block"></i>
                <div class="flex items-center gap-2 bg-teal-100 px-3 py-2 rounded-lg">
                    <span class="w-6 h-6 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">5</span>
                    <span class="font-mono font-bold text-teal-800 text-sm">@PreDestroy</span>
                </div>
            </div>

            <p class="text-center text-sm text-slate-500 mt-4">
                <i class="fas fa-info-circle mr-1"></i>
                コンテナ起動時にBeanが生成され、停止時に破棄される（singletonスコープ）
            </p>
        </section>

    </main>

    <!-- フッター -->
    <footer class="bg-slate-800 text-slate-300 mt-12 no-print">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <p class="text-sm text-center">
                &copy; 2025 F-Circle. All rights reserved.<br>
                本資料はAIツールを活用し、人間による編集・監修のもと作成されています。
            </p>
        </div>
    </footer>
</body>
</html>
