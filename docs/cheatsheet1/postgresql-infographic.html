<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PostgreSQLå…¥é–€å‘ã‘ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=BIZ+UDPGothic:wght@400;700&display=swap');

        :root {
            --fashion-1: #593C47;
            --fashion-2: #F2E63D;
            --fashion-3: #F2C53D;
            --fashion-4: #F25C05;
            --fashion-5: #F24405;
            --text-main: #333333;
            --text-heading: #222222;
            --text-subheading: #444444;
            --bg-main: #f8fafc;
            --card-bg: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-main);
            line-height: 1.6;
            padding: 0;
            font-size: 16px;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
            padding-bottom: 1rem;
            border-bottom: 3px solid var(--fashion-4);
        }

        h1 {
            font-family: 'BIZ UDPGothic', sans-serif;
            font-size: 32px;
            font-weight: 700;
            color: var(--fashion-1);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 18px;
            color: var(--text-subheading);
            margin-bottom: 1rem;
        }

        .date-source {
            font-size: 16px;
            color: var(--text-subheading);
            margin-top: 1rem;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            position: relative;
            overflow: hidden;
            height: 100%;
            border-left: 5px solid var(--fashion-4);
        }

        h2 {
            font-family: 'BIZ UDPGothic', sans-serif;
            font-size: 24px;
            color: var(--fashion-1);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--fashion-3);
        }

        h3 {
            font-family: 'BIZ UDPGothic', sans-serif;
            font-size: 20px;
            color: var(--text-heading);
            margin: 1.5rem 0 1rem;
            background-color: #f0f0f0;
            padding: 0.5rem;
            border-radius: 4px;
        }

        p {
            font-size: 16px;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .highlight {
            font-weight: 700;
            background: linear-gradient(transparent 60%, var(--fashion-2) 60%);
            padding: 0 2px;
        }

        .code-block {
            font-family: monospace;
            font-size: 15px;
            background-color: #f1f5f9;
            border-left: 3px solid var(--fashion-4);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .icon-list {
            list-style: none;
            margin: 1rem 0;
        }

        .icon-list li {
            position: relative;
            padding-left: 1.75rem;
            margin-bottom: 0.75rem;
            font-size: 16px;
        }

        .icon-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            top: 0;
            color: var(--fashion-4);
            font-weight: bold;
        }

        .info-icon::before {
            content: 'â„¹ï¸';
        }

        .warning-icon::before {
            content: 'âš ï¸';
        }

        .feature-tag {
            display: inline-block;
            background-color: var(--fashion-3);
            color: var(--fashion-1);
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 14px;
            margin-right: 0.75rem;
            margin-bottom: 0.75rem;
            font-weight: 700;
        }

        .note-bubble {
            background-color: #fffbeb;
            border: 2px solid var(--fashion-3);
            border-radius: 12px;
            padding: 1rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .note-bubble::before {
            content: "ğŸ’¡";
            position: absolute;
            top: -12px;
            left: 12px;
            background: white;
            padding: 0 5px;
            font-size: 16px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 15px;
        }

        table th {
            background-color: var(--fashion-1);
            color: white;
            padding: 0.75rem;
            text-align: left;
        }

        table td {
            border: 1px solid #e2e8f0;
            padding: 0.75rem;
        }

        table tr:nth-child(even) {
            background-color: #f8fafc;
        }

        footer {
            margin-top: 3rem;
            text-align: center;
            padding: 1.5rem;
            border-top: 1px solid #e2e8f0;
            font-size: 14px;
            color: var(--text-subheading);
        }

        .section-divider {
            text-align: center;
            margin: 2rem 0;
            font-size: 24px;
            color: var(--fashion-4);
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 900px) {
            .grid-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 28px;
            }
            
            h2 {
                font-size: 22px;
            }
            
            h3 {
                font-size: 18px;
            }
            
            .container {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>PostgreSQLå…¥é–€å‘ã‘ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ</h1>
            <div class="subtitle">ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®é«˜æ©Ÿèƒ½ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </div>
            <div class="date-source">
                <p>ä½œæˆæ—¥: 2025å¹´3æœˆ30æ—¥ | F-Circle ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æŠ€è¡“éƒ¨</p>
            </div>
        </header>

        <div class="grid-container">
            <!-- åŸºæœ¬æƒ…å ± -->
            <div class="card">
                <h2>PostgreSQLã¨ã¯</h2>
                <p>PostgreSQLï¼ˆãƒã‚¹ãƒˆã‚°ãƒ¬ã‚¹ã‚­ãƒ¥ãƒ¼ã‚¨ãƒ«ï¼‰ã¯ã€<span class="highlight">æ‹¡å¼µæ€§ã¨æ¨™æº–SQLæº–æ‹ </span>ã«å„ªã‚ŒãŸã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆRDBMSï¼‰ã§ã™ã€‚</p>
                
                <h3>ä¸»ãªç‰¹å¾´</h3>
                <ul class="icon-list">
                    <li>30å¹´ä»¥ä¸Šã®é–‹ç™ºå®Ÿç¸¾ã‚’æŒã¤å®‰å®šæ€§</li>
                    <li>ACIDæº–æ‹ ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†</li>
                    <li>JSONã€é…åˆ—ãªã©ã®é«˜åº¦ãªãƒ‡ãƒ¼ã‚¿å‹</li>
                    <li>ãƒ†ãƒ¼ãƒ–ãƒ«ç¶™æ‰¿ã‚„ãƒãƒ†ãƒªã‚¢ãƒ©ã‚¤ã‚ºãƒ‰ãƒ“ãƒ¥ãƒ¼</li>
                    <li>ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ä¸»å°ã®æ´»ç™ºãªé–‹ç™º</li>
                </ul>

                <div class="note-bubble">
                    <p>PostgreSQLã¯ã€Œãƒã‚¹ã‚°ãƒ¬ã€ã‚„ã€Œãƒã‚¹ã‚°ãƒ¬SQLã€ã¨çŸ­ç¸®ã—ã¦å‘¼ã°ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚æ­£å¼ãªç™ºéŸ³ã¯ã€Œãƒã‚¹ãƒˆã‚°ãƒ¬ã‚¹ãƒ»ã‚­ãƒ¥ãƒ¼ãƒ»ã‚¨ãƒ«ã€ã§ã™ã€‚</p>
                </div>

                <div style="margin-top: 1.5rem;">
                    <div class="feature-tag">ç„¡æ–™</div>
                    <div class="feature-tag">ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹</div>
                    <div class="feature-tag">ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </div>
                    <div class="feature-tag">ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œ</div>
                </div>
            </div>

            <!-- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®š -->
            <div class="card">
                <h2>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®š</h2>
                
                <h3>ä¸»è¦OSã§ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>
                <div class="code-block">
# Ubuntu/Debian
$ sudo apt update
$ sudo apt install postgresql postgresql-contrib

# macOS (Homebrew)
$ brew install postgresql

# Windows
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å®Ÿè¡Œ
# https://www.postgresql.org/download/windows/</div>

                <h3>åŸºæœ¬çš„ãªè¨­å®š</h3>
                <p>PostgreSQLã¯<span class="highlight">postgresql.conf</span>ã¨<span class="highlight">pg_hba.conf</span>ã®2ã¤ã®ä¸»è¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
                
                <ul class="icon-list">
                    <li class="info-icon">postgresql.conf: ãƒ¡ãƒ¢ãƒªã€æ¥ç¶šæ•°ãªã©ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š</li>
                    <li class="info-icon">pg_hba.conf: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèªè¨¼ãƒãƒªã‚·ãƒ¼ã®è¨­å®š</li>
                </ul>
            </div>

            <!-- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ -->
            <div class="card">
                <h2>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ</h2>
                
                <h3>åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰</h3>
                <div class="code-block">
# PostgreSQLã‚µãƒ¼ãƒ“ã‚¹ã®é–‹å§‹/åœæ­¢
$ sudo systemctl start postgresql
$ sudo systemctl stop postgresql

# PostgreSQLã«æ¥ç¶š
$ psql -U ãƒ¦ãƒ¼ã‚¶ãƒ¼å -d ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®postgresãƒ¦ãƒ¼ã‚¶ãƒ¼ã§æ¥ç¶š
$ sudo -u postgres psql</div>

                <h3>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†</h3>
                <div class="code-block">
-- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€è¦§è¡¨ç¤º
\l ã¾ãŸã¯ \list

-- æ–°è¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
CREATE DATABASE ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å;

-- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å‰Šé™¤
DROP DATABASE ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å;

-- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ‡ã‚Šæ›¿ãˆ
\c ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å</div>

                <div class="note-bubble">
                    <p>åˆã‚ã¦PostgreSQLã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå ´åˆã€<span class="highlight">postgres</span>ã¨ã„ã†åå‰ã®ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒè‡ªå‹•çš„ã«ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
                </div>
            </div>

            <!-- ãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œ -->
            <div class="card">
                <h2>ãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œ</h2>
                
                <h3>ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ</h3>
                <div class="code-block">
CREATE TABLE ç¤¾å“¡ (
  ç¤¾å“¡ID SERIAL PRIMARY KEY,
  æ°å VARCHAR(100) NOT NULL,
  ãƒ¡ãƒ¼ãƒ« VARCHAR(255) UNIQUE,
  éƒ¨ç½²ID INTEGER REFERENCES éƒ¨ç½²(éƒ¨ç½²ID),
  å…¥ç¤¾æ—¥ DATE,
  çµ¦ä¸ NUMERIC(10,2)
);</div>

                <h3>ãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œã‚³ãƒãƒ³ãƒ‰</h3>
                <div class="code-block">
-- ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§è¡¨ç¤º
\dt

-- ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ è¡¨ç¤º
\d ãƒ†ãƒ¼ãƒ–ãƒ«å

-- ãƒ†ãƒ¼ãƒ–ãƒ«å¤‰æ›´
ALTER TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å ADD COLUMN åˆ—å ãƒ‡ãƒ¼ã‚¿å‹;
ALTER TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å DROP COLUMN åˆ—å;
ALTER TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å RENAME TO æ–°ãƒ†ãƒ¼ãƒ–ãƒ«å;

-- ãƒ†ãƒ¼ãƒ–ãƒ«å‰Šé™¤
DROP TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å;</div>
            </div>

            <!-- ãƒ‡ãƒ¼ã‚¿æ“ä½œ -->
            <div class="card">
                <h2>ãƒ‡ãƒ¼ã‚¿æ“ä½œ (CRUD)</h2>
                
                <h3>CREATE - ãƒ‡ãƒ¼ã‚¿æŒ¿å…¥</h3>
                <div class="code-block">
-- å˜ä¸€è¡ŒæŒ¿å…¥
INSERT INTO ç¤¾å“¡ (æ°å, ãƒ¡ãƒ¼ãƒ«, éƒ¨ç½²ID, å…¥ç¤¾æ—¥, çµ¦ä¸)
VALUES ('å±±ç”°å¤ªéƒ', 'yamada@example.com', 1, '2022-04-01', 350000);

-- è¤‡æ•°è¡ŒæŒ¿å…¥
INSERT INTO ç¤¾å“¡ (æ°å, ãƒ¡ãƒ¼ãƒ«, éƒ¨ç½²ID)
VALUES
  ('ä½è—¤èŠ±å­', 'sato@example.com', 2),
  ('éˆ´æœ¨ä¸€éƒ', 'suzuki@example.com', 1);</div>

                <h3>READ - ãƒ‡ãƒ¼ã‚¿å–å¾—</h3>
                <div class="code-block">
-- å…¨ä»¶å–å¾—
SELECT * FROM ç¤¾å“¡;

-- æ¡ä»¶ä»˜ãå–å¾—
SELECT ç¤¾å“¡ID, æ°å, çµ¦ä¸ FROM ç¤¾å“¡
WHERE éƒ¨ç½²ID = 1
ORDER BY çµ¦ä¸ DESC
LIMIT 10;

-- é›†è¨ˆé–¢æ•°
SELECT éƒ¨ç½²ID, COUNT(*), AVG(çµ¦ä¸) FROM ç¤¾å“¡
GROUP BY éƒ¨ç½²ID
HAVING COUNT(*) > 5;</div>

                <h3>UPDATE - ãƒ‡ãƒ¼ã‚¿æ›´æ–°</h3>
                <div class="code-block">
UPDATE ç¤¾å“¡
SET çµ¦ä¸ = çµ¦ä¸ * 1.1
WHERE éƒ¨ç½²ID = 2;</div>

                <h3>DELETE - ãƒ‡ãƒ¼ã‚¿å‰Šé™¤</h3>
                <div class="code-block">
DELETE FROM ç¤¾å“¡ WHERE å…¥ç¤¾æ—¥ < '2010-01-01';</div>
            </div>

            <!-- ãƒ‡ãƒ¼ã‚¿å‹ -->
            <div class="card">
                <h2>ä¸»è¦ãƒ‡ãƒ¼ã‚¿å‹</h2>
                
                <table>
                    <tr>
                        <th>ã‚«ãƒ†ã‚´ãƒª</th>
                        <th>ãƒ‡ãƒ¼ã‚¿å‹</th>
                        <th>èª¬æ˜</th>
                    </tr>
                    <tr>
                        <td rowspan="3">æ•°å€¤å‹</td>
                        <td>INTEGER</td>
                        <td>é€šå¸¸ã®æ•´æ•° (-2147483648 ã€œ 2147483647)</td>
                    </tr>
                    <tr>
                        <td>BIGINT</td>
                        <td>å¤§ããªæ•´æ•° (8ãƒã‚¤ãƒˆ)</td>
                    </tr>
                    <tr>
                        <td>NUMERIC(p,s)</td>
                        <td>ç²¾åº¦pã¨å°æ•°ç‚¹ä»¥ä¸‹æ¡æ•°sã®10é€²æ•°</td>
                    </tr>
                    <tr>
                        <td rowspan="2">æ–‡å­—å‹</td>
                        <td>VARCHAR(n)</td>
                        <td>å¯å¤‰é•·æ–‡å­—åˆ— (æœ€å¤§næ–‡å­—)</td>
                    </tr>
                    <tr>
                        <td>TEXT</td>
                        <td>ç„¡åˆ¶é™é•·ã®ãƒ†ã‚­ã‚¹ãƒˆ</td>
                    </tr>
                    <tr>
                        <td rowspan="3">æ—¥ä»˜/æ™‚åˆ»å‹</td>
                        <td>DATE</td>
                        <td>æ—¥ä»˜ (å¹´, æœˆ, æ—¥)</td>
                    </tr>
                    <tr>
                        <td>TIME</td>
                        <td>æ™‚åˆ» (æ™‚, åˆ†, ç§’)</td>
                    </tr>
                    <tr>
                        <td>TIMESTAMP</td>
                        <td>æ—¥ä»˜ã¨æ™‚åˆ»</td>
                    </tr>
                    <tr>
                        <td rowspan="2">è«–ç†å‹</td>
                        <td>BOOLEAN</td>
                        <td>çœŸ/å½</td>
                    </tr>
                    <tr>
                        <td>ENUM</td>
                        <td>åˆ—æŒ™å‹ (ç‹¬è‡ªå®šç¾©)</td>
                    </tr>
                    <tr>
                        <td rowspan="3">ç‰¹æ®Šå‹</td>
                        <td>UUID</td>
                        <td>æ±ç”¨ä¸€æ„è­˜åˆ¥å­</td>
                    </tr>
                    <tr>
                        <td>JSON/JSONB</td>
                        <td>JSONå½¢å¼ãƒ‡ãƒ¼ã‚¿</td>
                    </tr>
                    <tr>
                        <td>ARRAY</td>
                        <td>é…åˆ—å‹</td>
                    </tr>
                </table>

                <div class="note-bubble">
                    <p>PostgreSQLã®<span class="highlight">JSONBå‹</span>ã¯JSONã®å†…éƒ¨è¡¨ç¾ã‚’æœ€é©åŒ–ã—ã¦é«˜é€Ÿãªæ¤œç´¢ã‚’å®Ÿç¾ã—ã¾ã™ã€‚JSONå‹ã‚ˆã‚Šã‚‚JSONBå‹ã®ä½¿ç”¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
                </div>
            </div>

            <!-- åˆ¶ç´„ -->
            <div class="card">
                <h2>åˆ¶ç´„</h2>
                
                <h3>ä¸»è¦ãªåˆ¶ç´„</h3>
                <ul class="icon-list">
                    <li><span class="highlight">PRIMARY KEY</span>: ä¸»ã‚­ãƒ¼åˆ¶ç´„ (ä¸€æ„æ€§+NOT NULL)</li>
                    <li><span class="highlight">FOREIGN KEY</span>: å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ (å‚ç…§æ•´åˆæ€§)</li>
                    <li><span class="highlight">UNIQUE</span>: ä¸€æ„æ€§åˆ¶ç´„</li>
                    <li><span class="highlight">NOT NULL</span>: NULLå€¤ç¦æ­¢</li>
                    <li><span class="highlight">CHECK</span>: å€¤ã®ãƒã‚§ãƒƒã‚¯æ¡ä»¶</li>
                    <li><span class="highlight">DEFAULT</span>: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤</li>
                </ul>

                <h3>åˆ¶ç´„ã®ä½¿ç”¨ä¾‹</h3>
                <div class="code-block">
CREATE TABLE å•†å“ (
  å•†å“ID UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  å•†å“å VARCHAR(100) NOT NULL,
  ä¾¡æ ¼ NUMERIC(10,2) CHECK (ä¾¡æ ¼ > 0),
  ã‚«ãƒ†ã‚´ãƒªID INTEGER REFERENCES ã‚«ãƒ†ã‚´ãƒª(ã‚«ãƒ†ã‚´ãƒªID),
  SKUã‚³ãƒ¼ãƒ‰ VARCHAR(50) UNIQUE,
  ç™»éŒ²æ—¥ TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  åœ¨åº«æ•° INTEGER DEFAULT 0 NOT NULL
);</div>

                <h3>å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h3>
                <div class="code-block">
FOREIGN KEY (ã‚«ãƒ†ã‚´ãƒªID) REFERENCES ã‚«ãƒ†ã‚´ãƒª(ã‚«ãƒ†ã‚´ãƒªID)
ON DELETE CASCADE -- è¦ªãƒ¬ã‚³ãƒ¼ãƒ‰å‰Šé™¤æ™‚ã«å­ã‚‚å‰Šé™¤
ON UPDATE CASCADE -- è¦ªã‚­ãƒ¼æ›´æ–°æ™‚ã«å­ã‚‚æ›´æ–°</div>
            </div>

            <!-- é«˜åº¦ãªæ©Ÿèƒ½ -->
            <div class="card">
                <h2>é«˜åº¦ãªæ©Ÿèƒ½</h2>
                
                <h3>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹</h3>
                <div class="code-block">
-- B-treeã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ (æ¨™æº–)
CREATE INDEX idx_ç¤¾å“¡_æ°å ON ç¤¾å“¡(æ°å);

-- è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_ç¤¾å“¡_éƒ¨ç½²_å…¥ç¤¾æ—¥ ON ç¤¾å“¡(éƒ¨ç½²ID, å…¥ç¤¾æ—¥);

-- éƒ¨åˆ†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_é«˜é¡çµ¦ä¸ç¤¾å“¡ ON ç¤¾å“¡(çµ¦ä¸)
WHERE çµ¦ä¸ > 500000;</div>

                <h3>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³</h3>
                <div class="code-block">
BEGIN;
UPDATE å£åº§ SET æ®‹é«˜ = æ®‹é«˜ - 10000 WHERE å£åº§ç•ªå· = '1001';
UPDATE å£åº§ SET æ®‹é«˜ = æ®‹é«˜ + 10000 WHERE å£åº§ç•ªå· = '1002';
COMMIT;  -- ã¾ãŸã¯ ROLLBACK;</div>

                <h3>ãƒ“ãƒ¥ãƒ¼ã¨ãƒãƒ†ãƒªã‚¢ãƒ©ã‚¤ã‚ºãƒ‰ãƒ“ãƒ¥ãƒ¼</h3>
                <div class="code-block">
-- é€šå¸¸ãƒ“ãƒ¥ãƒ¼ (ä»®æƒ³ãƒ†ãƒ¼ãƒ–ãƒ«)
CREATE VIEW éƒ¨ç½²åˆ¥çµ¦ä¸æ¦‚è¦ AS
SELECT éƒ¨ç½².éƒ¨ç½²å, COUNT(*) AS ç¤¾å“¡æ•°,
  AVG(ç¤¾å“¡.çµ¦ä¸) AS å¹³å‡çµ¦ä¸
FROM ç¤¾å“¡
JOIN éƒ¨ç½² ON ç¤¾å“¡.éƒ¨ç½²ID = éƒ¨ç½².éƒ¨ç½²ID
GROUP BY éƒ¨ç½².éƒ¨ç½²å;</div>
            </div>

            <!-- ã‚³ãƒãƒ³ãƒ‰å‚ç…§ -->
            <div class="card">
                <h2>ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰</h2>
                
                <h3>psqlã‚³ãƒãƒ³ãƒ‰ (ãƒ¡ã‚¿ã‚³ãƒãƒ³ãƒ‰)</h3>
                <ul class="icon-list">
                    <li><span class="highlight">\?</span>: psqlã‚³ãƒãƒ³ãƒ‰ã®ãƒ˜ãƒ«ãƒ—</li>
                    <li><span class="highlight">\h</span>: SQLã‚³ãƒãƒ³ãƒ‰ã®ãƒ˜ãƒ«ãƒ—</li>
                    <li><span class="highlight">\l</span>: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€è¦§</li>
                    <li><span class="highlight">\c DBå</span>: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š</li>
                    <li><span class="highlight">\d</span>: ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§</li>
                    <li><span class="highlight">\d ãƒ†ãƒ¼ãƒ–ãƒ«å</span>: ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ç¢ºèª</li>
                    <li><span class="highlight">\du</span>: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§</li>
                    <li><span class="highlight">\q</span>: psqlçµ‚äº†</li>
                </ul>

                <h3>ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨å¾©å…ƒ</h3>
                <div class="code-block">
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
$ pg_dump -U ãƒ¦ãƒ¼ã‚¶ãƒ¼å -F c -b -v -f backup.dump ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å¾©å…ƒ
$ pg_restore -U ãƒ¦ãƒ¼ã‚¶ãƒ¼å -d ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å backup.dump</div>
            </div>
        </div>

        <footer>
            <p>Copyright Â© 2025 F-Circle All rights reserved.</p>
        </footer>
    </div>
</body>
</html>
