<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASP.NET Core (VB.NET)学習教材 第7章 - Web APIの開発</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ナビゲーション */
        .navbar {
            background-color: #663399;
        }

        /* サイドバー */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        /* タイトル */
        .chapter-title {
            color: #663399;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #663399;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #8e44ad;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* コンテンツボックス */
        .quiz-container {
            background-color: #f8f4fc;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #663399;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        /* コードハイライト */
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* ナビゲーション */
        .nav-link.active {
            background-color: #663399 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>ASP.NET Core (VB.NET)学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-01.html">第1章: ASP.NET Core入門と開発環境構築</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-02.html">第2章: MVCアーキテクチャの基礎</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-03.html">第3章: Razorビューとレイアウト</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-04.html">第4章: モデルバインディングとバリデーション</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-05.html">第5章: 依存性注入とミドルウェア</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-06.html">第6章: Entity Framework Coreとデータアクセス</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="aspnetcore-vb-learning-material-07.html">第7章: Web APIの開発</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-08.html">第8章: 認証と認可</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-09.html">第9章: 状態管理とキャッシング</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aspnetcore-vb-learning-material-10.html">第10章: 実践的なWebアプリケーション開発</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第7章: Web APIの開発</h1>
                </div>

                <div id="chapter7">
                    <h2 class="chapter-title">RESTful Web APIの設計と実装</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>RESTful APIの設計原則と基本概念</li>
                            <li>VB.NETでのAPIコントローラーの作成方法</li>
                            <li>JSON形式でのデータ交換の実装</li>
                            <li>Swagger/OpenAPIの統合によるAPI仕様書の自動生成</li>
                            <li>CORSの設定とクロスオリジンリクエストの制御</li>
                            <li>APIのエラーハンドリングとステータスコード管理</li>
                        </ul>
                    </div>

                    <h3 class="section-title">7.1 RESTful APIの基本概念</h3>
                    <p>
                        REST（Representational State Transfer）は、Webサービス設計のアーキテクチャスタイルです。RESTful APIは、HTTPプロトコルの標準的な機能を利用して、リソース指向の設計でシステム間の通信を行います。
                    </p>

                    <p><strong>RESTの基本原則：</strong></p>
                    <ul>
                        <li><strong>リソース指向：</strong>URLでリソースを識別（例：/api/users/123）</li>
                        <li><strong>HTTPメソッドの利用：</strong>GET（取得）、POST（作成）、PUT（更新）、DELETE（削除）</li>
                        <li><strong>ステートレス：</strong>各リクエストは独立し、サーバー側で状態を保持しない</li>
                        <li><strong>統一インターフェース：</strong>一貫したURL設計とレスポンス形式</li>
                    </ul>

                    <div class="mermaid">
                        graph TD
                            A["クライアント<br/>(JavaScript, Mobile App)"] --> B["HTTP Request<br/>(GET, POST, PUT, DELETE)"]
                            B --> C["ASP.NET Core Web API<br/>Controller"]
                            C --> D["Business Logic<br/>(Service Layer)"]
                            D --> E["Data Access<br/>(Entity Framework)"]
                            E --> F["データベース"]
                            F --> E
                            E --> D
                            D --> C
                            C --> G["HTTP Response<br/>(JSON形式)"]
                            G --> A
                    </div>

                    <h3 class="section-title">7.2 APIコントローラーの作成</h3>
                    <p>
                        ASP.NET Coreでは、APIコントローラーは通常のMVCコントローラーとは異なり、ビューを返すのではなくデータ（JSON）を返します。<code>ApiController</code>属性を使用することで、APIに特化した機能が自動的に有効になります。
                    </p>

                    <div class="exercise-container">
                        <h5>実習 7-1: 基本的なAPIコントローラーの作成</h5>
                        <p>ユーザー情報を管理するWeb APIを作成します。</p>
                        <h6>手順1: ユーザーモデルの作成</h6>
                        <pre class="code-block"><code class="language-vbnet">' Models/User.vb
Public Class User
    Public Property Id As Integer
    Public Property Name As String
    Public Property Email As String
    Public Property CreatedAt As DateTime
End Class</code></pre>

                        <h6>手順2: APIコントローラーの作成</h6>
                        <pre class="code-block"><code class="language-vbnet">' Controllers/UsersController.vb
Imports Microsoft.AspNetCore.Mvc

&lt;ApiController&gt;
&lt;Route("api/[controller]")&gt;
Public Class UsersController
    Inherits ControllerBase

    ' サンプルデータ（実際の開発ではデータベースから取得）
    Private ReadOnly _users As List(Of User) = New List(Of User) From {
        New User With {.Id = 1, .Name = "田中太郎", .Email = "tanaka@example.com", .CreatedAt = DateTime.Now.AddDays(-10)},
        New User With {.Id = 2, .Name = "山田花子", .Email = "yamada@example.com", .CreatedAt = DateTime.Now.AddDays(-5)}
    }

    ' GET api/users - 全ユーザーの取得
    &lt;HttpGet&gt;
    Public Function GetUsers() As ActionResult(Of IEnumerable(Of User))
        Return Ok(_users)
    End Function

    ' GET api/users/1 - 特定ユーザーの取得
    &lt;HttpGet("{id}")&gt;
    Public Function GetUser(id As Integer) As ActionResult(Of User)
        Dim user = _users.FirstOrDefault(Function(u) u.Id = id)
        If user Is Nothing Then
            Return NotFound()
        End If
        Return Ok(user)
    End Function
End Class</code></pre>

                        <h6>期待される結果</h6>
                        <p>
                            ブラウザまたはPostmanで <code>https://localhost:5001/api/users</code> にアクセスすると、
                            JSON形式でユーザー一覧が返されます。
                        </p>
                    </div>

                    <h3 class="section-title">7.3 HTTP動詞とCRUD操作の実装</h3>
                    <p>
                        RESTful APIでは、HTTPメソッド（動詞）を使ってリソースに対する操作を表現します。
                        各操作は特定のHTTPステータスコードとともにレスポンスを返します。
                    </p>

                    <div class="mermaid">
                        graph LR
                            A[HTTP GET] --> B["読み取り（Read）<br/>200 OK"]
                            C[HTTP POST] --> D["作成（Create）<br/>201 Created"]
                            E[HTTP PUT] --> F["更新（Update）<br/>200 OK / 204 No Content"]
                            G[HTTP DELETE] --> H["削除（Delete）<br/>204 No Content"]
                    </div>

                    <div class="exercise-container">
                        <h5>実習 7-2: CRUD操作の完全実装</h5>
                        <p>ユーザーAPIにCRUD操作をすべて実装します。</p>

                        <h6>完全なAPIコントローラー</h6>
                        <pre class="code-block"><code class="language-vbnet">&lt;ApiController&gt;
&lt;Route("api/[controller]")&gt;
Public Class UsersController
    Inherits ControllerBase

    ' 静的リスト（デモ用）
    Private Shared _users As List(Of User) = New List(Of User) From {
        New User With {.Id = 1, .Name = "田中太郎", .Email = "tanaka@example.com", .CreatedAt = DateTime.Now}
    }
    Private Shared _nextId As Integer = 2

    ' POST api/users - ユーザー作成
    &lt;HttpPost&gt;
    Public Function CreateUser(user As User) As ActionResult(Of User)
        If Not ModelState.IsValid Then
            Return BadRequest(ModelState)
        End If

        user.Id = _nextId
        user.CreatedAt = DateTime.Now
        _nextId += 1
        _users.Add(user)

        Return CreatedAtAction(NameOf(GetUser), New With {.id = user.Id}, user)
    End Function

    ' PUT api/users/1 - ユーザー更新
    &lt;HttpPut("{id}")&gt;
    Public Function UpdateUser(id As Integer, user As User) As IActionResult
        If id &lt;&gt; user.Id Then
            Return BadRequest("IDが一致しません")
        End If

        Dim existingUser = _users.FirstOrDefault(Function(u) u.Id = id)
        If existingUser Is Nothing Then
            Return NotFound()
        End If

        existingUser.Name = user.Name
        existingUser.Email = user.Email
        Return NoContent()
    End Function

    ' DELETE api/users/1 - ユーザー削除
    &lt;HttpDelete("{id}")&gt;
    Public Function DeleteUser(id As Integer) As IActionResult
        Dim user = _users.FirstOrDefault(Function(u) u.Id = id)
        If user Is Nothing Then
            Return NotFound()
        End If

        _users.Remove(user)
        Return NoContent()
    End Function
End Class</code></pre>
                    </div>

                    <h3 class="section-title">7.4 データバインディングとバリデーション</h3>
                    <p>
                        APIコントローラーでは、リクエストのJSONデータが自動的にVB.NETオブジェクトにバインディングされます。
                        データアノテーションを使用してバリデーションを行うことができます。
                    </p>

                    <div class="exercise-container">
                        <h5>実習 7-3: バリデーション機能の追加</h5>
                        <p>ユーザーモデルにバリデーションを追加し、APIでエラーハンドリングを実装します。</p>

                        <h6>バリデーション付きUserモデル</h6>
                        <pre class="code-block"><code class="language-vbnet">Imports System.ComponentModel.DataAnnotations

Public Class User
    Public Property Id As Integer

    &lt;Required(ErrorMessage:="名前は必須です")&gt;
    &lt;StringLength(100, ErrorMessage:="名前は100文字以内で入力してください")&gt;
    Public Property Name As String

    &lt;Required(ErrorMessage:="メールアドレスは必須です")&gt;
    &lt;EmailAddress(ErrorMessage:="正しいメールアドレス形式で入力してください")&gt;
    Public Property Email As String

    Public Property CreatedAt As DateTime
End Class</code></pre>

                        <h6>カスタムエラーレスポンス</h6>
                        <pre class="code-block"><code class="language-vbnet">' Models/ApiError.vb
Public Class ApiError
    Public Property Message As String
    Public Property Errors As Dictionary(Of String, String())

    Public Sub New(message As String)
        Me.Message = message
        Me.Errors = New Dictionary(Of String, String())
    End Sub
End Class</code></pre>
                    </div>

                    <h3 class="section-title">7.5 Swagger/OpenAPIの統合</h3>
                    <p>
                        Swagger（OpenAPI）は、RESTful APIの仕様を記述し、対話的なドキュメントを自動生成するツールです。
                        ASP.NET Coreでは、Swashbuckleパッケージを使用して簡単にSwaggerを統合できます。
                    </p>

                    <div class="exercise-container">
                        <h5>実習 7-4: Swaggerの設定と使用</h5>
                        <p>APIドキュメントの自動生成とテスト機能を追加します。</p>

                        <h6>手順1: Startup.vbでSwaggerを設定</h6>
                        <pre class="code-block"><code class="language-vbnet">' Startup.vb のConfigureServicesメソッド
Public Sub ConfigureServices(services As IServiceCollection)
    services.AddControllers()
    
    ' Swaggerサービスの追加
    services.AddSwaggerGen(Sub(c)
        c.SwaggerDoc("v1", New OpenApiInfo With {
            .Title = "ユーザー管理API",
            .Version = "v1",
            .Description = "VB.NETで作成したユーザー管理のWeb API"
        })
    End Sub)
End Sub

' Configureメソッド
Public Sub Configure(app As IApplicationBuilder, env As IWebHostEnvironment)
    If env.IsDevelopment() Then
        app.UseDeveloperExceptionPage()
        
        ' Swagger UIの有効化（開発環境のみ）
        app.UseSwagger()
        app.UseSwaggerUI(Sub(c)
            c.SwaggerEndpoint("/swagger/v1/swagger.json", "ユーザー管理API v1")
            c.RoutePrefix = String.Empty ' ルートでSwagger UIを表示
        End Sub)
    End If

    app.UseHttpsRedirection()
    app.UseRouting()
    app.UseEndpoints(Sub(endpoints) endpoints.MapControllers())
End Sub</code></pre>

                        <h6>手順2: APIコントローラーへのドキュメント追加</h6>
                        <pre class="code-block"><code class="language-vbnet">' コントローラーメソッドにXMLコメントを追加
''' &lt;summary&gt;
''' 全てのユーザーを取得します
''' &lt;/summary&gt;
''' &lt;returns&gt;ユーザー一覧&lt;/returns&gt;
&lt;HttpGet&gt;
&lt;ProducesResponseType(GetType(IEnumerable(Of User)), StatusCodes.Status200OK)&gt;
Public Function GetUsers() As ActionResult(Of IEnumerable(Of User))
    Return Ok(_users)
End Function</code></pre>

                        <h6>期待される結果</h6>
                        <p>
                            アプリケーション実行後、<code>https://localhost:5001</code>にアクセスすると、
                            Swagger UIでAPIの仕様書が表示され、ブラウザから直接APIをテストできます。
                        </p>
                    </div>

                    <h3 class="section-title">7.6 CORS（Cross-Origin Resource Sharing）の設定</h3>
                    <p>
                        CORSは、Webブラウザが異なるドメインからのリソースアクセスを制御するセキュリティ機能です。
                        SPA（Single Page Application）やモバイルアプリからAPIにアクセスする際には、CORS設定が必要になります。
                    </p>

                    <div class="warning">
                        <h6>セキュリティの注意点</h6>
                        <p>
                            本番環境では、AllowAnyOriginは使用せず、特定のドメインのみを許可するようにしてください。
                            すべてのオリジンを許可すると、セキュリティリスクが高まります。
                        </p>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 7-5: CORS設定の実装</h5>
                        <p>フロントエンドアプリケーションからのAPI呼び出しを可能にするCORSを設定します。</p>

                        <h6>CORS設定の追加</h6>
                        <pre class="code-block"><code class="language-vbnet">' Startup.vb
Public Sub ConfigureServices(services As IServiceCollection)
    services.AddControllers()
    
    ' CORSポリシーの定義
    services.AddCors(Sub(options)
        options.AddPolicy("AllowSpecificOrigin", Sub(builder)
            builder.WithOrigins("https://localhost:3000", "http://localhost:3000") ' React開発サーバー
                   .AllowAnyHeader()
                   .AllowAnyMethod()
        End Sub)
        
        ' 開発用の緩い設定（本番環境では使用しない）
        options.AddPolicy("AllowAll", Sub(builder)
            builder.AllowAnyOrigin()
                   .AllowAnyHeader()
                   .AllowAnyMethod()
        End Sub)
    End Sub)
End Sub

Public Sub Configure(app As IApplicationBuilder, env As IWebHostEnvironment)
    If env.IsDevelopment() Then
        app.UseCors("AllowAll") ' 開発環境
    Else
        app.UseCors("AllowSpecificOrigin") ' 本番環境
    End If
    
    app.UseHttpsRedirection()
    app.UseRouting()
    app.UseEndpoints(Sub(endpoints) endpoints.MapControllers())
End Sub</code></pre>
                    </div>

                    <h3 class="section-title">7.7 エラーハンドリングとステータスコード</h3>
                    <p>
                        適切なHTTPステータスコードとエラーメッセージの返却は、優れたAPIデザインの重要な要素です。
                        クライアント側でのエラー処理を容易にします。
                    </p>

                    <div class="mermaid">
                        graph TD
                            A["API Request"] --> B{"Input Validation"}
                            B -->|Valid| C["Business Logic"]
                            B -->|Invalid| D["400 Bad Request<br/>Validation Errors"]
                            C --> E{"Resource Found?"}
                            E -->|Yes| F["200 OK<br/>Success Response"]
                            E -->|No| G["404 Not Found<br/>Resource Not Found"]
                            C --> H{"Server Error?"}
                            H -->|Yes| I["500 Internal Server Error<br/>Error Details"]
                            H -->|No| F
                    </div>

                    <div class="exercise-container">
                        <h5>実習 7-6: 包括的なエラーハンドリングの実装</h5>
                        <p>APIの信頼性を向上させるエラーハンドリングを実装します。</p>

                        <h6>グローバル例外ハンドラーの作成</h6>
                        <pre class="code-block"><code class="language-vbnet">' Middleware/GlobalExceptionMiddleware.vb
Public Class GlobalExceptionMiddleware
    Private ReadOnly _next As RequestDelegate
    Private ReadOnly _logger As ILogger(Of GlobalExceptionMiddleware)

    Public Sub New(nextMiddleware As RequestDelegate, logger As ILogger(Of GlobalExceptionMiddleware))
        _next = nextMiddleware
        _logger = logger
    End Sub

    Public Async Function InvokeAsync(context As HttpContext) As Task
        Try
            Await _next(context)
        Catch ex As Exception
            _logger.LogError(ex, "予期しないエラーが発生しました")
            Await HandleExceptionAsync(context, ex)
        End Try
    End Function

    Private Async Function HandleExceptionAsync(context As HttpContext, ex As Exception) As Task
        context.Response.ContentType = "application/json"
        
        Dim response = New ApiError("内部サーバーエラーが発生しました")
        
        Select Case ex.GetType()
            Case GetType(ArgumentException)
                context.Response.StatusCode = StatusCodes.Status400BadRequest
                response.Message = ex.Message
            Case GetType(UnauthorizedAccessException)
                context.Response.StatusCode = StatusCodes.Status401Unauthorized
                response.Message = "認証が必要です"
            Case Else
                context.Response.StatusCode = StatusCodes.Status500InternalServerError
        End Select

        Dim jsonResponse = JsonSerializer.Serialize(response)
        Await context.Response.WriteAsync(jsonResponse)
    End Function
End Class</code></pre>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>RESTful APIの4つの主要なHTTPメソッドと、それぞれが対応するCRUD操作を説明してください。</li>
                            <li><code>ApiController</code>属性を使用することで、どのような機能が自動的に有効になりますか？</li>
                            <li>CORS設定が必要になるのはどのような場合ですか？また、本番環境でAllowAnyOriginを使用してはいけない理由を説明してください。</li>
                            <li>Swaggerを使用することの利点を3つ挙げてください。</li>
                            <li>HTTPステータスコード200、201、400、404、500それぞれの意味と使用場面を説明してください。</li>
                        </ol>
                        
                        <div class="mt-3">
                            <strong>解答例：</strong>
                            <ol>
                                <li>GET（読み取り）、POST（作成）、PUT（更新）、DELETE（削除）。これらはCRUDのCreate、Read、Update、Deleteに対応します。</li>
                                <li>自動的なモデルバインディング、バリデーション、適切なHTTPステータスコードの返却などが有効になります。</li>
                                <li>異なるドメインからのAPI呼び出し時。AllowAnyOriginは任意のサイトからアクセス可能になり、セキュリティリスクが高いため。</li>
                                <li>API仕様の自動生成、対話的なテスト環境、開発者向けドキュメント作成の効率化。</li>
                                <li>200（成功）、201（作成成功）、400（リクエストエラー）、404（リソース未発見）、500（サーバーエラー）。</li>
                            </ol>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="aspnetcore-vb-learning-material-06.html" class="btn btn-secondary">← 第6章: Entity Framework Coreとデータアクセス</a>
                        <a href="aspnetcore-vb-learning-material-08.html" class="btn btn-primary">第8章: 認証と認可 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>