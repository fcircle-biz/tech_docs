<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" id="viewport-meta">
    <title>Streamlit学習教材 第4章 - 繰り返し - 同じ処理を何度も行う</title>

    <!-- ダークモード早期適用（フラッシュ防止） -->
    <script>
        (function() {
            const saved = localStorage.getItem('darkMode');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (saved === 'dark' || (saved === null && prefersDark)) {
                document.documentElement.classList.add('dark');
            }
        })();
    </script>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans JP"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts - Noto Sans JP -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- カスタムスタイル -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="font-sans bg-slate-50 text-slate-800 antialiased">
    <!-- ヘッダー/ナビゲーションバー -->
    <header class="fixed top-0 left-0 right-0 z-50 text-white header-rich header-rich-shadow">
        <nav class="w-full px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="flex items-center justify-between py-3">
                <!-- 左側: ロゴとタイトルセクション -->
                <div class="flex items-center gap-4">
                    <!-- アイコン -->
                    <div class="relative group">
                        <div class="absolute inset-0 bg-gradient-to-br from-yellow-400/30 to-orange-400/30 rounded-2xl blur-lg group-hover:blur-xl transition-all"></div>
                        <div class="relative w-14 h-14 bg-white/10 rounded-xl flex items-center justify-center backdrop-blur-sm border border-white/20">
                            <i class="fab fa-python text-3xl icon-rotate-hover drop-shadow-lg"></i>
                        </div>
                    </div>

                    <!-- タイトルとメタ情報 -->
                    <div class="flex flex-col gap-1">
                        <div class="flex items-center gap-2">
                            <span class="text-xl font-bold tracking-wide drop-shadow-md">Streamlit学習教材</span>
                            <span class="hidden sm:inline-flex items-center gap-1 px-2 py-0.5 bg-white/20 rounded-md text-[10px] font-semibold uppercase tracking-wider">
                                <i class="fas fa-star text-yellow-300 text-[8px]"></i>
                                初級
                            </span>
                        </div>
                        <div class="flex items-center gap-3 text-[11px] text-white/90 font-medium">
                            <div class="flex items-center gap-1">
                                <i class="fas fa-code text-[9px]"></i>
                                <span>Python・Webアプリ</span>
                            </div>
                            <div class="hidden sm:flex items-center gap-1">
                                <i class="fas fa-clock text-[9px]"></i>
                                <span>推奨 50分</span>
                            </div>
                            <div class="hidden lg:flex items-center gap-1">
                                <i class="fas fa-language text-[9px]"></i>
                                <span>日本語</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 右側: サイドバートグルボタン -->
                <button id="sidebar-toggle-btn" class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20 transition-all active:scale-95" title="サイドバーの表示/非表示">
                    <i class="fas fa-bars text-lg"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- メインレイアウト -->
    <div class="flex min-h-screen pt-20">
        <!-- サイドバーはsidebar-content.jsで動的に生成されます -->

        <!-- メインコンテンツ -->
        <main class="flex-1 min-w-0">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-10 py-6">
                <!-- パンくずリスト -->
                <nav class="flex items-center gap-2 text-sm text-slate-500 mb-6">
                    <a href="https://fcircle-biz.github.io/tech_docs/" class="hover:text-primary-600 transition-colors">ホーム</a>
                    <i class="fas fa-chevron-right text-xs"></i>
                    <a href="../" class="hover:text-primary-600 transition-colors">Python Ecosystem</a>
                    <i class="fas fa-chevron-right text-xs"></i>
                    <span class="text-slate-700">第4章</span>
                </nav>

                <!-- 章ヘッダー -->
                <header class="mb-6">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
                                     bg-primary-100 text-primary-700">
                            第4章
                        </span>
                    </div>
                    <h1 class="text-2xl sm:text-3xl font-bold text-slate-900 mb-2">繰り返し - 同じ処理を何度も行う</h1>
                    <p class="text-slate-600">「1から10まで順番に表示する」「リストの中身を全部表示する」といった繰り返し処理を学びます。大量のデータを扱うときに欠かせない知識です。</p>
                </header>

                <!-- 学習目標カード -->
                <div class="bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200
                            rounded-xl p-5 mb-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-amber-400 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-lightbulb text-white"></i>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-amber-800 mb-3">この章で学ぶこと</h2>
                            <ul class="space-y-2">
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>for文を使った繰り返し処理の基礎</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>range関数で指定回数の繰り返し</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>リスト（複数のデータをまとめる方法）の基本</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>while文による条件付き繰り返し</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- セクション1: 繰り返し処理とは -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.1 繰り返し処理とは？
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        プログラミングでは、同じ処理を何度も実行したい場面が頻繁にあります。例えば、「1から100までの数を全部表示する」「リストに入っているデータを全部処理する」といった場合です。
                    </p>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        手作業で100回同じコードを書くのは大変ですし、間違いも起こりやすくなります。そこで、「繰り返し処理」の仕組みを使って、少ないコードで効率的に処理を実行します。
                    </p>

                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 my-6 rounded-r-lg overflow-hidden">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-star text-emerald-600 mt-1"></i>
                            <div class="flex-1 min-w-0">
                                <p class="text-emerald-900 font-medium break-words">繰り返し処理の便利さ</p>
                                <p class="text-emerald-800 text-sm mt-1 break-words">
                                    例えば、100個のデータを処理する場合、繰り返し処理を使えばわずか3〜4行で書けます。これがプログラミングの強力な点です。
                                </p>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">繰り返し処理のイメージ</h3>
                    <div class="mermaid">
flowchart TD
    A[処理開始] --> B{繰り返し条件を<br/>満たす？}
    B -->|はい| C[処理を実行]
    C --> B
    B -->|いいえ| D[繰り返し終了]
                    </div>
                </section>

                <!-- セクション2: リストの基礎 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.2 リスト - 複数のデータをまとめる
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        繰り返し処理を学ぶ前に、まず<strong>リスト</strong>について理解しましょう。リストは複数のデータを1つの箱にまとめて管理する仕組みです。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">リストの作り方</h3>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        リストは<code class="bg-slate-100 px-1 rounded">[]</code>（角カッコ）で囲み、データをカンマ<code class="bg-slate-100 px-1 rounded">,</code>で区切って並べます。
                    </p>

                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">リストの基本例</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python"># 数値のリスト
numbers = [1, 2, 3, 4, 5]

# 文字列のリスト
fruits = ["りんご", "バナナ", "みかん"]

# 空のリスト
empty_list = []

print(numbers)  # [1, 2, 3, 4, 5]
print(fruits)   # ['りんご', 'バナナ', 'みかん']</code></pre>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg overflow-hidden">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-info-circle text-blue-600 mt-1"></i>
                            <div class="flex-1 min-w-0">
                                <p class="text-blue-900 font-medium break-words">リストの便利さ</p>
                                <p class="text-blue-800 text-sm mt-1 break-words">
                                    リストを使えば、関連するデータをまとめて扱えます。例えば、クラスメイトの名前をリストにまとめれば、1つの変数で全員の名前を管理できます。
                                </p>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">リストの要素にアクセスする</h3>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        リストの中の特定のデータを取り出すには、<strong>インデックス</strong>（番号）を使います。Pythonでは<strong>0から数える</strong>ので注意が必要です。
                    </p>

                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">インデックスでアクセス</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python">fruits = ["りんご", "バナナ", "みかん"]

# 0番目の要素（最初の要素）
print(fruits[0])  # りんご

# 1番目の要素
print(fruits[1])  # バナナ

# 2番目の要素
print(fruits[2])  # みかん</code></pre>
                    </div>

                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4 my-6 rounded-r-lg overflow-hidden">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-exclamation-triangle text-orange-600 mt-1"></i>
                            <div class="flex-1 min-w-0">
                                <p class="text-orange-900 font-medium break-words">注意：インデックスは0から始まる</p>
                                <p class="text-orange-800 text-sm mt-1 break-words">
                                    プログラミングでは、最初の要素のインデックスは1ではなく0です。これは少し慣れが必要ですが、多くのプログラミング言語で共通のルールです。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション3: for文の基礎 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.3 for文 - リストの要素を1つずつ処理する
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>for文</strong>は、リストの要素を1つずつ取り出して処理を繰り返す仕組みです。Pythonで最もよく使われる繰り返し処理の1つです。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">for文の基本構文</h3>
                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">for文の基本形</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python">for 変数名 in リスト:
    繰り返し実行する処理</code></pre>
                    </div>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        リストの要素が1つずつ変数に代入され、その変数を使って処理を実行します。
                    </p>

                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">for文の例</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python"># リストの各要素を表示
fruits = ["りんご", "バナナ", "みかん"]

for fruit in fruits:
    print(fruit)

# 実行結果：
# りんご
# バナナ
# みかん</code></pre>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg overflow-hidden">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-lightbulb text-blue-600 mt-1"></i>
                            <div class="flex-1 min-w-0">
                                <p class="text-blue-900 font-medium break-words">for文の動作イメージ</p>
                                <p class="text-blue-800 text-sm mt-1 break-words">
                                    <code class="bg-blue-100 px-1 rounded">for fruit in fruits:</code> は「fruitsリストから要素を1つずつ取り出してfruitに入れる」という意味です。リストの要素がなくなるまで繰り返します。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 実習1: for文でリストを処理 -->
                <div class="bg-gradient-to-r from-purple-50 to-fuchsia-50 border border-purple-200
                            rounded-xl p-5 my-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-purple-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-code text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-purple-800 mb-3 break-words">
                                実習 4-1: for文を使ってリストの要素を表示
                            </h3>
                            <p class="text-purple-900 mb-4 break-words">好きな食べ物のリストを作り、for文を使って全て表示してみましょう。</p>

                            <div class="code-block-wrapper mb-4">
                                <button onclick="copyCode(this)" class="copy-btn px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-white text-sm rounded-lg transition-colors">
                                    <i class="fas fa-copy mr-1"></i>コピー
                                </button>
                                <pre class="!bg-slate-800 !rounded-lg overflow-x-auto"><code class="language-python"># 好きな食べ物リスト
favorite_foods = ["ラーメン", "カレー", "寿司", "ピザ"]

# 各要素を表示
for food in favorite_foods:
    print(f"私は{food}が好きです")

# 実行結果：
# 私はラーメンが好きです
# 私はカレーが好きです
# 私は寿司が好きです
# 私はピザが好きです</code></pre>
                            </div>

                            <div class="bg-purple-100 rounded-lg p-4 mt-4">
                                <p class="text-purple-900 text-sm"><i class="fas fa-check-circle text-purple-600 mr-2"></i>f文字列（f"..."）を使うと、変数の値を文章の中に埋め込めます。<code class="bg-white px-1 rounded">{food}</code>の部分に変数の値が入ります。</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- セクション4: range関数 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.4 range関数 - 指定回数の繰り返し
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>range関数</strong>を使うと、「10回繰り返す」「1から100まで順番に処理する」といった指定回数の繰り返しが簡単に書けます。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">range関数の基本形</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full border-collapse border border-slate-300">
                            <thead>
                                <tr class="bg-slate-100">
                                    <th class="border border-slate-300 px-4 py-2 text-left">使い方</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">意味</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">例</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2"><code class="bg-slate-100 px-1 rounded">range(n)</code></td>
                                    <td class="border border-slate-300 px-4 py-2">0からn-1まで</td>
                                    <td class="border border-slate-300 px-4 py-2"><code class="bg-slate-100 px-1 rounded">range(5)</code> → 0, 1, 2, 3, 4</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2"><code class="bg-slate-100 px-1 rounded">range(start, end)</code></td>
                                    <td class="border border-slate-300 px-4 py-2">startからend-1まで</td>
                                    <td class="border border-slate-300 px-4 py-2"><code class="bg-slate-100 px-1 rounded">range(1, 6)</code> → 1, 2, 3, 4, 5</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2"><code class="bg-slate-100 px-1 rounded">range(start, end, step)</code></td>
                                    <td class="border border-slate-300 px-4 py-2">startからend-1まで、step刻み</td>
                                    <td class="border border-slate-300 px-4 py-2"><code class="bg-slate-100 px-1 rounded">range(0, 10, 2)</code> → 0, 2, 4, 6, 8</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">range関数の例</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python"># 1から10まで表示
for i in range(1, 11):
    print(i)

# 5回繰り返す
for i in range(5):
    print(f"{i + 1}回目の処理")

# 偶数だけ表示（0, 2, 4, 6, 8）
for i in range(0, 10, 2):
    print(i)</code></pre>
                    </div>

                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4 my-6 rounded-r-lg overflow-hidden">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-exclamation-circle text-orange-600 mt-1"></i>
                            <div class="flex-1 min-w-0">
                                <p class="text-orange-900 font-medium break-words">注意：endの値は含まれない</p>
                                <p class="text-orange-800 text-sm mt-1 break-words">
                                    <code class="bg-orange-100 px-1 rounded">range(1, 11)</code>は1から10までであり、11は含まれません。「1から10まで」を作るには、11を指定する必要があります。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 実習2: range関数を使った計算 -->
                <div class="bg-gradient-to-r from-purple-50 to-fuchsia-50 border border-purple-200
                            rounded-xl p-5 my-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-purple-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-code text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-purple-800 mb-3 break-words">
                                実習 4-2: 1から100までの合計を計算
                            </h3>
                            <p class="text-purple-900 mb-4 break-words">range関数とfor文を使って、1から100までの数値の合計を計算するプログラムを作りましょう。</p>

                            <div class="code-block-wrapper mb-4">
                                <button onclick="copyCode(this)" class="copy-btn px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-white text-sm rounded-lg transition-colors">
                                    <i class="fas fa-copy mr-1"></i>コピー
                                </button>
                                <pre class="!bg-slate-800 !rounded-lg overflow-x-auto"><code class="language-python"># 合計を保存する変数
total = 0

# 1から100まで足していく
for i in range(1, 101):
    total = total + i

print(f"1から100までの合計: {total}")

# 実行結果：
# 1から100までの合計: 5050</code></pre>
                            </div>

                            <div class="bg-purple-100 rounded-lg p-4 mt-4">
                                <p class="text-purple-900 text-sm"><i class="fas fa-info-circle text-purple-600 mr-2"></i><code class="bg-white px-1 rounded">total = total + i</code>は「totalに今のtotalとiを足した値を代入」という意味です。繰り返すたびにtotalに値が蓄積されます。</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- セクション5: while文 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.5 while文 - 条件が満たされる間繰り返す
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>while文</strong>は、指定した条件がTrueである限り処理を繰り返します。「合計が100を超えるまで繰り返す」といった、回数が事前にわからない繰り返しに便利です。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">while文の基本構文</h3>
                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">while文の基本形</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python">while 条件式:
    条件がTrueの間繰り返す処理</code></pre>
                    </div>

                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">while文の例</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python"># 1から5まで表示
count = 1
while count <= 5:
    print(count)
    count = count + 1

# 実行結果：
# 1
# 2
# 3
# 4
# 5</code></pre>
                    </div>

                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4 my-6 rounded-r-lg overflow-hidden">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-exclamation-triangle text-orange-600 mt-1"></i>
                            <div class="flex-1 min-w-0">
                                <p class="text-orange-900 font-medium break-words">注意：無限ループに気をつける</p>
                                <p class="text-orange-800 text-sm mt-1 break-words">
                                    条件式が永遠にTrueのままだと、プログラムが止まらなくなってしまいます。必ずループを終了させる処理（カウンタの更新など）を入れましょう。
                                </p>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">for文とwhile文の使い分け</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <h4 class="font-medium text-blue-900 mb-2">for文が適している場合</h4>
                            <ul class="text-sm text-blue-800 space-y-1">
                                <li>繰り返し回数がわかっている</li>
                                <li>リストの全要素を処理する</li>
                                <li>1から100までなど範囲が決まっている</li>
                            </ul>
                        </div>
                        <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-4">
                            <h4 class="font-medium text-emerald-900 mb-2">while文が適している場合</h4>
                            <ul class="text-sm text-emerald-800 space-y-1">
                                <li>繰り返し回数が事前にわからない</li>
                                <li>条件が満たされるまで繰り返す</li>
                                <li>ユーザー入力を待つなど</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- 実習3: while文を使った計算 -->
                <div class="bg-gradient-to-r from-purple-50 to-fuchsia-50 border border-purple-200
                            rounded-xl p-5 my-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-purple-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-code text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-purple-800 mb-3 break-words">
                                実習 4-3: 合計が100を超えるまで足し算
                            </h3>
                            <p class="text-purple-900 mb-4 break-words">while文を使って、1から順番に足していき、合計が100を超えたら終了するプログラムを作りましょう。</p>

                            <div class="code-block-wrapper mb-4">
                                <button onclick="copyCode(this)" class="copy-btn px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-white text-sm rounded-lg transition-colors">
                                    <i class="fas fa-copy mr-1"></i>コピー
                                </button>
                                <pre class="!bg-slate-800 !rounded-lg overflow-x-auto"><code class="language-python"># 初期値設定
total = 0
num = 1

# 合計が100を超えるまで繰り返す
while total <= 100:
    total = total + num
    num = num + 1

print(f"最終的な合計: {total}")
print(f"最後に足した数: {num - 1}")

# 実行結果例：
# 最終的な合計: 105
# 最後に足した数: 14</code></pre>
                            </div>

                            <div class="bg-purple-100 rounded-lg p-4 mt-4">
                                <p class="text-purple-900 text-sm"><i class="fas fa-check-circle text-purple-600 mr-2"></i>1+2+3+...+14=105で、合計が初めて100を超えるため、ループが終了します。</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- セクション6: break と continue -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.6 break と continue - ループの制御
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        繰り返し処理の途中で「ループを抜ける」「次の繰り返しにスキップする」といった制御をしたいことがあります。そのために<code class="bg-slate-100 px-1 rounded">break</code>と<code class="bg-slate-100 px-1 rounded">continue</code>を使います。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">break - ループを途中で抜ける</h3>
                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">breakの例</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python"># 5が見つかったらループを終了
for i in range(1, 11):
    if i == 5:
        print("5を見つけたので終了")
        break
    print(i)

# 実行結果：
# 1
# 2
# 3
# 4
# 5を見つけたので終了</code></pre>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">continue - 今回の処理をスキップ</h3>
                    <div class="code-block-wrapper my-6">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">continueの例</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors"
                                    onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-python"># 偶数だけ表示（奇数はスキップ）
for i in range(1, 11):
    if i % 2 == 1:  # 奇数なら
        continue    # スキップして次へ
    print(i)

# 実行結果：
# 2
# 4
# 6
# 8
# 10</code></pre>
                    </div>
                </section>

                <!-- 理解度確認クイズ -->
                <div class="bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200
                            rounded-xl p-5 my-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-question text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-blue-800 mb-4 break-words">理解度確認クイズ</h3>
                            <ol class="space-y-4">
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q1. Pythonのリストで、最初の要素にアクセスするインデックスはいくつですか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            <strong>正解：0</strong><br>
                                            Pythonでは、リストのインデックスは0から始まります。最初の要素は<code class="bg-white px-1 rounded">リスト[0]</code>でアクセスできます。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q2. <code class="bg-blue-100 px-1 rounded">range(1, 6)</code>が生成する数値はどれですか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            <strong>正解：1, 2, 3, 4, 5</strong><br>
                                            range関数は開始値を含み、終了値を含みません。<code class="bg-white px-1 rounded">range(1, 6)</code>は1から5までの数値を生成します。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q3. for文とwhile文の使い分けとして正しいものはどれですか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            <strong>正解：繰り返し回数が決まっている場合はfor文、条件によって回数が変わる場合はwhile文</strong><br>
                                            for文はリストの全要素処理や指定回数の繰り返しに、while文は条件が満たされるまでの繰り返しに適しています。
                                        </p>
                                    </details>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- トラブルシューティング -->
                <div class="bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200
                            rounded-xl p-5 my-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-orange-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-tools text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-orange-800 mb-4 break-words">よくあるエラーと対処法</h3>
                            <div class="space-y-4">
                                <div class="bg-orange-100 rounded-lg p-4">
                                    <p class="font-medium text-orange-900 mb-2 break-words">
                                        <i class="fas fa-exclamation-circle mr-2"></i>IndexError: list index out of range
                                    </p>
                                    <p class="text-orange-800 text-sm break-words">
                                        <strong>原因：</strong>リストのサイズを超えたインデックスにアクセスしている<br>
                                        <strong>対処：</strong>リストの長さは<code class="bg-white px-1 rounded">len(リスト)</code>で確認できます。インデックスは必ず<code class="bg-white px-1 rounded">len(リスト) - 1</code>以下にしてください。
                                    </p>
                                </div>
                                <div class="bg-orange-100 rounded-lg p-4">
                                    <p class="font-medium text-orange-900 mb-2 break-words">
                                        <i class="fas fa-exclamation-circle mr-2"></i>無限ループでプログラムが止まらない
                                    </p>
                                    <p class="text-orange-800 text-sm break-words">
                                        <strong>原因：</strong>while文の条件が永遠にTrueのまま<br>
                                        <strong>対処：</strong>ループ内で必ず条件を変化させる処理（カウンタの更新など）を入れてください。緊急停止は<kbd class="bg-white px-1 rounded border">Ctrl+C</kbd>キーです。
                                    </p>
                                </div>
                                <div class="bg-orange-100 rounded-lg p-4">
                                    <p class="font-medium text-orange-900 mb-2 break-words">
                                        <i class="fas fa-exclamation-circle mr-2"></i>インデントエラー
                                    </p>
                                    <p class="text-orange-800 text-sm break-words">
                                        <strong>原因：</strong>for文やwhile文の後のブロックのインデント（字下げ）が不足している<br>
                                        <strong>対処：</strong>ループの中の処理は必ずスペース4つ分（またはタブ1つ）字下げしてください。
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 章のまとめ -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        第4章のまとめ
                    </h2>
                    <div class="bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-xl p-6">
                        <ul class="space-y-3">
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-primary-500 mt-1"></i>
                                <span><strong>リスト</strong>は複数のデータを1つにまとめて管理する仕組み</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-primary-500 mt-1"></i>
                                <span><strong>for文</strong>でリストの各要素や指定回数の繰り返し処理ができる</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-primary-500 mt-1"></i>
                                <span><strong>range関数</strong>で簡単に連続した数値を生成できる</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-primary-500 mt-1"></i>
                                <span><strong>while文</strong>は条件が満たされる間繰り返す</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-primary-500 mt-1"></i>
                                <span><code class="bg-slate-100 px-1 rounded">break</code>でループを終了、<code class="bg-slate-100 px-1 rounded">continue</code>でスキップできる</span>
                            </li>
                        </ul>
                        <p class="text-slate-600 mt-4 mb-0">
                            次の章では、よく使う処理を「関数」としてまとめる方法を学びます。コードの再利用性が高まり、プログラムが整理しやすくなりますよ！
                        </p>
                    </div>
                </section>

                <!-- 章間ナビゲーション -->
                <nav class="flex items-center justify-between pt-6 mt-6 border-t border-slate-200">
                    <a href="streamlit-learning-material-03.html"
                       class="group flex items-center gap-3 px-4 py-3 rounded-xl
                              bg-slate-100 hover:bg-slate-200 transition-colors">
                        <i class="fas fa-arrow-left text-slate-400 group-hover:text-slate-600
                                  transition-transform group-hover:-translate-x-1"></i>
                        <div>
                            <span class="text-xs text-slate-500 block">前の章</span>
                            <span class="text-slate-700 font-medium">第3章: 条件分岐</span>
                        </div>
                    </a>
                    <a href="streamlit-learning-material-05.html"
                       class="group flex items-center gap-3 px-4 py-3 rounded-xl
                              bg-primary-500 hover:bg-primary-600 text-white transition-colors">
                        <div class="text-right">
                            <span class="text-xs text-primary-100 block">次の章</span>
                            <span class="font-medium">第5章: 関数</span>
                        </div>
                        <i class="fas fa-arrow-right transition-transform group-hover:translate-x-1"></i>
                    </a>
                </nav>
            </div>
        </main>
    </div>

    <!-- フッター -->
    <footer class="bg-slate-800 text-slate-300">
        <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <p class="text-sm text-center md:text-left">
                    &copy; 2025 F-Circle. All rights reserved.<br>
                    本資料はAIツールを活用し、人間による編集・監修のもと作成されています。
                </p>
                <div class="flex items-center gap-4">
                    <a href="https://github.com/fcircle-biz/tech_docs" class="hover:text-white transition-colors">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- スクロールトップボタン -->
    <button id="scroll-top-btn"
            class="fixed bottom-6 right-6 w-12 h-12 bg-primary-500 text-white rounded-full
                   shadow-lg hover:bg-primary-600 transition-all duration-300
                   opacity-0 invisible translate-y-4"
            onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- サイドバー生成 -->
    <script src="sidebar-content.js"></script>

    <!-- 共通JavaScript -->
    <script src="main.js"></script>

    <!-- 描画ツール -->
    <script src="drawing-tool.js"></script>
</body>
</html>
