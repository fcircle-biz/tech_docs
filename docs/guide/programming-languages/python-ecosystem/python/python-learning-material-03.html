<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python学習教材 第3章 - 制御構造の基礎</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <style>
        /* Python専用カラーテーマ */
        :root {
            --python-primary: #3776ab;      /* Python公式ブルー */
            --python-secondary: #ffd43b;    /* Python公式イエロー */
            --python-accent: #4b8bbe;       /* 明るいブルー */
            --python-bg-light: #f0f6fc;     /* 薄いブルー背景 */
            --python-bg-yellow: #fffbf0;    /* 薄いイエロー背景 */
        }

        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
            background-color: #ffffff;
        }

        /* ナビゲーション */
        .navbar {
            background-color: var(--python-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* サイドバー */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
        }

        /* タイトル */
        .chapter-title {
            color: var(--python-primary);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid var(--python-primary);
            padding-bottom: 0.5rem;
            font-weight: 600;
        }

        .section-title {
            color: var(--python-accent);
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
            font-weight: 500;
        }

        /* コンテンツボックス */
        .quiz-container {
            background-color: var(--python-bg-light);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--python-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .highlight {
            background-color: var(--python-bg-yellow);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid var(--python-secondary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* ナビゲーション */
        .nav-link.active {
            background-color: var(--python-primary) !important;
            color: white !important;
        }

        .nav-link {
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background-color: var(--python-bg-light);
            color: var(--python-primary);
        }

        /* コードブロック */
        pre {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 1rem;
            overflow-x: auto;
        }

        code {
            background-color: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            color: var(--python-primary);
            font-weight: 500;
        }
        
        .code-block {
            background-color: #1e1e1e !important;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            border: none !important;
        }
        
        .code-block code {
            background-color: transparent !important;
            color: #ffffff;
        }

        /* フローチャート風スタイル */
        .flow-chart {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
        }

        /* ボタンスタイル */
        .btn-primary {
            background-color: var(--python-primary);
            border-color: var(--python-primary);
        }

        .btn-primary:hover {
            background-color: var(--python-accent);
            border-color: var(--python-accent);
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="../README.html">
                <strong>Python学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../README.html">学習ガイド</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../../../cheatsheet/python/python-basics-cheatsheet.html">チートシート</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-01.html">
                                第1章: Python入門と開発環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-02.html">
                                第2章: 基本的な文法と変数
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="python-learning-material-03.html">
                                第3章: 制御構造の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-04.html">
                                第4章: 関数とモジュール
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-05.html">
                                第5章: データ構造の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-06.html">
                                第6章: ファイル操作と例外処理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-07.html">
                                第7章: オブジェクト指向プログラミング入門
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-08.html">
                                第8章: 標準ライブラリの活用
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-09.html">
                                第9章: 外部ライブラリとパッケージ管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-10.html">
                                第10章: 実践プロジェクト開発
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- 章ヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第3章: 制御構造の基礎</h1>
                </div>

                <div id="chapter3">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">制御構造の基礎</h2>
                    
                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>条件分岐（if文）の使い方を理解する</li>
                            <li>繰り返し処理（for文、while文）を習得する</li>
                            <li>制御フローの操作（break、continue）を学ぶ</li>
                            <li>ネストした制御構造を理解する</li>
                            <li>実用的な制御構造のパターンを身につける</li>
                        </ul>
                    </div>

                    <!-- セクション1 -->
                    <h3 class="section-title">3.1 条件分岐（if文）</h3>
                    <p>
                        条件分岐は、プログラムの実行フローを条件によって変える仕組みです。
                        Pythonでは<code>if</code>、<code>elif</code>、<code>else</code>を使用して条件分岐を行います。
                    </p>
                    
                    <h4>基本的なif文</h4>
                    <pre><code># 単純な条件分岐
age = 20

if age >= 18:
    print("あなたは成人です")
else:
    print("あなたは未成年です")</code></pre>

                    <div class="flow-chart">
                        <p><strong>if文の流れ</strong></p>
                        <p>条件がTrue → if文のブロックを実行</p>
                        <p>条件がFalse → else文のブロックを実行</p>
                    </div>

                    <h4>複数条件の分岐（elif）</h4>
                    <pre><code># 複数の条件分岐
score = 85

if score >= 90:
    grade = "A"
    print("優秀です！")
elif score >= 80:
    grade = "B"
    print("良好です")
elif score >= 70:
    grade = "C"
    print("普通です")
elif score >= 60:
    grade = "D"
    print("もう少し頑張りましょう")
else:
    grade = "F"
    print("再試験が必要です")

print(f"成績: {grade}")</code></pre>

                    <h4>複合条件</h4>
                    <pre><code># and, or, notを使った複合条件
username = "admin"
password = "secret123"
age = 25

# and条件
if username == "admin" and password == "secret123":
    print("ログイン成功")

# or条件
if age < 18 or age > 65:
    print("割引対象です")

# not条件
is_logged_in = False
if not is_logged_in:
    print("ログインしてください")</code></pre>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 3-1: BMI判定プログラム</h5>
                        <p>身長と体重からBMIを計算し、健康状態を判定するプログラムを作成しましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li>身長（cm）と体重（kg）を変数に代入する</li>
                            <li>BMI = 体重 ÷ (身長m)² で計算する</li>
                            <li>BMI値に応じて健康状態を判定する</li>
                            <li>結果を出力する</li>
                        </ol>
                        
                        <h6>判定基準</h6>
                        <ul>
                            <li>18.5未満: 低体重</li>
                            <li>18.5以上25未満: 標準体重</li>
                            <li>25以上30未満: 肥満（1度）</li>
                            <li>30以上: 肥満（2度）</li>
                        </ul>
                        
                        <h6>コード例</h6>
                        <pre><code># BMI判定プログラム
height_cm = 170      # 身長（cm）
weight_kg = 65       # 体重（kg）

# 身長をメートルに変換
height_m = height_cm / 100

# BMI計算
bmi = weight_kg / (height_m ** 2)

# 判定
if bmi < 18.5:
    status = "低体重"
    advice = "栄養バランスの良い食事を心がけましょう"
elif bmi < 25:
    status = "標準体重"
    advice = "現在の体重を維持しましょう"
elif bmi < 30:
    status = "肥満（1度）"
    advice = "適度な運動と食事制限を行いましょう"
else:
    status = "肥満（2度）"
    advice = "医師に相談することをお勧めします"

# 結果表示
print(f"身長: {height_cm}cm")
print(f"体重: {weight_kg}kg")
print(f"BMI: {bmi:.1f}")
print(f"判定: {status}")
print(f"アドバイス: {advice}")</code></pre>
                    </div>

                    <!-- セクション2 -->
                    <h3 class="section-title">3.2 for文による繰り返し</h3>
                    
                    <h4>基本的なfor文</h4>
                    <pre><code># リストの要素を順番に処理
fruits = ["りんご", "バナナ", "オレンジ"]

for fruit in fruits:
    print(f"今日のフルーツ: {fruit}")

# 数値の範囲で繰り返し
for i in range(5):
    print(f"カウント: {i}")

# 1から10まで
for i in range(1, 11):
    print(f"数値: {i}")</code></pre>

                    <h4>range()関数の使い方</h4>
                    <pre><code># range(stop) - 0からstop-1まで
for i in range(5):
    print(i)  # 0, 1, 2, 3, 4

# range(start, stop) - startからstop-1まで
for i in range(2, 8):
    print(i)  # 2, 3, 4, 5, 6, 7

# range(start, stop, step) - startからstop-1まで、stepずつ
for i in range(0, 10, 2):
    print(i)  # 0, 2, 4, 6, 8</code></pre>

                    <h4>文字列の繰り返し処理</h4>
                    <pre><code># 文字列の各文字を処理
message = "Python"
for char in message:
    print(f"文字: {char}")

# インデックスと値を同時に取得
for index, char in enumerate(message):
    print(f"位置 {index}: {char}")</code></pre>

                    <!-- セクション3 -->
                    <h3 class="section-title">3.3 while文による繰り返し</h3>
                    
                    <h4>基本的なwhile文</h4>
                    <pre><code># カウントダウン
count = 5
while count > 0:
    print(f"カウントダウン: {count}")
    count -= 1
print("発射！")

# 条件が満たされるまで繰り返し
total = 0
number = 1
while total < 100:
    total += number
    number += 1
print(f"合計が100を超えました: {total}")</code></pre>

                    <div class="warning">
                        <h6>無限ループに注意</h6>
                        <p>while文では条件が永遠にTrueにならないよう注意してください。必ず条件を変化させる処理を含めましょう。</p>
                    </div>

                    <h4>ユーザー入力との組み合わせ</h4>
                    <pre><code># ユーザーが"終了"と入力するまで繰り返し
while True:
    user_input = input("メッセージを入力してください（終了するには'quit'）: ")
    if user_input.lower() == "quit":
        print("プログラムを終了します")
        break
    print(f"あなたが入力したメッセージ: {user_input}")</code></pre>

                    <!-- セクション4 -->
                    <h3 class="section-title">3.4 制御フローの操作</h3>
                    
                    <h4>break文 - ループを抜ける</h4>
                    <pre><code># 特定の条件でループを終了
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

for num in numbers:
    if num == 6:
        print("6が見つかったのでループを終了")
        break
    print(f"処理中: {num}")

print("ループ終了後の処理")</code></pre>

                    <h4>continue文 - 次の繰り返しへ</h4>
                    <pre><code># 偶数をスキップして奇数のみ処理
for i in range(1, 11):
    if i % 2 == 0:  # 偶数の場合
        continue    # 以下の処理をスキップ
    print(f"奇数: {i}")

# 結果: 1, 3, 5, 7, 9が出力される</code></pre>

                    <h4>else文とループ</h4>
                    <pre><code># ループが正常に終了した場合のelse
search_list = [1, 2, 3, 4, 5]
target = 6

for item in search_list:
    if item == target:
        print(f"{target}が見つかりました")
        break
else:
    print(f"{target}は見つかりませんでした")</code></pre>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 3-2: 九九の表を作成</h5>
                        <p>ネストしたfor文を使って九九の表を作成しましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li>外側のループで1から9まで（掛けられる数）</li>
                            <li>内側のループで1から9まで（掛ける数）</li>
                            <li>計算結果を整列して表示</li>
                            <li>見やすい形式で出力</li>
                        </ol>
                        
                        <h6>コード例</h6>
                        <pre><code># 九九の表を作成
print("九九の表")
print("=" * 50)

# ヘッダー行を作成
print("   ", end="")
for j in range(1, 10):
    print(f"{j:4}", end="")
print()

print("-" * 50)

# 九九の計算と表示
for i in range(1, 10):
    print(f"{i} |", end="")
    for j in range(1, 10):
        result = i * j
        print(f"{result:4}", end="")
    print()  # 改行

print("\n特定の段のみ表示:")
target_dan = 7
print(f"{target_dan}の段:")
for i in range(1, 10):
    result = target_dan * i
    print(f"{target_dan} × {i} = {result}")</code></pre>
                        
                        <h6>期待される結果</h6>
                        <pre><code>九九の表
==================================================
      1   2   3   4   5   6   7   8   9
--------------------------------------------------
1 |   1   2   3   4   5   6   7   8   9
2 |   2   4   6   8  10  12  14  16  18
3 |   3   6   9  12  15  18  21  24  27
...（省略）</code></pre>
                    </div>

                    <!-- セクション5 -->
                    <h3 class="section-title">3.5 実用的なパターン</h3>
                    
                    <h4>リストの要素を条件で絞り込み</h4>
                    <pre><code># 成績データから合格者を抽出
scores = [85, 92, 67, 78, 95, 58, 88, 76]
passing_grade = 70

print("全体の成績:")
for i, score in enumerate(scores, 1):
    print(f"学生{i}: {score}点")

print(f"\n合格者（{passing_grade}点以上）:")
passed_count = 0
for i, score in enumerate(scores, 1):
    if score >= passing_grade:
        print(f"学生{i}: {score}点")
        passed_count += 1

print(f"\n合格者数: {passed_count}人")
print(f"合格率: {passed_count/len(scores)*100:.1f}%")</code></pre>

                    <h4>入力検証とエラーハンドリング</h4>
                    <pre><code># 有効な数値が入力されるまで繰り返し
while True:
    try:
        user_age = input("年齢を入力してください: ")
        age = int(user_age)
        
        if age < 0:
            print("年齢は0以上である必要があります")
            continue
        elif age > 150:
            print("年齢は150以下である必要があります")
            continue
        else:
            break  # 有効な入力なのでループを抜ける
            
    except ValueError:
        print("数値を入力してください")

print(f"入力された年齢: {age}歳")</code></pre>

                    <!-- 理解度確認 -->
                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>
                                <strong>問題1:</strong> 次のコードの出力結果は何ですか？
                                <pre><code>for i in range(3, 8, 2):
    print(i)</code></pre>
                            </li>
                            <li>
                                <strong>問題2:</strong> while文とfor文の主な違いは何ですか？
                            </li>
                            <li>
                                <strong>問題3:</strong> break文とcontinue文の違いを説明してください。
                            </li>
                            <li>
                                <strong>問題4:</strong> 次のコードで無限ループになってしまう理由は何ですか？
                                <pre><code>count = 10
while count > 0:
    print(count)</code></pre>
                            </li>
                            <li>
                                <strong>問題5:</strong> 条件分岐で複数の条件をすべて満たす場合に使用する演算子は何ですか？
                            </li>
                        </ol>
                        
                        <details style="margin-top: 1rem;">
                            <summary>解答を見る</summary>
                            <div style="margin-top: 0.5rem;">
                                <p><strong>解答:</strong></p>
                                <ol>
                                    <li>3, 5, 7（3から開始、8未満まで、2ずつ増加）</li>
                                    <li>while文は条件が満たされる限り繰り返し、for文は指定された回数や要素数だけ繰り返す</li>
                                    <li>break文はループ全体を終了、continue文は現在の繰り返しをスキップして次の繰り返しへ</li>
                                    <li>count の値が変更されないため、条件が永続的にTrueになる</li>
                                    <li>and演算子</li>
                                </ol>
                            </div>
                        </details>
                    </div>

                    <!-- まとめ -->
                    <h3 class="section-title">3.6 まとめ</h3>
                    <p>
                        この章では、プログラムの実行フローを制御する重要な構文について学習しました。
                        条件分岐と繰り返し処理は、ほぼすべてのプログラムで使用される基本的な制御構造です。
                        これらを組み合わせることで、複雑な処理を記述できるようになります。
                    </p>

                    <div class="highlight">
                        <h6>重要なポイント</h6>
                        <ul>
                            <li>if文では条件の順序に注意する（上から順に評価される）</li>
                            <li>while文では無限ループに注意し、必ず条件を変化させる</li>
                            <li>breakとcontinueを適切に使い分ける</li>
                            <li>ネストした制御構造では、インデントを正しく記述する</li>
                        </ul>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="python-learning-material-02.html" class="btn btn-secondary">← 前の章: 基本的な文法と変数</a>
                        <a href="python-learning-material-04.html" class="btn btn-primary">次の章: 関数とモジュール →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
</body>
</html>