<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" id="viewport-meta">
    <title>PHP学習教材 第4章 - 条件分岐と繰り返し</title>

    <!-- ダークモード早期適用（フラッシュ防止） -->
    <script>
        (function() {
            const saved = localStorage.getItem('darkMode');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (saved === 'dark' || (saved === null && prefersDark)) {
                document.documentElement.classList.add('dark');
            }
        })();
    </script>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            200: '#c7d2fe',
                            300: '#a5b4fc',
                            400: '#818cf8',
                            500: '#6366f1',
                            600: '#4f46e5',
                            700: '#4338ca',
                            800: '#3730a3',
                            900: '#312e81',
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans JP"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts - Noto Sans JP -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- カスタムスタイル -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="font-sans bg-slate-50 text-slate-800 antialiased">
    <!-- ヘッダー/ナビゲーションバー -->
    <header class="fixed top-0 left-0 right-0 z-50 text-white header-rich header-rich-shadow">
        <nav class="w-full px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="flex items-center justify-between py-3">
                <!-- 左側: ロゴとタイトルセクション -->
                <div class="flex items-center gap-4">
                    <!-- アイコン -->
                    <div class="relative group">
                        <div class="absolute inset-0 bg-gradient-to-br from-yellow-400/30 to-orange-400/30 rounded-2xl blur-lg group-hover:blur-xl transition-all"></div>
                        <div class="relative w-14 h-14 bg-white/10 rounded-xl flex items-center justify-center backdrop-blur-sm border border-white/20">
                            <i class="fab fa-php text-3xl icon-rotate-hover drop-shadow-lg"></i>
                        </div>
                    </div>

                    <!-- タイトルとメタ情報 -->
                    <div class="flex flex-col gap-1">
                        <div class="flex items-center gap-2">
                            <span class="text-xl font-bold tracking-wide drop-shadow-md">PHP学習教材</span>
                            <span class="hidden sm:inline-flex items-center gap-1 px-2 py-0.5 bg-white/20 rounded-md text-[10px] font-semibold uppercase tracking-wider">
                                <i class="fas fa-star text-yellow-300 text-[8px]"></i>
                                初級
                            </span>
                        </div>
                        <div class="flex items-center gap-3 text-[11px] text-white/90 font-medium">
                            <div class="flex items-center gap-1">
                                <i class="fas fa-code text-[9px]"></i>
                                <span>プログラミング言語</span>
                            </div>
                            <div class="hidden sm:flex items-center gap-1">
                                <i class="fas fa-clock text-[9px]"></i>
                                <span>所要時間 約22時間</span>
                            </div>
                            <div class="hidden lg:flex items-center gap-1">
                                <i class="fas fa-language text-[9px]"></i>
                                <span>日本語</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 右側: サイドバートグルボタン -->
                <button id="sidebar-toggle-btn" class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20 transition-all active:scale-95" title="サイドバーの表示/非表示">
                    <i class="fas fa-bars text-lg"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- メインレイアウト -->
    <div class="flex min-h-screen pt-20">
        <!-- サイドバーはsidebar-content.jsで動的に生成されます -->

        <!-- メインコンテンツ -->
        <main class="flex-1 min-w-0">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-10 py-6">
                <!-- パンくずリスト -->
                <nav class="flex items-center gap-2 text-sm text-slate-500 mb-6">
                    <a href="https://fcircle-biz.github.io/tech_docs/" class="hover:text-primary-600 transition-colors">ホーム</a>
                    <i class="fas fa-chevron-right text-xs"></i>
                    <a href="../" class="hover:text-primary-600 transition-colors">PHP</a>
                    <i class="fas fa-chevron-right text-xs"></i>
                    <span class="text-slate-700">第4章</span>
                </nav>

                <!-- 章ヘッダー -->
                <header class="mb-6">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
                                     bg-primary-100 text-primary-700">
                            第4章
                        </span>
                        <span class="text-sm text-slate-500">
                            <i class="fas fa-clock mr-1"></i>所要時間: 1時間15分
                        </span>
                    </div>
                    <h1 class="text-2xl sm:text-3xl font-bold text-slate-900 mb-2">条件分岐と繰り返し</h1>
                    <p class="text-slate-600">if文、switch文による条件分岐、for文、while文、foreach文による繰り返し処理の基本パターンを習得します。</p>
                </header>

                <!-- 学習目標カード -->
                <div class="bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200
                            rounded-xl p-5 mb-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-amber-400 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-lightbulb text-white"></i>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-amber-800 mb-3">この章で学ぶこと</h2>
                            <ul class="space-y-2">
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>if文を使った条件分岐の書き方を理解する</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>switch文を使った複数条件の処理方法を学ぶ</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>for文、while文、foreach文を使った繰り返し処理をマスターする</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>break文とcontinue文でループを制御する方法を習得する</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- セクション 4.1 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.1 条件分岐とは
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>条件分岐</strong>とは、プログラムの実行中に「ある条件が成り立っているかどうか」を判定し、
                        その結果に応じて異なる処理を実行する仕組みです。
                    </p>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        日常生活でも私たちは常に条件分岐をしています。例えば：
                    </p>
                    <ul class="space-y-2 mb-4">
                        <li class="flex items-start gap-2 text-slate-600">
                            <i class="fas fa-arrow-right text-primary-500 mt-1 flex-shrink-0"></i>
                            <span>「雨が降っていたら傘を持っていく、そうでなければ持っていかない」</span>
                        </li>
                        <li class="flex items-start gap-2 text-slate-600">
                            <i class="fas fa-arrow-right text-primary-500 mt-1 flex-shrink-0"></i>
                            <span>「テストの点数が60点以上なら合格、未満なら不合格」</span>
                        </li>
                        <li class="flex items-start gap-2 text-slate-600">
                            <i class="fas fa-arrow-right text-primary-500 mt-1 flex-shrink-0"></i>
                            <span>「信号が赤なら止まる、青なら進む、黄色なら注意して進む」</span>
                        </li>
                    </ul>

                    <div class="bg-gradient-to-r from-slate-50 to-gray-50 border border-slate-200 rounded-xl p-5 my-6">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-sitemap text-slate-600"></i>
                            条件分岐の基本的な流れ
                        </h3>
                        <div class="mermaid">
flowchart TD
    A([開始]) --> B{条件は真か?}
    B -- はい --> C[処理A]
    B -- いいえ --> D[処理B]
    C --> E([終了])
    D --> E
                        </div>
                    </div>
                </section>

                <!-- セクション 4.2 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.2 if文の基本
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>if文</strong>は、最も基本的な条件分岐の構文です。
                        条件が真（true）のときだけ、特定の処理を実行します。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">基本的な構文</h3>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">if文の基本構文</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// if文の基本形
$age = 20;

if ($age &gt;= 18) {
    echo "成人です";
}
// 出力: 成人です
?&gt;</code></pre>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">if-else文</h3>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        条件が偽（false）のときに別の処理を実行したい場合は、<strong>else</strong>を使います。
                    </p>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">if-else.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// 天気による判断
$weather = "雨";

if ($weather == "晴れ") {
    echo "傘は必要ありません";
} else {
    echo "傘を持っていきましょう";
}
// 出力: 傘を持っていきましょう
?&gt;</code></pre>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">if-elseif-else文</h3>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        複数の条件を順番にチェックしたい場合は、<strong>elseif</strong>を使います。
                    </p>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">grade.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// 成績判定
$score = 75;

if ($score &gt;= 90) {
    echo "A評価";
} elseif ($score &gt;= 80) {
    echo "B評価";
} elseif ($score &gt;= 70) {
    echo "C評価";
} else {
    echo "D評価";
}
// 出力: C評価
?&gt;</code></pre>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-lightbulb text-blue-600 mt-1"></i>
                            <div>
                                <p class="text-blue-900 font-medium">条件は上から順番に評価されます</p>
                                <p class="text-blue-800 text-sm mt-1">
                                    最初に真（true）となった条件の処理だけが実行され、それ以降の条件はチェックされません。
                                    上記の例では、75点は「70点以上」にも該当しますが、「C評価」だけが表示されます。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション 4.3 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.3 比較演算子と論理演算子
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        条件分岐では、値を比較したり、複数の条件を組み合わせたりするために、
                        <strong>比較演算子</strong>と<strong>論理演算子</strong>を使います。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">主な比較演算子</h3>
                    <div class="overflow-x-auto my-4">
                        <table class="min-w-full border-collapse border border-slate-300">
                            <thead>
                                <tr class="bg-slate-100">
                                    <th class="border border-slate-300 px-4 py-2 text-left">演算子</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">意味</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">例</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">==</td>
                                    <td class="border border-slate-300 px-4 py-2">等しい</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a == $b</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="border border-slate-300 px-4 py-2 font-mono">!=</td>
                                    <td class="border border-slate-300 px-4 py-2">等しくない</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a != $b</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">&gt;</td>
                                    <td class="border border-slate-300 px-4 py-2">より大きい</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a &gt; $b</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="border border-slate-300 px-4 py-2 font-mono">&lt;</td>
                                    <td class="border border-slate-300 px-4 py-2">より小さい</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a &lt; $b</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">&gt;=</td>
                                    <td class="border border-slate-300 px-4 py-2">以上</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a &gt;= $b</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="border border-slate-300 px-4 py-2 font-mono">&lt;=</td>
                                    <td class="border border-slate-300 px-4 py-2">以下</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a &lt;= $b</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">===</td>
                                    <td class="border border-slate-300 px-4 py-2">厳密に等しい（型も同じ）</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a === $b</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="border border-slate-300 px-4 py-2 font-mono">!==</td>
                                    <td class="border border-slate-300 px-4 py-2">厳密に等しくない</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a !== $b</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">主な論理演算子</h3>
                    <div class="overflow-x-auto my-4">
                        <table class="min-w-full border-collapse border border-slate-300">
                            <thead>
                                <tr class="bg-slate-100">
                                    <th class="border border-slate-300 px-4 py-2 text-left">演算子</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">意味</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">例</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">&amp;&amp;</td>
                                    <td class="border border-slate-300 px-4 py-2">かつ（AND）</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a &amp;&amp; $b</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="border border-slate-300 px-4 py-2 font-mono">||</td>
                                    <td class="border border-slate-300 px-4 py-2">または（OR）</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">$a || $b</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">!</td>
                                    <td class="border border-slate-300 px-4 py-2">でない（NOT）</td>
                                    <td class="border border-slate-300 px-4 py-2 font-mono">!$a</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">logical-operators.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// 論理演算子の使用例
$age = 25;
$hasLicense = true;

// AND: 両方の条件が真の場合
if ($age &gt;= 18 &amp;&amp; $hasLicense) {
    echo "運転できます";
}

// OR: どちらかの条件が真の場合
$isStudent = false;
if ($age &lt; 18 || $isStudent) {
    echo "学割が適用されます";
} else {
    echo "通常料金です";
}
?&gt;</code></pre>
                    </div>
                </section>

                <!-- セクション 4.4 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.4 switch文
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>switch文</strong>は、1つの変数の値に応じて複数の処理を分岐させたい場合に便利です。
                        複数のif-elseif文を書く代わりに、よりシンプルに書けます。
                    </p>

                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">switch.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// 曜日に応じたメッセージ
$day = "月曜日";

switch ($day) {
    case "月曜日":
        echo "今週も頑張りましょう！";
        break;  // breakがないと次のcaseも実行される
    case "金曜日":
        echo "もうすぐ週末ですね";
        break;
    case "土曜日":
    case "日曜日":  // 複数のcaseをまとめる
        echo "良い週末を！";
        break;
    default:  // どのcaseにも該当しない場合
        echo "今日も良い一日を";
}
?&gt;</code></pre>
                    </div>

                    <div class="bg-red-50 border-l-4 border-red-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-exclamation-triangle text-red-600 mt-1"></i>
                            <div>
                                <p class="text-red-900 font-medium">breakを忘れずに</p>
                                <p class="text-red-800 text-sm mt-1">
                                    各caseの最後には<code class="bg-red-100 px-1 rounded">break</code>を書くのが一般的です。
                                    breakを書かないと、次のcaseの処理も続けて実行されてしまいます（フォールスルー）。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション 4.5 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.5 繰り返し処理とは
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>繰り返し処理（ループ）</strong>とは、同じ処理を何度も実行する仕組みです。
                        手作業で何度も同じコードを書く代わりに、ループを使うことで効率的にプログラムを書けます。
                    </p>

                    <div class="bg-gradient-to-r from-slate-50 to-gray-50 border border-slate-200 rounded-xl p-5 my-6">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-sync-alt text-slate-600"></i>
                            繰り返し処理の基本的な流れ
                        </h3>
                        <div class="mermaid">
flowchart TD
    A([開始]) --> B{継続条件は真か?}
    B -- はい --> C[処理を実行]
    C --> D[カウンタを更新]
    D --> B
    B -- いいえ --> E([終了])
                        </div>
                    </div>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        例えば、「1から10までの数字を表示する」という処理を考えてみましょう。
                    </p>
                    <div class="grid md:grid-cols-2 gap-4 my-6">
                        <div class="bg-red-50 border border-red-200 rounded-xl p-4">
                            <h4 class="font-semibold text-red-800 mb-2">ループを使わない場合（非効率）</h4>
                            <pre class="text-red-900 text-sm bg-red-100 rounded p-3 overflow-x-auto"><code>echo 1;
echo 2;
echo 3;
...
echo 10;
// 10行も書く必要がある</code></pre>
                        </div>
                        <div class="bg-emerald-50 border border-emerald-200 rounded-xl p-4">
                            <h4 class="font-semibold text-emerald-800 mb-2">ループを使う場合（効率的）</h4>
                            <pre class="text-emerald-900 text-sm bg-emerald-100 rounded p-3 overflow-x-auto"><code>for ($i = 1; $i &lt;= 10; $i++) {
    echo $i;
}
// たった3行で完結</code></pre>
                        </div>
                    </div>
                </section>

                <!-- セクション 4.6 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.6 for文
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>for文</strong>は、繰り返しの回数が決まっている場合に便利なループです。
                        「初期化」「条件」「増減」の3つの要素を1行で書けます。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">基本的な構文</h3>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">for-basic.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// for文の基本形
// for (初期化; 条件; 増減)
for ($i = 1; $i &lt;= 5; $i++) {
    echo "繰り返し {$i} 回目&lt;br&gt;";
}

// 出力:
// 繰り返し 1 回目
// 繰り返し 2 回目
// 繰り返し 3 回目
// 繰り返し 4 回目
// 繰り返し 5 回目
?&gt;</code></pre>
                    </div>

                    <div class="bg-blue-50 border border-blue-200 rounded-xl p-5 my-6">
                        <h4 class="font-semibold text-blue-800 mb-3">for文の3つの要素</h4>
                        <ol class="space-y-2">
                            <li class="text-blue-900">
                                <strong>初期化（$i = 1）：</strong> ループが始まる前に1回だけ実行される
                            </li>
                            <li class="text-blue-900">
                                <strong>条件（$i &lt;= 5）：</strong> この条件が真の間、ループが繰り返される
                            </li>
                            <li class="text-blue-900">
                                <strong>増減（$i++）：</strong> ループの最後に毎回実行される
                            </li>
                        </ol>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">実用例: 九九の表</h3>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">multiplication-table.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// 5の段を表示
for ($i = 1; $i &lt;= 9; $i++) {
    $result = 5 * $i;
    echo "5 x {$i} = {$result}&lt;br&gt;";
}

// 出力:
// 5 x 1 = 5
// 5 x 2 = 10
// ...
// 5 x 9 = 45
?&gt;</code></pre>
                    </div>
                </section>

                <!-- セクション 4.7 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.7 while文
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>while文</strong>は、条件が真である限り繰り返し続けるループです。
                        繰り返し回数が事前にわからない場合に便利です。
                    </p>

                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">while-basic.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// while文の基本形
$count = 1;

while ($count &lt;= 3) {
    echo "カウント: {$count}&lt;br&gt;";
    $count++;  // カウンタを増やす
}

// 出力:
// カウント: 1
// カウント: 2
// カウント: 3
?&gt;</code></pre>
                    </div>

                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-exclamation-circle text-orange-600 mt-1"></i>
                            <div>
                                <p class="text-orange-900 font-medium">無限ループに注意</p>
                                <p class="text-orange-800 text-sm mt-1">
                                    while文では、ループ内で必ずカウンタを更新するか、条件が偽になるような処理を書きましょう。
                                    そうしないと、ループが永遠に続いてしまいます（無限ループ）。
                                </p>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">do-while文</h3>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>do-while文</strong>は、条件をチェックする前に必ず1回は処理を実行するループです。
                    </p>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">do-while.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// do-while文: 条件に関わらず最低1回は実行される
$number = 10;

do {
    echo "実行されました&lt;br&gt;";
    $number++;
} while ($number &lt; 5);
// 条件は偽だが、1回は実行される
?&gt;</code></pre>
                    </div>
                </section>

                <!-- セクション 4.8 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.8 foreach文
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>foreach文</strong>は、配列の要素を1つずつ取り出して処理するための専用ループです。
                        配列を扱う際に最もよく使われます。
                    </p>

                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">foreach-basic.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// 配列の各要素を処理
$fruits = ["リンゴ", "バナナ", "オレンジ"];

foreach ($fruits as $fruit) {
    echo "{$fruit}が好きです&lt;br&gt;";
}

// 出力:
// リンゴが好きです
// バナナが好きです
// オレンジが好きです
?&gt;</code></pre>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">連想配列とforeach</h3>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">foreach-associative.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// キーと値の両方を取得
$scores = [
    "数学" =&gt; 85,
    "英語" =&gt; 90,
    "国語" =&gt; 78
];

foreach ($scores as $subject =&gt; $score) {
    echo "{$subject}: {$score}点&lt;br&gt;";
}

// 出力:
// 数学: 85点
// 英語: 90点
// 国語: 78点
?&gt;</code></pre>
                    </div>
                </section>

                <!-- セクション 4.9 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        4.9 ループの制御（break と continue）
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        ループの途中で処理を中断したり、スキップしたりするために、
                        <strong>break</strong>と<strong>continue</strong>を使います。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">break文</h3>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>break</strong>は、ループを途中で終了させます。
                    </p>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">break.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// 特定の条件でループを終了
for ($i = 1; $i &lt;= 10; $i++) {
    if ($i == 5) {
        echo "5に到達したので終了&lt;br&gt;";
        break;  // ループを抜ける
    }
    echo "{$i} ";
}

// 出力: 1 2 3 4 5に到達したので終了
?&gt;</code></pre>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mb-3">continue文</h3>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong>continue</strong>は、現在の繰り返しをスキップして次の繰り返しに進みます。
                    </p>
                    <div class="code-block-wrapper mb-4">
                        <div class="flex items-center justify-between bg-slate-800 px-4 py-2 rounded-t-lg">
                            <span class="text-slate-400 text-sm">continue.php</span>
                            <button class="copy-btn text-slate-400 hover:text-white transition-colors" onclick="copyCode(this)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <pre class="!mt-0 !rounded-t-none"><code class="language-php">&lt;?php
// 偶数だけをスキップ
for ($i = 1; $i &lt;= 5; $i++) {
    if ($i % 2 == 0) {
        continue;  // 偶数の場合はスキップ
    }
    echo "{$i} ";  // 奇数だけ表示
}

// 出力: 1 3 5
?&gt;</code></pre>
                    </div>

                    <div class="bg-gradient-to-r from-slate-50 to-gray-50 border border-slate-200 rounded-xl p-5 my-6">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-code-branch text-slate-600"></i>
                            breakとcontinueの違い
                        </h3>
                        <div class="mermaid">
flowchart TD
    A([ループ開始]) --> B{条件チェック}
    B -- 継続 --> C{break?}
    C -- はい --> D([ループ終了])
    C -- いいえ --> E{continue?}
    E -- はい --> B
    E -- いいえ --> F[処理実行]
    F --> B
    B -- 終了条件 --> D
                        </div>
                    </div>
                </section>

                <!-- 実習カード -->
                <div class="bg-gradient-to-r from-purple-50 to-fuchsia-50 border border-purple-200
                            rounded-xl p-5 my-8 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-purple-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-code text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-purple-800 mb-3 break-words">実習 4-1: 条件分岐と繰り返しの練習</h3>
                            <p class="text-purple-900 mb-4 break-words">
                                学習した内容を実際に使って、条件分岐と繰り返し処理のプログラムを作成しましょう。
                            </p>
                            <h4 class="font-medium text-purple-800 mb-2 break-words">課題</h4>
                            <ol class="space-y-3 mb-4">
                                <li class="flex items-start gap-3 text-purple-900">
                                    <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full flex items-center justify-center text-sm font-medium">1</span>
                                    <span class="flex-1 min-w-0 break-words">1から20までの数字を表示し、3の倍数の場合は「Fizz」、5の倍数の場合は「Buzz」、15の倍数の場合は「FizzBuzz」と表示するプログラムを作成してください。</span>
                                </li>
                                <li class="flex items-start gap-3 text-purple-900">
                                    <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full flex items-center justify-center text-sm font-medium">2</span>
                                    <span class="flex-1 min-w-0 break-words">配列に5つの商品名と価格を入れ、foreach文で全ての商品を表示し、合計金額を計算するプログラムを作成してください。</span>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- 理解度確認クイズ -->
                <div class="bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200
                            rounded-xl p-5 my-8 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-question text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-blue-800 mb-4 break-words">理解度確認クイズ</h3>
                            <ol class="space-y-4">
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q1. if文とswitch文の違いは何ですか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            <strong>if文</strong>は、複雑な条件や範囲の比較に適しています。<br>
                                            <strong>switch文</strong>は、1つの変数の値が特定の値と等しいかを判定する場合にシンプルに書けます。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q2. for文、while文、foreach文の使い分けは？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            <strong>for文</strong>: 繰り返し回数が決まっている場合<br>
                                            <strong>while文</strong>: 条件が真の間繰り返したい場合<br>
                                            <strong>foreach文</strong>: 配列の要素を順番に処理したい場合
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q3. breakとcontinueの違いは何ですか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            <strong>break</strong>: ループ全体を終了して、ループから抜け出す<br>
                                            <strong>continue</strong>: 現在の繰り返しだけをスキップして、次の繰り返しに進む
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q4. 次のコードの出力は何ですか？<br><code class="bg-blue-100 px-1 rounded">for ($i = 0; $i &lt; 3; $i++) { echo $i; }</code></p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            <strong>012</strong><br>
                                            $iは0から始まり、3未満の間繰り返すため、0, 1, 2が表示されます。
                                        </p>
                                    </details>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- 章のまとめ -->
                <div class="bg-gradient-to-r from-slate-50 to-gray-50 border border-slate-200 rounded-xl p-6 my-8">
                    <h2 class="text-xl font-semibold text-slate-800 mb-4 flex items-center gap-2">
                        <i class="fas fa-bookmark text-slate-600"></i>
                        第4章のまとめ
                    </h2>
                    <ul class="space-y-3">
                        <li class="flex items-start gap-3 text-slate-700">
                            <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                            <span><strong>if文</strong>は条件に応じて処理を分岐させ、elseifやelseと組み合わせて複数の条件を処理できます。</span>
                        </li>
                        <li class="flex items-start gap-3 text-slate-700">
                            <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                            <span><strong>switch文</strong>は1つの変数の値に応じた処理の分岐に便利で、各caseの最後にはbreakを書きます。</span>
                        </li>
                        <li class="flex items-start gap-3 text-slate-700">
                            <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                            <span><strong>for文</strong>は繰り返し回数が決まっている場合に使い、初期化・条件・増減を1行で書けます。</span>
                        </li>
                        <li class="flex items-start gap-3 text-slate-700">
                            <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                            <span><strong>while文</strong>は条件が真の間繰り返し、do-while文は最低1回は必ず実行されます。</span>
                        </li>
                        <li class="flex items-start gap-3 text-slate-700">
                            <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                            <span><strong>foreach文</strong>は配列の要素を順番に処理する専用のループです。</span>
                        </li>
                        <li class="flex items-start gap-3 text-slate-700">
                            <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                            <span><strong>break</strong>でループを終了、<strong>continue</strong>で現在の繰り返しをスキップできます。</span>
                        </li>
                    </ul>
                </div>

                <!-- 章間ナビゲーション -->
                <nav class="flex items-center justify-between pt-6 mt-6 border-t border-slate-200">
                    <a href="php-learning-material-03.html"
                       class="group flex items-center gap-3 px-4 py-3 rounded-xl
                              bg-slate-100 hover:bg-slate-200 transition-colors">
                        <i class="fas fa-arrow-left text-slate-400 group-hover:text-slate-600 transition-transform group-hover:-translate-x-1"></i>
                        <div>
                            <span class="text-xs text-slate-500 block">前の章</span>
                            <span class="text-slate-700 font-medium">第3章: 変数とデータ型</span>
                        </div>
                    </a>
                    <a href="php-learning-material-05.html"
                       class="group flex items-center gap-3 px-4 py-3 rounded-xl
                              bg-primary-500 hover:bg-primary-600 text-white transition-colors">
                        <div class="text-right">
                            <span class="text-xs text-primary-100 block">次の章</span>
                            <span class="font-medium">第5章: 関数の基礎</span>
                        </div>
                        <i class="fas fa-arrow-right transition-transform group-hover:translate-x-1"></i>
                    </a>
                </nav>
            </div>
        </main>
    </div>

    <!-- フッター -->
    <footer class="bg-slate-800 text-slate-300">
        <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <p class="text-sm text-center md:text-left">
                    &copy; 2025 F-Circle. All rights reserved.<br>
                    本資料はAIツールを活用し、人間による編集・監修のもと作成されています。
                </p>
                <div class="flex items-center gap-4">
                    <a href="https://github.com/fcircle-biz" class="hover:text-white transition-colors">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- スクロールトップボタン -->
    <button id="scroll-top-btn"
            class="fixed bottom-6 right-6 w-12 h-12 bg-primary-500 text-white rounded-full
                   shadow-lg hover:bg-primary-600 transition-all duration-300
                   opacity-0 invisible translate-y-4"
            onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- サイドバー生成 -->
    <script src="sidebar-content.js"></script>

    <!-- 共通JavaScript -->
    <script src="main.js"></script>

    <!-- 描画ツール -->
    <script src="drawing-tool.js"></script>
</body>
</html>
