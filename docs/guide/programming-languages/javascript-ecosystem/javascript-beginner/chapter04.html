<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript学習教材 第4章 - 繰り返し処理をマスターしよう</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        .navbar {
            background-color: #1565c0;
        }
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        .chapter-title {
            color: #1565c0;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #1565c0;
            padding-bottom: 0.5rem;
        }
        .section-title {
            color: #1976d2;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        /* コードハイライト */
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        code {
            display: block;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            white-space: pre;
            overflow-x: auto;
        }
        .quiz-container {
            background-color: #e3f2fd;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .highlight {
            background-color: #fff3e0;
            padding: 1rem;
            border-left: 4px solid #ff9800;
            margin: 1rem 0;
        }
        .project-container {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">JavaScript学習ガイド</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../../../README.md">ホーム</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="README.md">ガイド一覧</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading">学習内容</h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="chapter01.html">第1章: プログラミングって何？</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter02.html">第2章: 数字と文字を扱おう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter03.html">第3章: 条件によって処理を変えよう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="#chapter4">第4章: 繰り返し処理をマスターしよう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter05.html">第5章: 関数で処理をまとめよう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter06.html">第6章: Webページを操作しよう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter07.html">第7章: ToDoリストアプリを作ろう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter08.html">第8章: 電卓アプリを作ろう</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第4章: 繰り返し処理をマスターしよう</h1>
                </div>

                <div id="chapter4">
                    <div class="project-container">
                        <h5>🎯 この章の実践プロジェクト</h5>
                        <p><strong>数当てゲーム</strong>を作成します</p>
                        <p>コンピューターが選んだ数字を当てるゲームを作りましょう。繰り返し処理を使って、正解するまでチャレンジできるようになります！</p>
                    </div>

                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>for文とwhile文</li>
                            <li>配列の基本</li>
                            <li>繰り返し処理の活用</li>
                            <li>ランダム数値の生成</li>
                        </ul>
                    </div>

                    <h2 class="chapter-title">繰り返し処理って何？</h2>
                    
                    <h3 class="section-title">4.1 繰り返し処理とは</h3>
                    <p>
                        繰り返し処理（ループ）とは、<strong>同じ処理を何度も繰り返すこと</strong>です。
                        毎日同じことを手作業でやるのは大変ですが、コンピューターは疲れずに何度でも同じことを実行できます。
                    </p>
                    
                    <p>例えば：</p>
                    <ul>
                        <li>1から10まで数える</li>
                        <li>リストの全ての項目を確認する</li>
                        <li>正解するまで質問を繰り返す</li>
                        <li>ファイルの中身を一行ずつ読む</li>
                    </ul>

                    <h3 class="section-title">4.2 for文の基本</h3>
                    <p>
                        <pre class="code-block"><code class="language-javascript">for</code></pre>文は、<strong>回数が決まっている繰り返し</strong>に使います。
                    </p>
                    
                    <pre class="code-block"><code class="language-javascript">for (初期化; 条件; 更新) {
    // 繰り返し実行される処理
}</code></pre>

                    <div class="exercise-container">
                        <h5>実習 4-1: 最初のfor文</h5>
                        <p>開発者ツールのコンソールに以下を入力してください：</p>
                        <pre class="code-block"><code class="language-javascript">for (let i = 1; i <= 5; i++) {
    console.log(i + "回目の処理");
}</code></pre>
                        <p>5回繰り返されましたか？</p>
                    </div>

                    <p>for文の仕組み：</p>
                    <ol>
                        <li><strong>初期化</strong>: <pre class="code-block"><code class="language-javascript">let i = 1</code></pre> - 最初に1回だけ実行</li>
                        <li><strong>条件</strong>: <pre class="code-block"><code class="language-javascript">i <= 5</code></pre> - 毎回チェック、falseなら終了</li>
                        <li><strong>処理</strong>: <pre class="code-block"><code class="language-javascript">console.log(...)</code></pre> - 条件がtrueの間実行</li>
                        <li><strong>更新</strong>: <pre class="code-block"><code class="language-javascript">i++</code></pre> - 処理の後に実行</li>
                    </ol>

                    <div class="exercise-container">
                        <h5>実習 4-2: カウントダウン</h5>
                        <pre class="code-block"><code class="language-javascript">console.log("カウントダウン開始！");
for (let i = 10; i >= 1; i--) {
    console.log(i);
}
console.log("発射！🚀");</code></pre>
                    </div>

                    <h3 class="section-title">4.3 while文の基本</h3>
                    <p>
                        <pre class="code-block"><code class="language-javascript">while</code></pre>文は、<strong>条件が満たされている間</strong>繰り返します。
                        回数が事前に分からない場合に使います。
                    </p>
                    
                    <pre class="code-block"><code class="language-javascript">while (条件) {
    // 繰り返し実行される処理
}</code></pre>

                    <div class="exercise-container">
                        <h5>実習 4-3: while文</h5>
                        <pre class="code-block"><code class="language-javascript">let count = 1;
while (count <= 3) {
    console.log(count + "回目");
    count++;
}</code></pre>
                    </div>

                    <div class="highlight">
                        <h5>⚠️ 注意：無限ループに気をつけよう</h5>
                        <p>条件が永遠にtrueのままだと、プログラムが止まらなくなります。</p>
                        <p>必ず条件がfalseになるように、カウンターを更新しましょう。</p>
                    </div>

                    <h2 class="chapter-title">配列を使ってみよう</h2>

                    <h3 class="section-title">4.4 配列って何？</h3>
                    <p>
                        配列とは、<strong>複数の値を順番に並べて保存できる箱</strong>です。
                        買い物リストや成績表のように、関連するデータをまとめて管理できます。
                    </p>

                    <div class="exercise-container">
                        <h5>実習 4-4: 配列を作る</h5>
                        <pre class="code-block"><code class="language-javascript">let fruits = ["りんご", "バナナ", "オレンジ"];
console.log(fruits);
console.log(fruits[0]);  // 最初の要素
console.log(fruits[1]);  // 2番目の要素
console.log(fruits[2]);  // 3番目の要素</code></pre>
                        <p>配列の番号（インデックス）は0から始まります。</p>
                    </div>

                    <h3 class="section-title">4.5 配列の操作</h3>
                    <p>
                        配列には便利な機能がたくさんあります。
                    </p>
                    
                    <div class="exercise-container">
                        <h5>実習 4-5: 配列の操作</h5>
                        <pre class="code-block"><code class="language-javascript">let numbers = [1, 2, 3];

// 要素を追加
numbers.push(4);
numbers.push(5);
console.log(numbers);

// 配列の長さを取得
console.log("配列の長さ: " + numbers.length);

// 最後の要素を削除
let lastNumber = numbers.pop();
console.log("削除した要素: " + lastNumber);
console.log(numbers);</code></pre>
                    </div>

                    <h3 class="section-title">4.6 配列とfor文の組み合わせ</h3>
                    <p>
                        for文を使って、配列の全ての要素を順番に処理できます。
                    </p>
                    
                    <div class="exercise-container">
                        <h5>実習 4-6: 配列をループで処理</h5>
                        <pre class="code-block"><code class="language-javascript">let colors = ["赤", "青", "緑", "黄色"];

console.log("=== 普通のfor文 ===");
for (let i = 0; i < colors.length; i++) {
    console.log((i + 1) + "番目の色: " + colors[i]);
}

console.log("=== for...of文 ===");
for (let color of colors) {
    console.log("色: " + color);
}</code></pre>
                    </div>

                    <h2 class="chapter-title">ランダム数値を生成しよう</h2>

                    <h3 class="section-title">4.7 Math.random()を使う</h3>
                    <p>
                        <pre class="code-block"><code class="language-javascript">Math.random()</code></pre>を使うと、0以上1未満のランダムな数値が生成できます。
                    </p>
                    
                    <div class="exercise-container">
                        <h5>実習 4-7: ランダム数値</h5>
                        <pre class="code-block"><code class="language-javascript">// 0以上1未満の小数
console.log(Math.random());

// 1から10までの整数
let randomNumber = Math.floor(Math.random() * 10) + 1;
console.log("ランダムな数字: " + randomNumber);

// 1から6までの整数（サイコロ）
let dice = Math.floor(Math.random() * 6) + 1;
console.log("サイコロの目: " + dice);</code></pre>
                    </div>

                    <h2 class="chapter-title">実践プロジェクト：数当てゲーム</h2>

                    <div class="project-container">
                        <h5>🎯 プロジェクト: 数当てゲームを作ろう</h5>
                        <p>1から10までの数字をコンピューターが選んで、プレイヤーが当てるゲームを作りましょう。</p>
                        
                        <h6>ステップ1: 基本的な数当てゲーム</h6>
                        <p>まずは1回だけ予想できるバージョンです：</p>
                        <pre class="code-block"><code class="language-javascript">let targetNumber = Math.floor(Math.random() * 10) + 1;
let userGuess = 5;  // プレイヤーの予想（好きな数字に変更）

console.log("=== 数当てゲーム ===");
console.log("1から10までの数字を当ててください");
console.log("あなたの予想: " + userGuess);

if (userGuess === targetNumber) {
    console.log("正解！🎉");
} else {
    console.log("残念！正解は " + targetNumber + " でした");
    
    if (userGuess < targetNumber) {
        console.log("ヒント: もっと大きい数字です");
    } else {
        console.log("ヒント: もっと小さい数字です");
    }
}</code></pre>

                        <h6>ステップ2: 複数回チャレンジ版</h6>
                        <p>3回まで挑戦できるバージョンです：</p>
                        <pre class="code-block"><code class="language-javascript">let targetNumber = Math.floor(Math.random() * 10) + 1;
let maxAttempts = 3;
let attempts = 0;
let isCorrect = false;

// プレイヤーの予想リスト（実際のゲームでは入力を受け付けます）
let guesses = [3, 7, 5];

console.log("=== 数当てゲーム ===");
console.log("1から10までの数字を当ててください");
console.log("3回までチャレンジできます");

for (let i = 0; i < maxAttempts; i++) {
    attempts++;
    let userGuess = guesses[i];
    
    console.log(`\n${attempts}回目の挑戦: ${userGuess}`);
    
    if (userGuess === targetNumber) {
        console.log("正解！🎉");
        console.log(`${attempts}回目で正解です！`);
        isCorrect = true;
        break;
    } else {
        if (userGuess < targetNumber) {
            console.log("もっと大きい数字です");
        } else {
            console.log("もっと小さい数字です");
        }
        
        if (attempts < maxAttempts) {
            console.log("もう一度挑戦してください");
        }
    }
}

if (!isCorrect) {
    console.log(`\nゲームオーバー！正解は ${targetNumber} でした`);
}</code></pre>

                        <h6>ステップ3: 統計機能付きゲーム</h6>
                        <p>ゲームの統計を表示するバージョンです：</p>
                        <pre class="code-block"><code class="language-javascript">function playNumberGuessingGame() {
    let targetNumber = Math.floor(Math.random() * 10) + 1;
    let maxAttempts = 5;
    let attempts = 0;
    let isCorrect = false;
    let guessHistory = [];
    
    // ランダムな予想を生成（実際のゲームでは入力を受け付けます）
    let possibleGuesses = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    
    console.log("=== 数当てゲーム（統計付き） ===");
    console.log("1から10までの数字を当ててください");
    console.log(`${maxAttempts}回までチャレンジできます`);
    
    while (attempts < maxAttempts && !isCorrect) {
        attempts++;
        
        // ランダムな予想を生成
        let randomIndex = Math.floor(Math.random() * possibleGuesses.length);
        let userGuess = possibleGuesses[randomIndex];
        
        guessHistory.push(userGuess);
        
        console.log(`\n${attempts}回目の挑戦: ${userGuess}`);
        
        if (userGuess === targetNumber) {
            console.log("正解！🎉");
            console.log(`${attempts}回目で正解です！`);
            isCorrect = true;
        } else {
            if (userGuess < targetNumber) {
                console.log("もっと大きい数字です");
            } else {
                console.log("もっと小さい数字です");
            }
        }
    }
    
    // 結果の表示
    console.log("\n=== ゲーム結果 ===");
    console.log("正解: " + targetNumber);
    console.log("挑戦回数: " + attempts);
    console.log("予想履歴: " + guessHistory.join(", "));
    
    if (!isCorrect) {
        console.log("ゲームオーバー！😢");
    }
}

// ゲームを実行
playNumberGuessingGame();</code></pre>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>決まった回数だけ繰り返すときに使う文は何ですか？</li>
                            <li>条件が満たされている間繰り返すときに使う文は何ですか？</li>
                            <li>配列の最初の要素のインデックス番号は何番ですか？</li>
                            <li>配列の長さを取得するプロパティは何ですか？</li>
                            <li>0以上1未満のランダムな数値を生成する関数は何ですか？</li>
                        </ol>
                        
                        <h6>答え</h6>
                        <ol>
                            <li>for文</li>
                            <li>while文</li>
                            <li>0番</li>
                            <li>length</li>
                            <li>Math.random()</li>
                        </ol>
                    </div>

                    <h2 class="chapter-title">章のまとめ</h2>
                    <p>この章では以下のことを学びました：</p>
                    <ul>
                        <li>for文を使って決まった回数繰り返せる</li>
                        <li>while文を使って条件が満たされている間繰り返せる</li>
                        <li>配列で複数の値を管理できる</li>
                        <li>配列と繰り返し処理を組み合わせて効率的に処理できる</li>
                        <li>Math.random()でランダムな数値を生成できる</li>
                    </ul>

                    <div class="highlight">
                        <h5>第4章クリア条件</h5>
                        <p>次の章に進む前に、以下ができるようになったか確認してください：</p>
                        <ul>
                            <li>☐ for文を使ったループができる</li>
                            <li>☐ 配列を作成・操作できる</li>
                            <li>☐ 数当てゲームが完成している</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="chapter03.html" class="btn btn-secondary">← 前の章</a>
                        <a href="chapter05.html" class="btn btn-primary">次の章 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
</body>
</html>