<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>クラウドコンピューティング学習教材 第3章 - AWS基礎サービス</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; padding-top: 56px; line-height: 1.8; }
        .navbar { background: linear-gradient(135deg, #0d6efd 0%, #0dcaf0 100%); }
        .sidebar { position: sticky; top: 70px; height: calc(100vh - 70px); overflow-y: auto; background-color: #f8f9fa; border-right: 1px solid #dee2e6; }
        .sidebar .nav-link { color: #495057; padding: 0.75rem 1rem; transition: all 0.3s; }
        .sidebar .nav-link:hover { background-color: #e9ecef; color: #0d6efd; }
        .sidebar .nav-link.active { background-color: #0d6efd !important; color: white !important; }
        .chapter-title { color: #0d6efd; margin-top: 1.5rem; margin-bottom: 1rem; border-bottom: 3px solid #0d6efd; padding-bottom: 0.5rem; font-weight: 700; }
        .section-title { color: #0dcaf0; margin-top: 2rem; margin-bottom: 1rem; font-weight: 600; }
        .quiz-container { background-color: #e7f3ff; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #0d6efd; }
        .exercise-container { background-color: #f3e5f5; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #9c27b0; }
        .highlight { background-color: #fff8e1; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #ffc107; }
        .warning { background-color: #ffebee; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #f44336; }
        .info-box { background-color: #e8f5e9; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #4caf50; }
        .code-block { background-color: #1e1e1e; color: white; border-radius: 5px; padding: 1rem; margin: 1rem 0; overflow-x: auto; }
        .table { margin: 1.5rem 0; }
        .table thead { background-color: #0d6efd; color: white; }
        ul, ol { margin: 1rem 0; padding-left: 2rem; }
        li { margin: 0.5rem 0; }
        .btn-primary { background-color: #0d6efd; border-color: #0d6efd; }
        .btn-primary:hover { background-color: #0b5ed7; border-color: #0a58ca; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><strong>クラウドコンピューティング学習教材</strong></a>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"><span>学習章</span></h6>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-01.html">第1章: クラウドコンピューティングの基礎概念</a></li>
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-02.html">第2章: 主要クラウドプロバイダーの比較とアカウント作成</a></li>
                        <li class="nav-item"><a class="nav-link active" href="cloud-computing-learning-material-03.html">第3章: AWS基礎サービス</a></li>
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-04.html">第4章: Azure基礎サービス</a></li>
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-05.html">第5章: GCP基礎サービス</a></li>
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-06.html">第6章: クラウドネットワーキングとセキュリティ</a></li>
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-07.html">第7章: クラウドアーキテクチャパターンと設計原則</a></li>
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-08.html">第8章: サーバーレスコンピューティングとコンテナサービス</a></li>
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-09.html">第9章: クラウドコスト管理とモニタリング</a></li>
                        <li class="nav-item"><a class="nav-link" href="cloud-computing-learning-material-10.html">第10章: クラウドベストプラクティスと実践プロジェクト</a></li>
                    </ul>
                </div>
            </nav>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第3章: AWS基礎サービス（EC2、S3、RDS）</h1>
                </div>

                <div id="chapter3">
                    <h2 class="chapter-title">AWSの主要サービスを理解する</h2>

                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>Amazon EC2（仮想サーバー）の概念とインスタンスタイプの選択方法を理解する</li>
                            <li>EC2インスタンスの起動、接続、停止、削除の手順を習得する</li>
                            <li>セキュリティグループによるネットワークアクセス制御を実践する</li>
                            <li>Amazon S3（オブジェクトストレージ）の概念とユースケースを理解する</li>
                            <li>S3バケットの作成とオブジェクト管理を実践する</li>
                            <li>S3ストレージクラスとライフサイクル管理を学ぶ</li>
                            <li>Amazon RDS（マネージドデータベース）の概念と利点を理解する</li>
                            <li>RDSインスタンスの作成、接続、バックアップ戦略を習得する</li>
                            <li>EC2、S3、RDSを組み合わせた3層アーキテクチャを理解する</li>
                        </ul>
                    </div>

                    <h3 class="section-title">3.1 Amazon EC2（Elastic Compute Cloud）の基礎</h3>

                    <h4>EC2とは何か</h4>
                    <p>
                        <strong>Amazon EC2（Elastic Compute Cloud）</strong>は、AWSのクラウド上で仮想サーバー（インスタンス）を起動できるサービスです。数分で必要なスペックのサーバーを起動でき、使用した時間分だけ料金を支払います。
                    </p>

                    <div class="info-box">
                        <h6>EC2の「Elastic（弾力的）」の意味</h6>
                        <p>
                            「Elastic」は、必要に応じてサーバーの台数やスペックを柔軟に増減できることを表しています。アクセスが急増した際は自動的にサーバーを追加し、アクセスが減った際は縮小することで、コストを最適化できます。
                        </p>
                    </div>

                    <h4>EC2インスタンスタイプの理解</h4>
                    <p>
                        EC2には、用途に応じた様々な<strong>インスタンスタイプ</strong>が用意されています。インスタンスタイプは、CPU、メモリ、ストレージ、ネットワーク性能の組み合わせを表します。
                    </p>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>ファミリー</th>
                                <th>用途</th>
                                <th>例</th>
                                <th>特徴</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>汎用（T、M）</strong></td>
                                <td>一般的なアプリケーション</td>
                                <td>t3.micro、m5.large</td>
                                <td>バランスの取れたCPU、メモリ</td>
                            </tr>
                            <tr>
                                <td><strong>コンピューティング最適化（C）</strong></td>
                                <td>計算集約型</td>
                                <td>c5.xlarge</td>
                                <td>高性能CPU</td>
                            </tr>
                            <tr>
                                <td><strong>メモリ最適化（R、X）</strong></td>
                                <td>大規模データベース</td>
                                <td>r5.2xlarge</td>
                                <td>大容量メモリ</td>
                            </tr>
                            <tr>
                                <td><strong>ストレージ最適化（I、D）</strong></td>
                                <td>高速I/O</td>
                                <td>i3.large</td>
                                <td>高速SSD、大容量ストレージ</td>
                            </tr>
                            <tr>
                                <td><strong>GPU（P、G）</strong></td>
                                <td>機械学習、グラフィックス</td>
                                <td>p3.2xlarge</td>
                                <td>GPU搭載</td>
                            </tr>
                        </tbody>
                    </table>

                    <p>
                        インスタンスタイプの命名規則：<code>t3.micro</code>の例
                    </p>
                    <ul>
                        <li><strong>t</strong>: ファミリー名（汎用バースト可能）</li>
                        <li><strong>3</strong>: 世代（新しいほど性能向上）</li>
                        <li><strong>micro</strong>: サイズ（nano < micro < small < medium < large < xlarge < 2xlarge...）</li>
                    </ul>

                    <div class="exercise-container">
                        <h5>実習 3-1: EC2インスタンスの起動と接続</h5>

                        <h6>手順1: EC2インスタンスの起動</h6>
                        <ol>
                            <li>AWSマネジメントコンソールにIAMユーザーでサインイン</li>
                            <li>リージョンが「アジアパシフィック（東京）ap-northeast-1」であることを確認</li>
                            <li>サービスから「EC2」を検索してクリック</li>
                            <li>「インスタンスを起動」ボタンをクリック</li>
                            <li><strong>名前とタグ</strong>: 「my-first-ec2」と入力</li>
                            <li><strong>アプリケーションおよびOSイメージ（Amazon Machine Image）</strong>:
                                <ul>
                                    <li>「Amazon Linux 2023 AMI」を選択（無料利用枠の対象）</li>
                                    <li>アーキテクチャ: 64ビット（x86）</li>
                                </ul>
                            </li>
                            <li><strong>インスタンスタイプ</strong>: 「t2.micro」を選択（無料利用枠の対象）</li>
                            <li><strong>キーペア</strong>:
                                <ul>
                                    <li>「新しいキーペアの作成」をクリック</li>
                                    <li>キーペア名: my-key</li>
                                    <li>キーペアタイプ: RSA</li>
                                    <li>プライベートキーファイル形式: .pem（Mac/Linux）または .ppk（Windows/PuTTY）</li>
                                    <li>「キーペアを作成」→ダウンロードされたキーファイルを安全な場所に保存</li>
                                </ul>
                            </li>
                            <li><strong>ネットワーク設定</strong>:
                                <ul>
                                    <li>「セキュリティグループを作成する」を選択</li>
                                    <li>SSHトラフィックを許可: チェック（ソース: マイIP）</li>
                                    <li>HTTPトラフィックを許可: チェック（後でWebサーバーを起動するため）</li>
                                </ul>
                            </li>
                            <li><strong>ストレージの設定</strong>: デフォルト（8 GiB gp3）のまま</li>
                            <li>「インスタンスを起動」をクリック</li>
                            <li>「インスタンスを表示」をクリックして、インスタンスが「実行中」になるまで待つ（1〜2分）</li>
                        </ol>

                        <h6>手順2: EC2インスタンスへの接続（SSH）</h6>
                        <p><strong>Mac/Linux の場合:</strong></p>
                        <pre class="code-block"><code class="language-bash"># キーファイルの権限を変更（初回のみ）
chmod 400 ~/Downloads/my-key.pem

# SSHで接続（パブリックIPアドレスはAWSコンソールで確認）
ssh -i ~/Downloads/my-key.pem ec2-user@パブリックIPアドレス

# 接続成功すると以下のようなプロンプトが表示される
[ec2-user@ip-xxx-xxx-xxx-xxx ~]$
</code></pre>

                        <p><strong>Windows の場合:</strong></p>
                        <ol>
                            <li>PuTTYをダウンロード・インストール</li>
                            <li>PuTTYgenで.ppkキーを使用、またはEC2 Instance Connectを使用（ブラウザベース）</li>
                        </ol>

                        <h6>手順3: 簡単なWebサーバーの起動</h6>
                        <pre class="code-block"><code class="language-bash"># Apacheをインストール
sudo yum update -y
sudo yum install httpd -y

# Apacheを起動
sudo systemctl start httpd
sudo systemctl enable httpd

# 簡単なHTMLページを作成
echo "&lt;h1&gt;Hello from EC2!&lt;/h1&gt;" | sudo tee /var/www/html/index.html

# ブラウザで http://パブリックIPアドレス にアクセスして確認
</code></pre>

                        <h6>手順4: インスタンスの停止と削除</h6>
                        <p><strong>重要: 課金を防ぐため、使用後は必ず停止または削除してください。</strong></p>
                        <ol>
                            <li>EC2コンソールでインスタンスを選択</li>
                            <li>「インスタンスの状態」→「インスタンスを停止」（一時停止、後で再起動可能）</li>
                            <li>または「インスタンスの状態」→「インスタンスを終了」（完全削除、復元不可）</li>
                        </ol>

                        <div class="warning">
                            <h6>停止と終了の違い</h6>
                            <ul>
                                <li><strong>停止</strong>: インスタンスを一時停止。EBSストレージは保持されるため、少額の料金が発生。再起動可能。</li>
                                <li><strong>終了</strong>: インスタンスを完全削除。料金発生なし。復元不可。</li>
                            </ul>
                        </div>
                    </div>

                    <h4>セキュリティグループの理解</h4>
                    <p>
                        <strong>セキュリティグループ</strong>は、EC2インスタンスへのネットワークトラフィックを制御する仮想ファイアウォールです。どのIPアドレスから、どのポートへのアクセスを許可するかを定義します。
                    </p>

                    <div class="mermaid">
                        flowchart LR
                            A[インターネット] -->|"HTTP（ポート80）<br/>許可"| B[セキュリティグループ]
                            A -->|"SSH（ポート22）<br/>自分のIPのみ許可"| B
                            A -->|"その他のポート<br/>拒否"| B
                            B --> C[EC2インスタンス]
                    </div>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>ルールタイプ</th>
                                <th>プロトコル</th>
                                <th>ポート範囲</th>
                                <th>ソース</th>
                                <th>用途</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>インバウンド</td>
                                <td>SSH</td>
                                <td>22</td>
                                <td>マイIP</td>
                                <td>SSH接続（セキュアシェル）</td>
                            </tr>
                            <tr>
                                <td>インバウンド</td>
                                <td>HTTP</td>
                                <td>80</td>
                                <td>0.0.0.0/0</td>
                                <td>Webサーバーへのアクセス</td>
                            </tr>
                            <tr>
                                <td>インバウンド</td>
                                <td>HTTPS</td>
                                <td>443</td>
                                <td>0.0.0.0/0</td>
                                <td>セキュアなWebアクセス</td>
                            </tr>
                            <tr>
                                <td>アウトバウンド</td>
                                <td>すべて</td>
                                <td>すべて</td>
                                <td>0.0.0.0/0</td>
                                <td>インスタンスから外部への通信</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="section-title">3.2 Amazon S3（Simple Storage Service）の基礎</h3>

                    <h4>S3とは何か</h4>
                    <p>
                        <strong>Amazon S3</strong>は、<strong>オブジェクトストレージサービス</strong>で、あらゆる種類のデータ（画像、動画、ドキュメント、バックアップ等）を保存できます。高い耐久性（99.999999999%、イレブンナイン）と可用性を提供します。
                    </p>

                    <h4>S3の基本概念</h4>
                    <ul>
                        <li><strong>バケット（Bucket）</strong>: データを格納する最上位のコンテナ。バケット名はグローバルに一意である必要がある</li>
                        <li><strong>オブジェクト（Object）</strong>: 保存される個々のファイル。最大5TBまで</li>
                        <li><strong>キー（Key）</strong>: オブジェクトの一意の識別子（ファイルパスのようなもの）</li>
                        <li><strong>リージョン</strong>: バケットが作成される地理的な場所</li>
                    </ul>

                    <div class="info-box">
                        <h6>S3のユースケース</h6>
                        <ul>
                            <li><strong>静的Webサイトホスティング</strong>: HTML、CSS、JavaScriptファイルを配信</li>
                            <li><strong>バックアップとアーカイブ</strong>: データの長期保存</li>
                            <li><strong>データレイク</strong>: ビッグデータ分析用のデータ保存</li>
                            <li><strong>メディアホスティング</strong>: 画像・動画の保存と配信</li>
                            <li><strong>ログストレージ</strong>: アプリケーションログの集約</li>
                        </ul>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 3-2: S3バケットの作成とオブジェクト管理</h5>

                        <h6>手順1: S3バケットの作成</h6>
                        <ol>
                            <li>AWSマネジメントコンソールで「S3」を検索</li>
                            <li>「バケットを作成」ボタンをクリック</li>
                            <li><strong>バケット名</strong>: グローバルに一意の名前を入力（例: my-learning-bucket-20250129-yourname）</li>
                            <li><strong>AWSリージョン</strong>: アジアパシフィック（東京）ap-northeast-1</li>
                            <li><strong>パブリックアクセスのブロック設定</strong>: デフォルト（すべてブロック）のまま（セキュリティ重視）</li>
                            <li><strong>バケットのバージョニング</strong>: 無効（学習用）</li>
                            <li>「バケットを作成」をクリック</li>
                        </ol>

                        <h6>手順2: オブジェクトのアップロード</h6>
                        <ol>
                            <li>作成したバケットをクリック</li>
                            <li>「アップロード」ボタンをクリック</li>
                            <li>「ファイルを追加」で任意のテキストファイルや画像を選択</li>
                            <li>「アップロード」をクリック</li>
                            <li>アップロードが完了したら「閉じる」をクリック</li>
                        </ol>

                        <h6>手順3: AWS CLIを使ったS3操作</h6>
                        <pre class="code-block"><code class="language-bash"># バケット一覧の表示
aws s3 ls

# バケット内のオブジェクト一覧を表示
aws s3 ls s3://my-learning-bucket-20250129-yourname/

# ファイルをアップロード
aws s3 cp test.txt s3://my-learning-bucket-20250129-yourname/

# ファイルをダウンロード
aws s3 cp s3://my-learning-bucket-20250129-yourname/test.txt ./downloaded.txt

# ファイルを削除
aws s3 rm s3://my-learning-bucket-20250129-yourname/test.txt

# バケットを空にして削除
aws s3 rb s3://my-learning-bucket-20250129-yourname --force
</code></pre>
                    </div>

                    <h4>S3ストレージクラス</h4>
                    <p>
                        S3には、アクセス頻度とコストに応じた複数のストレージクラスがあります。
                    </p>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>ストレージクラス</th>
                                <th>用途</th>
                                <th>コスト</th>
                                <th>取り出し時間</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>S3 Standard</strong></td>
                                <td>頻繁にアクセスするデータ</td>
                                <td>高</td>
                                <td>即時</td>
                            </tr>
                            <tr>
                                <td><strong>S3 Intelligent-Tiering</strong></td>
                                <td>アクセスパターンが不明</td>
                                <td>自動最適化</td>
                                <td>即時</td>
                            </tr>
                            <tr>
                                <td><strong>S3 Standard-IA</strong></td>
                                <td>低頻度アクセス（月1回程度）</td>
                                <td>中</td>
                                <td>即時</td>
                            </tr>
                            <tr>
                                <td><strong>S3 One Zone-IA</strong></td>
                                <td>低頻度、複製不要</td>
                                <td>低</td>
                                <td>即時</td>
                            </tr>
                            <tr>
                                <td><strong>S3 Glacier Instant Retrieval</strong></td>
                                <td>アーカイブ（即時取得必要）</td>
                                <td>非常に低</td>
                                <td>ミリ秒</td>
                            </tr>
                            <tr>
                                <td><strong>S3 Glacier Flexible Retrieval</strong></td>
                                <td>長期アーカイブ</td>
                                <td>非常に低</td>
                                <td>分〜時間</td>
                            </tr>
                            <tr>
                                <td><strong>S3 Glacier Deep Archive</strong></td>
                                <td>超長期アーカイブ（年1回以下）</td>
                                <td>最低</td>
                                <td>12時間</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="section-title">3.3 Amazon RDS（Relational Database Service）の基礎</h3>

                    <h4>RDSとは何か</h4>
                    <p>
                        <strong>Amazon RDS</strong>は、<strong>マネージド型のリレーショナルデータベースサービス</strong>です。データベースの設定、運用、スケーリング、バックアップなどをAWSが自動的に管理してくれるため、開発者はアプリケーション開発に集中できます。
                    </p>

                    <h4>RDSがサポートするデータベースエンジン</h4>
                    <ul>
                        <li><strong>Amazon Aurora</strong>: AWS独自の高性能DB（MySQL/PostgreSQL互換）</li>
                        <li><strong>MySQL</strong>: 世界で最も人気のあるオープンソースDB</li>
                        <li><strong>PostgreSQL</strong>: 高機能なオープンソースDB</li>
                        <li><strong>MariaDB</strong>: MySQLから派生したオープンソースDB</li>
                        <li><strong>Oracle Database</strong>: 商用エンタープライズDB</li>
                        <li><strong>SQL Server</strong>: Microsoft製のDB</li>
                    </ul>

                    <h4>RDSのメリット（自前構築との比較）</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>項目</th>
                                <th>EC2上に自前で構築</th>
                                <th>RDS（マネージド）</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>セットアップ</td>
                                <td>手動でインストール・設定</td>
                                <td>数クリックで起動</td>
                            </tr>
                            <tr>
                                <td>パッチ適用</td>
                                <td>手動で実施</td>
                                <td>自動適用（メンテナンスウィンドウ）</td>
                            </tr>
                            <tr>
                                <td>バックアップ</td>
                                <td>自分で設定・管理</td>
                                <td>自動バックアップ（35日間保持可能）</td>
                            </tr>
                            <tr>
                                <td>高可用性</td>
                                <td>自分でマルチAZ構成</td>
                                <td>マルチAZ配置をワンクリックで有効化</td>
                            </tr>
                            <tr>
                                <td>スケーリング</td>
                                <td>手動で実施、ダウンタイム発生</td>
                                <td>数クリックでスケールアップ</td>
                            </tr>
                            <tr>
                                <td>モニタリング</td>
                                <td>自分で設定</td>
                                <td>CloudWatch統合、Enhanced Monitoring</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exercise-container">
                        <h5>実習 3-3: RDSインスタンス（MySQL）の作成と接続</h5>

                        <h6>手順1: RDSインスタンスの作成</h6>
                        <ol>
                            <li>AWSマネジメントコンソールで「RDS」を検索</li>
                            <li>「データベースの作成」をクリック</li>
                            <li><strong>データベース作成方法</strong>: 標準作成</li>
                            <li><strong>エンジンのオプション</strong>: MySQL</li>
                            <li><strong>エンジンのバージョン</strong>: 最新の安定版（例: MySQL 8.0.35）</li>
                            <li><strong>テンプレート</strong>: 無料利用枠</li>
                            <li><strong>DBインスタンス識別子</strong>: my-first-rds</li>
                            <li><strong>マスターユーザー名</strong>: admin</li>
                            <li><strong>マスターパスワード</strong>: 強力なパスワードを設定（8文字以上、大小英字・数字・記号含む）</li>
                            <li><strong>DBインスタンスクラス</strong>: db.t3.micro（無料利用枠）</li>
                            <li><strong>ストレージ</strong>: デフォルト（20 GiB gp2）</li>
                            <li><strong>接続</strong>:
                                <ul>
                                    <li>EC2コンピューティングリソースに接続: しない（学習用）</li>
                                    <li>パブリックアクセス: はい（学習用、本番環境では「いいえ」推奨）</li>
                                    <li>VPCセキュリティグループ: 新規作成（my-rds-sg）</li>
                                </ul>
                            </li>
                            <li><strong>追加設定</strong>:
                                <ul>
                                    <li>最初のデータベース名: mydb</li>
                                    <li>自動バックアップ: 有効（保持期間7日）</li>
                                </ul>
                            </li>
                            <li>「データベースの作成」をクリック</li>
                            <li>作成完了まで5〜10分待つ（ステータスが「利用可能」になるまで）</li>
                        </ol>

                        <h6>手順2: セキュリティグループの設定</h6>
                        <ol>
                            <li>RDSインスタンスの詳細ページで「VPCセキュリティグループ」をクリック</li>
                            <li>「インバウンドルール」タブ→「インバウンドルールを編集」</li>
                            <li>MySQL/Aurora（ポート3306）のソースを「マイIP」に変更</li>
                            <li>「ルールを保存」</li>
                        </ol>

                        <h6>手順3: RDSへの接続（MySQLクライアント）</h6>
                        <pre class="code-block"><code class="language-bash"># MySQLクライアントのインストール（Mac）
brew install mysql-client

# RDSエンドポイントはAWSコンソールで確認（例: my-first-rds.xxxxxxxxxx.ap-northeast-1.rds.amazonaws.com）
mysql -h エンドポイント -u admin -p

# パスワードを入力

# 接続成功すると以下のようなプロンプトが表示される
mysql>

# データベース確認
SHOW DATABASES;

# テーブル作成の例
USE mydb;
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100)
);

# データ挿入
INSERT INTO users (name, email) VALUES ('Taro Yamada', 'taro@example.com');

# データ確認
SELECT * FROM users;

# 切断
EXIT;
</code></pre>

                        <h6>手順4: RDSインスタンスの削除（課金防止）</h6>
                        <ol>
                            <li>RDSコンソールでインスタンスを選択</li>
                            <li>「アクション」→「削除」</li>
                            <li>「最終スナップショットの作成」のチェックを外す（学習用）</li>
                            <li>「delete me」と入力して削除を確認</li>
                        </ol>
                    </div>

                    <h4>RDSのマルチAZ配置と読み取りレプリカ</h4>
                    <div class="mermaid">
                        flowchart TB
                            subgraph "マルチAZ配置（高可用性）"
                                A[アプリケーション] --> B[プライマリDB<br/>AZ-1a]
                                B -.同期レプリケーション.-> C[スタンバイDB<br/>AZ-1c]
                                B -->|障害発生時<br/>自動フェイルオーバー| C
                            end

                            subgraph "読み取りレプリカ（スケーラビリティ）"
                                D[アプリケーション] --> E[マスターDB<br/>書き込み]
                                E -.非同期レプリケーション.-> F[読み取りレプリカ1]
                                E -.非同期レプリケーション.-> G[読み取りレプリカ2]
                                D --> F
                                D --> G
                            end
                    </div>

                    <ul>
                        <li><strong>マルチAZ配置</strong>: 異なるアベイラビリティゾーン（AZ）にスタンバイDBを配置し、障害時に自動フェイルオーバー。高可用性を実現。</li>
                        <li><strong>読み取りレプリカ</strong>: マスターDBのコピーを作成し、読み取りクエリを分散。パフォーマンス向上。</li>
                    </ul>

                    <h3 class="section-title">3.4 3層アーキテクチャの実装例</h3>

                    <p>
                        EC2、S3、RDSを組み合わせた典型的な3層Webアプリケーションアーキテクチャを見てみましょう。
                    </p>

                    <div class="mermaid">
                        flowchart TB
                            A[ユーザー] -->|"HTTP/HTTPS<br/>リクエスト"| B[Elastic Load Balancer]
                            B --> C[EC2: Webサーバー<br/>プレゼンテーション層]
                            C --> D[EC2: アプリケーションサーバー<br/>ビジネスロジック層]
                            D --> E[RDS: データベース<br/>データ層]
                            C -.静的コンテンツ.-> F[S3: 画像・CSS・JS]
                            D -.ファイルアップロード.-> F
                    </div>

                    <ul>
                        <li><strong>プレゼンテーション層（EC2）</strong>: WebサーバーでHTMLを生成、ユーザーに提供</li>
                        <li><strong>アプリケーション層（EC2）</strong>: ビジネスロジックを処理</li>
                        <li><strong>データ層（RDS）</strong>: データを永続化、管理</li>
                        <li><strong>S3</strong>: 静的ファイル（画像、CSS、JavaScript）やユーザーアップロードファイルを保存</li>
                    </ul>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>EC2インスタンスタイプ「t3.micro」の「t」「3」「micro」はそれぞれ何を意味しますか？</li>
                            <li>セキュリティグループのインバウンドルールとアウトバウンドルールの違いを説明してください。</li>
                            <li>EC2インスタンスを「停止」した場合と「終了」した場合の違いは何ですか？</li>
                            <li>S3の「バケット」と「オブジェクト」の違いを説明してください。</li>
                            <li>S3 StandardとS3 Glacierの主な違いは何ですか？それぞれどのような用途に適していますか？</li>
                            <li>RDSを使うメリットを3つ挙げてください（EC2上に自分でDBを構築する場合と比較して）。</li>
                            <li>RDSのマルチAZ配置と読み取りレプリカの違いを説明してください。</li>
                            <li>3層アーキテクチャにおいて、各層（プレゼンテーション、アプリケーション、データ）の役割を説明してください。</li>
                        </ol>
                    </div>

                    <h3 class="section-title">3.5 本章のまとめ</h3>
                    <div class="info-box">
                        <h6>重要ポイント</h6>
                        <ul>
                            <li>EC2は仮想サーバーサービスで、用途に応じたインスタンスタイプを選択する</li>
                            <li>セキュリティグループはEC2の仮想ファイアウォールで、インバウンド/アウトバウンドトラフィックを制御</li>
                            <li>使用後のEC2は停止または終了して課金を防ぐ（停止でも少額の料金が発生）</li>
                            <li>S3はオブジェクトストレージで、ファイル保存、静的Webホスティング、バックアップなどに使用</li>
                            <li>S3にはアクセス頻度に応じた複数のストレージクラスがあり、コスト最適化が可能</li>
                            <li>RDSはマネージドデータベースサービスで、運用管理をAWSが自動化</li>
                            <li>RDSのマルチAZで高可用性、読み取りレプリカでスケーラビリティを実現</li>
                            <li>EC2、S3、RDSを組み合わせて3層Webアプリケーションを構築できる</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-5 mb-4">
                        <a href="cloud-computing-learning-material-02.html" class="btn btn-secondary">← 前の章へ</a>
                        <a href="cloud-computing-learning-material-04.html" class="btn btn-primary">次の章へ →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>
