<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" id="viewport-meta">
    <title>AWS SAP入門 第15章 - 総合演習 - 高可用性Webアプリケーションの設計</title>

    <!-- ダークモード早期適用（フラッシュ防止） -->
    <script>
        (function() {
            const saved = localStorage.getItem('darkMode');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (saved === 'dark' || (saved === null && prefersDark)) {
                document.documentElement.classList.add('dark');
            }
        })();
    </script>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // AWS Orange
                        primary: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316',
                            600: '#ea580c',
                            700: '#c2410c',
                            800: '#9a3412',
                            900: '#7c2d12',
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans JP"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts - Noto Sans JP -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- カスタムスタイル -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="font-sans bg-slate-50 text-slate-800 antialiased">
    <!-- ヘッダー/ナビゲーションバー -->
    <header class="fixed top-0 left-0 right-0 z-50 text-white header-rich header-rich-shadow">
        <nav class="w-full px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="flex items-center justify-between py-3">
                <!-- 左側: ロゴとタイトルセクション -->
                <div class="flex items-center gap-4">
                    <!-- アイコン -->
                    <div class="relative group">
                        <div class="absolute inset-0 bg-gradient-to-br from-yellow-400/30 to-orange-400/30 rounded-2xl blur-lg group-hover:blur-xl transition-all"></div>
                        <div class="relative w-14 h-14 bg-white/10 rounded-xl flex items-center justify-center backdrop-blur-sm border border-white/20">
                            <i class="fab fa-aws text-3xl icon-rotate-hover drop-shadow-lg"></i>
                        </div>
                    </div>

                    <!-- タイトルとメタ情報 -->
                    <div class="flex flex-col gap-1">
                        <div class="flex items-center gap-2">
                            <span class="text-xl font-bold tracking-wide drop-shadow-md">AWS SAP入門</span>
                            <span class="hidden sm:inline-flex items-center gap-1 px-2 py-0.5 bg-white/20 rounded-md text-[10px] font-semibold uppercase tracking-wider">
                                <i class="fas fa-star text-yellow-300 text-[8px]"></i>
                                中級
                            </span>
                        </div>
                        <div class="flex items-center gap-3 text-[11px] text-white/90 font-medium">
                            <div class="flex items-center gap-1">
                                <i class="fas fa-cloud text-[9px]"></i>
                                <span>クラウド・インフラ</span>
                            </div>
                            <div class="hidden sm:flex items-center gap-1">
                                <i class="fas fa-clock text-[9px]"></i>
                                <span>推奨 60分</span>
                            </div>
                            <div class="hidden lg:flex items-center gap-1">
                                <i class="fas fa-language text-[9px]"></i>
                                <span>日本語</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 右側: サイドバートグルボタン -->
                <button id="sidebar-toggle-btn" class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20 transition-all active:scale-95" title="サイドバーの表示/非表示">
                    <i class="fas fa-bars text-lg"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- メインレイアウト -->
    <div class="flex min-h-screen pt-20">
        <!-- サイドバーはsidebar-content.jsで動的に生成されます -->

        <!-- メインコンテンツ -->
        <main class="flex-1 min-w-0">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-10 py-6">
                <!-- パンくずリスト -->
                <nav class="flex items-center gap-2 text-sm text-slate-500 mb-6">
                    <a href="#" class="hover:text-primary-600 transition-colors">ホーム</a>
                    <i class="fas fa-chevron-right text-xs"></i>
                    <a href="#" class="hover:text-primary-600 transition-colors">AWS SAP入門</a>
                    <i class="fas fa-chevron-right text-xs"></i>
                    <span class="text-slate-700">第15章</span>
                </nav>

                <!-- 章ヘッダー -->
                <header class="mb-6">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
                                     bg-primary-100 text-primary-700">
                            第15章
                        </span>
                    </div>
                    <h1 class="text-2xl sm:text-3xl font-bold text-slate-900 mb-2">総合演習 - 高可用性Webアプリケーションの設計</h1>
                    <p class="text-slate-600">これまで学んだ知識を統合し、実際のシナリオに基づいた高可用性アーキテクチャを設計します。</p>
                </header>

                <!-- 学習目標カード -->
                <div class="bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200
                            rounded-xl p-5 mb-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-amber-400 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-lightbulb text-white"></i>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-amber-800 mb-3">この章で学ぶこと</h2>
                            <ul class="space-y-2">
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>要件分析とアーキテクチャ設計プロセス</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>Well-Architectedフレームワークに基づく評価</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>3層Webアプリケーションの高可用性設計</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>コスト最適化の考慮事項</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>設計ドキュメントの作成</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>SAP試験に向けた学習の総括</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- セクション1: 総合演習の概要 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        15.1 総合演習の概要
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        この章では、第1章から第14章で学んだすべての知識を統合し、実際のビジネスシナリオに基づいた高可用性Webアプリケーションを設計します。
                        SAP試験で問われるような複雑な要件に対して、最適なアーキテクチャを提案する演習を行います。
                    </p>

                    <div class="bg-blue-50 border border-blue-200 rounded-xl p-5 my-6">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-info-circle text-blue-500 text-lg mt-0.5"></i>
                            <div>
                                <h3 class="font-semibold text-blue-800 mb-2">総合演習の目的</h3>
                                <ul class="text-blue-900 text-sm space-y-1">
                                    <li>• ビジネス要件からアーキテクチャを導出する能力の習得</li>
                                    <li>• 複数のAWSサービスを統合した設計スキルの向上</li>
                                    <li>• Well-Architected Frameworkに基づく評価と最適化</li>
                                    <li>• トレードオフを理解し、最適解を選択する思考力の養成</li>
                                    <li>• SAP試験レベルの問題に対応できる実践力の構築</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">演習の流れ</h3>
                    <div class="mermaid">
flowchart LR
    A["1. 要件分析"] --> B["2. アーキテクチャ<br/>設計"]
    B --> C["3. Well-Architected<br/>評価"]
    C --> D["4. コスト試算"]
    D --> E["5. ドキュメント<br/>作成"]
    E --> F["6. レビューと<br/>改善提案"]

    style A fill:#dbeafe
    style B fill:#e0f2fe
    style C fill:#d1fae5
    style D fill:#fef3c7
    style E fill:#fed7aa
    style F fill:#fce7f3
                    </div>
                </section>

                <!-- セクション2: ビジネスシナリオと要件分析 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        15.2 ビジネスシナリオと要件分析
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        以下のビジネスシナリオに基づいて、アーキテクチャを設計します。
                    </p>

                    <div class="bg-gradient-to-br from-purple-50 to-fuchsia-50 border border-purple-200 rounded-xl p-5 my-6">
                        <h3 class="font-semibold text-purple-800 mb-3 flex items-center gap-2">
                            <i class="fas fa-building"></i>
                            シナリオ: グローバルECサイトのAWS移行プロジェクト
                        </h3>
                        <div class="text-purple-900 text-sm space-y-3">
                            <p><strong>企業背景:</strong></p>
                            <p>中堅ECサイト運営企業（年商100億円）が、オンプレミス環境からAWSへの移行を決定しました。現在、月間100万ユーザー、ピーク時は通常の10倍のトラフィックが発生します。</p>

                            <p><strong>現状の課題:</strong></p>
                            <ul class="space-y-1 ml-4">
                                <li>• ピーク時のパフォーマンス低下（レスポンスタイム5秒超）</li>
                                <li>• 年2回のハードウェア障害によるダウンタイム（計10時間/年）</li>
                                <li>• 海外からのアクセスが遅い（特にアジア太平洋地域）</li>
                                <li>• データバックアップが日次のみ（最大24時間のデータ損失リスク）</li>
                                <li>• セキュリティ監査対応の工数増大</li>
                            </ul>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">ビジネス要件</h3>
                    <div class="overflow-x-auto my-6">
                        <table class="min-w-full border-collapse border border-slate-300">
                            <thead class="bg-slate-100">
                                <tr>
                                    <th class="border border-slate-300 px-4 py-2 text-left">カテゴリ</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">要件</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">目標値</th>
                                </tr>
                            </thead>
                            <tbody class="text-sm">
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-medium">可用性</td>
                                    <td class="border border-slate-300 px-4 py-2">サービスの稼働率</td>
                                    <td class="border border-slate-300 px-4 py-2">99.9% (年間ダウンタイム8.76時間以下)</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-medium">パフォーマンス</td>
                                    <td class="border border-slate-300 px-4 py-2">ページレスポンスタイム</td>
                                    <td class="border border-slate-300 px-4 py-2">平均1秒以内、ピーク時も2秒以内</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-medium">スケーラビリティ</td>
                                    <td class="border border-slate-300 px-4 py-2">トラフィック変動への対応</td>
                                    <td class="border border-slate-300 px-4 py-2">通常の10倍まで自動スケール</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-medium">災害復旧</td>
                                    <td class="border border-slate-300 px-4 py-2">RTO / RPO</td>
                                    <td class="border border-slate-300 px-4 py-2">RTO: 1時間以内 / RPO: 5分以内</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-medium">セキュリティ</td>
                                    <td class="border border-slate-300 px-4 py-2">コンプライアンス</td>
                                    <td class="border border-slate-300 px-4 py-2">PCI DSS準拠、データ暗号化必須</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-medium">コスト</td>
                                    <td class="border border-slate-300 px-4 py-2">月額運用コスト</td>
                                    <td class="border border-slate-300 px-4 py-2">現状の150%以内（拡張性を考慮）</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2 font-medium">グローバル展開</td>
                                    <td class="border border-slate-300 px-4 py-2">対象リージョン</td>
                                    <td class="border border-slate-300 px-4 py-2">日本、アジア太平洋、北米、欧州</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">技術要件</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
                        <div class="bg-white border border-slate-200 rounded-lg p-4">
                            <h4 class="font-semibold text-slate-800 mb-2">アプリケーション構成</h4>
                            <ul class="text-sm text-slate-600 space-y-1">
                                <li>• Webフロントエンド: React SPA</li>
                                <li>• APIサーバー: Node.js (REST API)</li>
                                <li>• データベース: MySQL互換</li>
                                <li>• 商品画像: 静的コンテンツ</li>
                            </ul>
                        </div>
                        <div class="bg-white border border-slate-200 rounded-lg p-4">
                            <h4 class="font-semibold text-slate-800 mb-2">データ特性</h4>
                            <ul class="text-sm text-slate-600 space-y-1">
                                <li>• DBサイズ: 500GB、成長率20%/年</li>
                                <li>• 画像ストレージ: 10TB</li>
                                <li>• トランザクション: 1000件/秒 (ピーク時)</li>
                                <li>• セッションデータ: 一時保存が必要</li>
                            </ul>
                        </div>
                    </div>

                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-tasks text-emerald-600 mt-1"></i>
                            <div>
                                <p class="text-emerald-900 font-medium">要件分析のポイント</p>
                                <p class="text-emerald-800 text-sm mt-1">
                                    要件分析では、明示されている機能要件だけでなく、非機能要件（可用性、パフォーマンス、セキュリティ、コスト）も重視します。
                                    また、将来の成長（スケーラビリティ）や災害復旧の必要性も考慮に入れることが重要です。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション3: 高可用性アーキテクチャの設計 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        15.3 高可用性アーキテクチャの設計
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        要件を満たす高可用性アーキテクチャを設計します。3層アーキテクチャ（プレゼンテーション層、アプリケーション層、データ層）を基本とし、各層に適切なAWSサービスを配置します。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">全体アーキテクチャ図</h3>
                    <div class="mermaid">
flowchart TB
    subgraph Internet["インターネット"]
        Users["グローバルユーザー"]
    end

    subgraph DNS["DNS・ルーティング"]
        R53["Route 53<br/>加重ルーティング"]
    end

    subgraph CDN["グローバルコンテンツ配信"]
        CF["CloudFront<br/>静的コンテンツ配信"]
    end

    subgraph Primary["プライマリリージョン: ap-northeast-1 (東京)"]
        subgraph AZ1["AZ-1a"]
            ALB1a["ALB"]
            App1a["EC2 Auto Scaling<br/>APIサーバー"]
            Cache1a["ElastiCache<br/>Redis"]
        end
        subgraph AZ2["AZ-1c"]
            ALB1c["ALB"]
            App1c["EC2 Auto Scaling<br/>APIサーバー"]
            Cache1c["ElastiCache<br/>Redis"]
        end
        RDS1["Aurora MySQL<br/>Multi-AZ<br/>プライマリ"]
        S3Primary["S3<br/>商品画像<br/>CRR有効"]
    end

    subgraph DR["DRリージョン: us-west-2 (オレゴン)"]
        RDS2["Aurora Global DB<br/>セカンダリ"]
        S3DR["S3<br/>レプリカ"]
    end

    subgraph Monitoring["監視・セキュリティ"]
        CW["CloudWatch<br/>メトリクス・ログ"]
        XRay["X-Ray<br/>トレーシング"]
        WAF["WAF"]
        SH["Security Hub"]
    end

    Users --> R53
    R53 --> CF
    CF --> S3Primary
    R53 --> WAF
    WAF --> ALB1a
    WAF --> ALB1c
    ALB1a --> App1a
    ALB1c --> App1c
    App1a --> Cache1a
    App1c --> Cache1c
    App1a --> RDS1
    App1c --> RDS1
    RDS1 -.レプリケーション.-> RDS2
    S3Primary -.CRR.-> S3DR
    App1a --> CW
    App1c --> CW
    App1a --> XRay
    App1c --> XRay
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">各層の設計詳細</h3>
                    <div class="space-y-4">
                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-5">
                            <h4 class="font-semibold text-blue-800 mb-3 flex items-center gap-2">
                                <i class="fas fa-layer-group"></i>
                                1. プレゼンテーション層（グローバル配信）
                            </h4>
                            <div class="bg-blue-100 rounded-lg p-4 mb-3">
                                <p class="text-blue-900 font-medium mb-2">設計ポイント</p>
                                <ul class="text-blue-900 text-sm space-y-1">
                                    <li>• <strong>Route 53:</strong> 加重ルーティングでトラフィック分散、ヘルスチェックで自動フェイルオーバー</li>
                                    <li>• <strong>CloudFront:</strong> 静的コンテンツ（React SPA、画像）をエッジで配信、TTL設定で効率的なキャッシュ</li>
                                    <li>• <strong>WAF:</strong> SQLインジェクション、XSS攻撃を防御、レート制限でDDoS対策</li>
                                </ul>
                            </div>
                            <div class="text-blue-900 text-sm">
                                <p><strong>要件への対応:</strong></p>
                                <p>グローバルユーザーへの低レイテンシー配信、セキュリティ強化</p>
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-xl p-5">
                            <h4 class="font-semibold text-emerald-800 mb-3 flex items-center gap-2">
                                <i class="fas fa-server"></i>
                                2. アプリケーション層（自動スケーリング）
                            </h4>
                            <div class="bg-emerald-100 rounded-lg p-4 mb-3">
                                <p class="text-emerald-900 font-medium mb-2">設計ポイント</p>
                                <ul class="text-emerald-900 text-sm space-y-1">
                                    <li>• <strong>ALB:</strong> 複数AZに配置、SSL/TLS終端、ヘルスチェック</li>
                                    <li>• <strong>Auto Scaling:</strong> ターゲット追跡スケーリング（CPU 70%）、最小2台/最大20台</li>
                                    <li>• <strong>ElastiCache (Redis):</strong> セッションデータ、API応答キャッシュ、Multi-AZ構成</li>
                                </ul>
                            </div>
                            <div class="text-emerald-900 text-sm">
                                <p><strong>要件への対応:</strong></p>
                                <p>ピーク時10倍のトラフィックに自動対応、レスポンスタイム1秒以内を実現</p>
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-purple-50 to-fuchsia-50 border border-purple-200 rounded-xl p-5">
                            <h4 class="font-semibold text-purple-800 mb-3 flex items-center gap-2">
                                <i class="fas fa-database"></i>
                                3. データ層（高可用性・災害復旧）
                            </h4>
                            <div class="bg-purple-100 rounded-lg p-4 mb-3">
                                <p class="text-purple-900 font-medium mb-2">設計ポイント</p>
                                <ul class="text-purple-900 text-sm space-y-1">
                                    <li>• <strong>Aurora MySQL:</strong> Multi-AZ構成、自動バックアップ（5分間隔）、ポイントインタイムリカバリ</li>
                                    <li>• <strong>Aurora Global Database:</strong> DRリージョン（us-west-2）に1秒以内でレプリケーション、RPO 5分以内</li>
                                    <li>• <strong>S3:</strong> 商品画像を保存、クロスリージョンレプリケーション（CRR）有効</li>
                                    <li>• <strong>AWS Backup:</strong> 統合バックアップ管理、週次フルバックアップ、日次増分</li>
                                </ul>
                            </div>
                            <div class="text-purple-900 text-sm">
                                <p><strong>要件への対応:</strong></p>
                                <p>RTO 1時間以内、RPO 5分以内の災害復旧、データ暗号化（保存時・転送時）</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-exclamation-triangle text-orange-600 mt-1"></i>
                            <div>
                                <p class="text-orange-900 font-medium">単一障害点（SPOF）の排除</p>
                                <p class="text-orange-800 text-sm mt-1">
                                    すべてのコンポーネントをMulti-AZ構成とし、ALB、Auto Scaling、Aurora、ElastiCacheで冗長化しています。
                                    また、Route 53のヘルスチェックにより、リージョン障害時は自動的にDRリージョンへフェイルオーバーします。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション4: Well-Architectedフレームワークに基づく評価 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        15.4 Well-Architectedフレームワークに基づく評価
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        設計したアーキテクチャをWell-Architectedの5つの柱で評価し、ベストプラクティスに準拠しているかを確認します。
                    </p>

                    <div class="space-y-4">
                        <div class="bg-white border border-slate-200 rounded-lg p-4">
                            <h4 class="font-semibold text-slate-800 mb-2">1. 運用上の優秀性 (Operational Excellence)</h4>
                            <div class="text-sm text-slate-600 space-y-2">
                                <p><strong>実装内容:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>• CloudFormationによるIaC（Infrastructure as Code）</li>
                                    <li>• CloudWatch Logsでアプリケーションログ集約</li>
                                    <li>• X-Rayによる分散トレーシング、パフォーマンス分析</li>
                                    <li>• EventBridgeでインシデント自動通知</li>
                                </ul>
                                <p class="text-emerald-700"><i class="fas fa-check-circle"></i> ベストプラクティス準拠</p>
                            </div>
                        </div>

                        <div class="bg-white border border-slate-200 rounded-lg p-4">
                            <h4 class="font-semibold text-slate-800 mb-2">2. セキュリティ (Security)</h4>
                            <div class="text-sm text-slate-600 space-y-2">
                                <p><strong>実装内容:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>• IAMロールによる最小権限の原則</li>
                                    <li>• VPCでプライベートサブネットにアプリケーション配置</li>
                                    <li>• KMSによるデータ暗号化（Aurora、S3）</li>
                                    <li>• WAFによるWebアプリケーション保護</li>
                                    <li>• Security Hub、GuardDutyで継続的なセキュリティ監視</li>
                                    <li>• CloudTrailですべてのAPI呼び出しをログ記録</li>
                                </ul>
                                <p class="text-emerald-700"><i class="fas fa-check-circle"></i> PCI DSS準拠要件を満たす</p>
                            </div>
                        </div>

                        <div class="bg-white border border-slate-200 rounded-lg p-4">
                            <h4 class="font-semibold text-slate-800 mb-2">3. 信頼性 (Reliability)</h4>
                            <div class="text-sm text-slate-600 space-y-2">
                                <p><strong>実装内容:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>• Multi-AZ構成で単一障害点を排除</li>
                                    <li>• Auto Scalingによる自動復旧・スケーリング</li>
                                    <li>• Aurora Global Databaseでマルチリージョンレプリケーション</li>
                                    <li>• Route 53ヘルスチェックで自動フェイルオーバー</li>
                                    <li>• 自動バックアップとポイントインタイムリカバリ</li>
                                </ul>
                                <p class="text-emerald-700"><i class="fas fa-check-circle"></i> SLA 99.9%、RTO 1時間、RPO 5分を達成</p>
                            </div>
                        </div>

                        <div class="bg-white border border-slate-200 rounded-lg p-4">
                            <h4 class="font-semibold text-slate-800 mb-2">4. パフォーマンス効率 (Performance Efficiency)</h4>
                            <div class="text-sm text-slate-600 space-y-2">
                                <p><strong>実装内容:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>• CloudFrontでグローバル配信、エッジキャッシング</li>
                                    <li>• ElastiCacheでデータベースクエリ結果をキャッシュ</li>
                                    <li>• Auroraの読み取りレプリカで読み取り負荷分散</li>
                                    <li>• Auto Scalingでトラフィック変動に自動対応</li>
                                </ul>
                                <p class="text-emerald-700"><i class="fas fa-check-circle"></i> レスポンスタイム1秒以内、ピーク時2秒以内を実現</p>
                            </div>
                        </div>

                        <div class="bg-white border border-slate-200 rounded-lg p-4">
                            <h4 class="font-semibold text-slate-800 mb-2">5. コスト最適化 (Cost Optimization)</h4>
                            <div class="text-sm text-slate-600 space-y-2">
                                <p><strong>実装内容:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>• Auto Scalingで必要な時だけリソース拡張</li>
                                    <li>• EC2 Savings PlansまたはReserved Instancesで30-50%コスト削減</li>
                                    <li>• S3 Intelligent-Tieringで自動ストレージクラス最適化</li>
                                    <li>• CloudFrontでデータ転送コスト削減</li>
                                    <li>• Cost Explorerで継続的なコスト分析</li>
                                </ul>
                                <p class="text-emerald-700"><i class="fas fa-check-circle"></i> 月額コストを予算内（現状の150%以内）に抑制</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-lightbulb text-blue-600 mt-1"></i>
                            <div>
                                <p class="text-blue-900 font-medium">Well-Architectedレビューのポイント</p>
                                <p class="text-blue-800 text-sm mt-1">
                                    設計完了後は、AWS Well-Architected Toolを使用してセルフレビューを実施することを推奨します。
                                    また、定期的（四半期ごと）にレビューを行い、新しいAWSサービスやベストプラクティスを取り入れることで、アーキテクチャを継続的に改善できます。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション5: コスト試算と最適化 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        15.5 コスト試算と最適化
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        設計したアーキテクチャの月額コストを試算し、最適化ポイントを検討します。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">月額コスト試算（ap-northeast-1リージョン）</h3>
                    <div class="overflow-x-auto my-6">
                        <table class="min-w-full border-collapse border border-slate-300">
                            <thead class="bg-slate-100">
                                <tr>
                                    <th class="border border-slate-300 px-4 py-2 text-left">サービス</th>
                                    <th class="border border-slate-300 px-4 py-2 text-left">構成</th>
                                    <th class="border border-slate-300 px-4 py-2 text-right">月額 (USD)</th>
                                </tr>
                            </thead>
                            <tbody class="text-sm">
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">EC2 Auto Scaling</td>
                                    <td class="border border-slate-300 px-4 py-2">t3.medium × 平均4台 (Savings Plans)</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$120</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">Application Load Balancer</td>
                                    <td class="border border-slate-300 px-4 py-2">2台 (Multi-AZ)</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$45</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">Aurora MySQL</td>
                                    <td class="border border-slate-300 px-4 py-2">db.r6g.xlarge × 2 (Multi-AZ、Reserved)</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$450</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">Aurora Global Database</td>
                                    <td class="border border-slate-300 px-4 py-2">セカンダリリージョン (us-west-2)</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$250</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">ElastiCache (Redis)</td>
                                    <td class="border border-slate-300 px-4 py-2">cache.r6g.large × 2 (Multi-AZ)</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$180</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">S3</td>
                                    <td class="border border-slate-300 px-4 py-2">10TB (Intelligent-Tiering、CRR)</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$250</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">CloudFront</td>
                                    <td class="border border-slate-300 px-4 py-2">100TB データ転送</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$850</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">Route 53</td>
                                    <td class="border border-slate-300 px-4 py-2">ホストゾーン、ヘルスチェック</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$10</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">WAF</td>
                                    <td class="border border-slate-300 px-4 py-2">Web ACL、ルール</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$30</td>
                                </tr>
                                <tr>
                                    <td class="border border-slate-300 px-4 py-2">CloudWatch、X-Ray、その他</td>
                                    <td class="border border-slate-300 px-4 py-2">ログ、メトリクス、トレース</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$100</td>
                                </tr>
                                <tr class="bg-slate-50 font-bold">
                                    <td colspan="2" class="border border-slate-300 px-4 py-2">合計</td>
                                    <td class="border border-slate-300 px-4 py-2 text-right">$2,285</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">コスト最適化のポイント</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
                        <div class="bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4">
                            <h4 class="font-semibold text-green-800 mb-2 flex items-center gap-2">
                                <i class="fas fa-dollar-sign"></i>
                                コミットメント割引
                            </h4>
                            <ul class="text-green-900 text-sm space-y-1">
                                <li>• EC2 Savings Plans (1年または3年)</li>
                                <li>• Aurora Reserved Instances</li>
                                <li>• ElastiCache Reserved Nodes</li>
                                <li><strong>削減額:</strong> 最大30-50%</li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-200 rounded-xl p-4">
                            <h4 class="font-semibold text-blue-800 mb-2 flex items-center gap-2">
                                <i class="fas fa-clock"></i>
                                スケジューリング
                            </h4>
                            <ul class="text-blue-900 text-sm space-y-1">
                                <li>• 夜間・休日のDR環境スケールダウン</li>
                                <li>• 開発環境の自動停止</li>
                                <li>• Auto Scalingの最小台数調整</li>
                                <li><strong>削減額:</strong> 15-20%</li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-br from-purple-50 to-fuchsia-50 border border-purple-200 rounded-xl p-4">
                            <h4 class="font-semibold text-purple-800 mb-2 flex items-center gap-2">
                                <i class="fas fa-hdd"></i>
                                ストレージ最適化
                            </h4>
                            <ul class="text-purple-900 text-sm space-y-1">
                                <li>• S3 Intelligent-Tiering</li>
                                <li>• 古い画像をGlacierへ移行</li>
                                <li>• ライフサイクルポリシー設定</li>
                                <li><strong>削減額:</strong> 10-15%</li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-xl p-4">
                            <h4 class="font-semibold text-orange-800 mb-2 flex items-center gap-2">
                                <i class="fas fa-chart-line"></i>
                                継続的モニタリング
                            </h4>
                            <ul class="text-orange-900 text-sm space-y-1">
                                <li>• Cost Explorerで使用状況分析</li>
                                <li>• AWS Budgetsでアラート設定</li>
                                <li>• Trusted Advisorで最適化提案</li>
                                <li><strong>効果:</strong> 無駄の早期発見</li>
                            </ul>
                        </div>
                    </div>

                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-calculator text-emerald-600 mt-1"></i>
                            <div>
                                <p class="text-emerald-900 font-medium">コスト試算のポイント</p>
                                <p class="text-emerald-800 text-sm mt-1">
                                    AWS Pricing Calculatorを使用して、リージョンごと、サービスごとの詳細なコスト試算を行いましょう。
                                    また、トラフィックの変動や成長を考慮し、1年後、3年後のコスト予測も行うことで、長期的なコスト管理が可能になります。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション6: 設計ドキュメントとSAP試験対策総括 -->
                <section class="prose prose-slate max-w-none mb-8">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        15.6 設計ドキュメントとSAP試験対策総括
                    </h2>
                    <p class="text-slate-600 leading-relaxed mb-4">
                        アーキテクチャ設計を完了したら、設計ドキュメントを作成し、関係者とレビューを行います。
                        また、本ガイド全15章の学習を振り返り、SAP試験に向けた総括を行います。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">設計ドキュメントに含める内容</h3>
                    <div class="bg-white border border-slate-200 rounded-lg p-5 my-4">
                        <ol class="text-slate-700 space-y-2">
                            <li><strong>1. エグゼクティブサマリー</strong>
                                <p class="text-sm text-slate-600 ml-4">ビジネス要件、設計の概要、期待される効果</p>
                            </li>
                            <li><strong>2. 要件定義</strong>
                                <p class="text-sm text-slate-600 ml-4">機能要件、非機能要件（可用性、パフォーマンス、セキュリティ、コスト）</p>
                            </li>
                            <li><strong>3. アーキテクチャ設計</strong>
                                <p class="text-sm text-slate-600 ml-4">全体構成図、各層の詳細設計、使用するAWSサービスとその役割</p>
                            </li>
                            <li><strong>4. ネットワーク設計</strong>
                                <p class="text-sm text-slate-600 ml-4">VPC構成、サブネット設計、ルーティング、セキュリティグループ</p>
                            </li>
                            <li><strong>5. セキュリティ設計</strong>
                                <p class="text-sm text-slate-600 ml-4">IAM、暗号化、ログ監査、コンプライアンス対応</p>
                            </li>
                            <li><strong>6. 災害復旧計画</strong>
                                <p class="text-sm text-slate-600 ml-4">RTO/RPO、バックアップ戦略、フェイルオーバー手順</p>
                            </li>
                            <li><strong>7. 運用設計</strong>
                                <p class="text-sm text-slate-600 ml-4">監視、アラート、ログ管理、インシデント対応</p>
                            </li>
                            <li><strong>8. コスト試算</strong>
                                <p class="text-sm text-slate-600 ml-4">初期コスト、月額運用コスト、最適化計画</p>
                            </li>
                            <li><strong>9. 移行計画</strong>
                                <p class="text-sm text-slate-600 ml-4">移行戦略（Rehost、Replatform等）、マイルストーン、リスク管理</p>
                            </li>
                        </ol>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">SAP試験対策 - 全15章の総括</h3>
                    <div class="mermaid">
mindmap
  root((SAP試験<br/>合格への道))
    基礎編
      第1章 試験概要と学習戦略
      第2章 高可用性設計の基礎
      第3章 ELB
      第4章 Auto Scaling
      第5章 Route 53
    ネットワーク編
      第6章 CloudFront
      第7章 Global Accelerator
      第8章 高度なVPC設計
      第9章 ハイブリッドクラウド接続
    データ・DR編
      第10章 データベースHA
      第11章 ストレージHA
      第12章 DR戦略
    運用・総合編
      第13章 セキュリティとコンプライアンス
      第14章 監視・ログ・トラブルシューティング
      第15章 総合演習
                    </div>

                    <h3 class="text-lg font-semibold text-slate-800 mt-6 mb-3">試験直前の準備チェックリスト</h3>
                    <div class="bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 rounded-xl p-5 my-6">
                        <h4 class="font-semibold text-yellow-800 mb-3">試験2週間前</h4>
                        <ul class="text-yellow-900 text-sm space-y-2">
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>AWS Skill Builderの公式模擬試験を受験（2回以上）</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>各章の理解度確認クイズをすべて復習</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>Well-Architected Frameworkのホワイトペーパーを再読</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>弱点分野（模擬試験で間違えた領域）を集中学習</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>主要サービスのFAQ・公式ドキュメントを確認</span>
                            </li>
                        </ul>
                    </div>

                    <div class="bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-xl p-5 my-6">
                        <h4 class="font-semibold text-blue-800 mb-3">試験当日</h4>
                        <ul class="text-blue-900 text-sm space-y-2">
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>試験時間は180分（3時間）、75問。時間配分に注意（1問あたり2-3分）</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>不明な問題はフラグを立てて後回し、確実な問題から解答</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>問題文の「最も」「最小限」「最も費用対効果が高い」などのキーワードに注目</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>複数選択式問題は、選択数を必ず確認（2つ選択、3つ選択など）</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <input type="checkbox" class="mt-1">
                                <span>見直し時間を30分確保し、フラグ問題とマーク漏れを確認</span>
                            </li>
                        </ul>
                    </div>

                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-trophy text-emerald-600 mt-1"></i>
                            <div>
                                <p class="text-emerald-900 font-medium">合格後のキャリアパス</p>
                                <p class="text-emerald-800 text-sm mt-1">
                                    SAP資格取得後は、DevOps Engineer - Professional、Advanced Networking - Specialty、Security - Specialtyなど、専門分野のAWS資格にチャレンジしましょう。
                                    また、実務でWell-Architectedレビューを実施し、アーキテクトとしてのスキルをさらに磨いていくことが重要です。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 実習演習 -->
                <div class="bg-gradient-to-r from-purple-50 to-fuchsia-50 border border-purple-200
                            rounded-xl p-5 my-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-purple-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-flask text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-purple-800 mb-4 break-words">総合演習課題</h3>
                            <div class="space-y-4">
                                <div class="bg-purple-100 rounded-lg p-4">
                                    <p class="font-medium text-purple-900 mb-2">課題1: アーキテクチャ図の作成</p>
                                    <p class="text-purple-800 text-sm break-words">
                                        本章のシナリオに基づき、draw.ioまたはLucidchartを使用して詳細なアーキテクチャ図を作成してください。
                                        VPC、サブネット、ルートテーブル、セキュリティグループまで含めた図を作成します。
                                    </p>
                                </div>

                                <div class="bg-purple-100 rounded-lg p-4">
                                    <p class="font-medium text-purple-900 mb-2">課題2: CloudFormationテンプレート作成</p>
                                    <p class="text-purple-800 text-sm break-words">
                                        VPC、サブネット、ALB、Auto Scalingグループ、Auroraクラスタを含むCloudFormationテンプレートを作成し、
                                        テスト環境にデプロイしてください。パラメータ化し、複数環境（dev、stg、prod）に対応できるようにします。
                                    </p>
                                </div>

                                <div class="bg-purple-100 rounded-lg p-4">
                                    <p class="font-medium text-purple-900 mb-2">課題3: 負荷テストとパフォーマンス評価</p>
                                    <p class="text-purple-800 text-sm break-words">
                                        Apache JMeterまたはAWS Fault Injection Simulatorを使用して、
                                        ピーク時を想定した負荷テスト（1000リクエスト/秒）を実施してください。
                                        CloudWatch、X-Rayでパフォーマンスを測定し、ボトルネックを特定します。
                                    </p>
                                </div>

                                <div class="bg-purple-100 rounded-lg p-4">
                                    <p class="font-medium text-purple-900 mb-2">課題4: DRフェイルオーバーテスト</p>
                                    <p class="text-purple-800 text-sm break-words">
                                        プライマリリージョンの障害を想定し、Route 53のヘルスチェック無効化により、
                                        DRリージョンへの自動フェイルオーバーをテストしてください。
                                        フェイルオーバー時間（RTO）とデータ損失（RPO）を計測します。
                                    </p>
                                </div>

                                <div class="bg-purple-100 rounded-lg p-4">
                                    <p class="font-medium text-purple-900 mb-2">課題5: Well-Architectedレビュー実施</p>
                                    <p class="text-purple-800 text-sm break-words">
                                        AWS Well-Architected Toolを使用して、設計したアーキテクチャのセルフレビューを実施してください。
                                        検出された高リスク事項（HRI）に対して、改善アクションプランを作成します。
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 理解度確認クイズ -->
                <div class="bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200
                            rounded-xl p-5 my-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-question text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-blue-800 mb-4 break-words">理解度確認クイズ</h3>
                            <ol class="space-y-4">
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q1. 本章のシナリオで、RTO 1時間以内、RPO 5分以内を実現するために選択したAWSサービスの組み合わせは何ですか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            Aurora Global Database（1秒以内でレプリケーション、RPO 5分）、Route 53ヘルスチェック（自動フェイルオーバー）、S3クロスリージョンレプリケーション、
                                            CloudFormationによるインフラ自動化（RTO短縮）の組み合わせです。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q2. ピーク時に通常の10倍のトラフィックに対応するために、どのような設計を行いましたか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            Auto Scalingでターゲット追跡スケーリング（CPU 70%）を設定し、最小2台から最大20台まで自動スケール。
                                            CloudFrontで静的コンテンツをキャッシュし、ElastiCacheでDBクエリ結果をキャッシュすることで、バックエンドの負荷を軽減しています。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q3. Well-Architected Frameworkの5つの柱のうち、本アーキテクチャで最も重視した柱は何ですか？また、その理由は？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            信頼性（Reliability）を最も重視しました。理由は、ECサイトではダウンタイムが直接的な収益損失につながるため、
                                            99.9%の可用性、Multi-AZ構成、自動フェイルオーバー、災害復旧計画が必須だからです。
                                            また、セキュリティ（PCI DSS準拠）とパフォーマンス効率（グローバルユーザーへの低レイテンシー配信）も同様に重要です。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2 break-words">Q4. コスト最適化のために、どのような施策を実施しましたか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700 break-words">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3 break-words">
                                            EC2 Savings Plans、Aurora Reserved Instances、ElastiCache Reserved Nodesによる30-50%コスト削減、
                                            S3 Intelligent-Tieringによる自動ストレージクラス最適化、CloudFrontによるデータ転送コスト削減、
                                            Auto Scalingによる必要時のみのリソース拡張などを実施しました。
                                        </p>
                                    </details>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- 章のまとめ -->
                <div class="bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-xl p-6 my-8">
                    <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2">
                        <i class="fas fa-check-circle text-emerald-500"></i>
                        第15章のまとめ
                    </h3>
                    <ul class="space-y-2 text-slate-700">
                        <li class="flex items-start gap-2">
                            <i class="fas fa-chevron-right text-primary-500 mt-1 text-sm"></i>
                            <span>ビジネス要件から高可用性アーキテクチャを設計するプロセスを実践</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-chevron-right text-primary-500 mt-1 text-sm"></i>
                            <span>3層Webアプリケーションに、ELB、Auto Scaling、Aurora、CloudFront、Route 53を統合</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-chevron-right text-primary-500 mt-1 text-sm"></i>
                            <span>Well-Architected Frameworkの5つの柱でアーキテクチャを評価し、ベストプラクティスに準拠</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-chevron-right text-primary-500 mt-1 text-sm"></i>
                            <span>コスト試算を行い、Savings PlansやIntelligent-Tieringで最適化</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-chevron-right text-primary-500 mt-1 text-sm"></i>
                            <span>SAP試験に向けた全15章の総括と、試験直前の準備チェックリストを確認</span>
                        </li>
                    </ul>
                </div>

                <!-- 次のステップ -->
                <div class="bg-gradient-to-br from-emerald-50 to-teal-50 border-l-4 border-emerald-500 p-5 my-6 rounded-r-lg">
                    <div class="flex items-start gap-3">
                        <i class="fas fa-trophy text-emerald-600 text-2xl mt-1"></i>
                        <div>
                            <p class="text-emerald-900 font-bold text-lg mb-2">おめでとうございます！</p>
                            <p class="text-emerald-800 text-sm leading-relaxed">
                                AWS Solutions Architect Professional入門ガイドの全15章を完了しました。
                                これまで学んだ知識を活かして、AWS Skill Builderの公式模擬試験を受験し、弱点を補強してください。
                                SAP-C02試験合格に向けて、自信を持って試験に臨みましょう！
                            </p>
                            <p class="text-emerald-800 text-sm mt-3 font-medium">
                                次のステップ: 公式模擬試験 → 弱点補強 → SAP-C02本番試験
                            </p>
                        </div>
                    </div>
                </div>

                <!-- 章間ナビゲーション -->
                <nav class="flex items-center justify-between pt-6 mt-6 border-t border-slate-200">
                    <a href="aws-sap-intro-learning-material-14.html"
                       class="group flex items-center gap-3 px-4 py-3 rounded-xl
                              bg-slate-100 hover:bg-slate-200 transition-colors">
                        <i class="fas fa-arrow-left text-slate-400 group-hover:text-slate-600
                                  transition-transform group-hover:-translate-x-1"></i>
                        <div>
                            <span class="text-xs text-slate-500 block">前の章</span>
                            <span class="text-slate-700 font-medium">第14章: 監視・ログ・トラブルシューティング</span>
                        </div>
                    </a>
                    <a href="../README.md"
                       class="group flex items-center gap-3 px-4 py-3 rounded-xl
                              bg-primary-500 hover:bg-primary-600 text-white transition-colors">
                        <div class="text-right">
                            <span class="text-xs text-primary-100 block">学習完了</span>
                            <span class="font-medium">ガイドトップへ</span>
                        </div>
                        <i class="fas fa-home transition-transform group-hover:translate-x-1"></i>
                    </a>
                </nav>
            </div>
        </main>
    </div>

    <!-- フッター -->
    <footer class="bg-slate-800 text-slate-300">
        <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <p class="text-sm text-center md:text-left">
                    &copy; 2025 F-Circle. All rights reserved.<br>
                    本資料はAIツールを活用し、人間による編集・監修のもと作成されています。
                </p>
                <div class="flex items-center gap-4">
                    <a href="#" class="hover:text-white transition-colors">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- スクロールトップボタン -->
    <button id="scroll-top-btn"
            class="fixed bottom-6 right-6 w-12 h-12 bg-primary-500 text-white rounded-full
                   shadow-lg hover:bg-primary-600 transition-all duration-300
                   opacity-0 invisible translate-y-4"
            onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- サイドバー生成 -->
    <script src="sidebar-content.js"></script>

    <!-- 共通JavaScript -->
    <script src="main.js"></script>

    <!-- 描画ツール -->
    <script src="drawing-tool.js"></script>
</body>
</html>
