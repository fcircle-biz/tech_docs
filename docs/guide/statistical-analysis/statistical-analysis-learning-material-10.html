<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>統計解析学習教材 第10章 - ノンパラメトリック検定と実践プロジェクト</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; padding-top: 56px; background-color: #f8f9fa; }
        .navbar { background-color: #1e88e5; }
        .sidebar { position: sticky; top: 70px; height: calc(100vh - 70px); overflow-y: auto; background-color: #ffffff; border-right: 1px solid #dee2e6; padding: 1rem; }
        .sidebar .nav-link { color: #495057; padding: 0.5rem 1rem; border-radius: 5px; margin-bottom: 0.25rem; }
        .sidebar .nav-link:hover { background-color: #e3f2fd; }
        .sidebar .nav-link.active { background-color: #1e88e5 !important; color: white !important; }
        .chapter-title { color: #1e88e5; margin-top: 1.5rem; margin-bottom: 1rem; border-bottom: 3px solid #1e88e5; padding-bottom: 0.5rem; }
        .section-title { color: #42a5f5; margin-top: 2rem; margin-bottom: 1rem; border-left: 4px solid #42a5f5; padding-left: 0.75rem; }
        .highlight { background-color: #fff3e0; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #ff9800; }
        .quiz-container { background-color: #e3f2fd; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #1e88e5; }
        .exercise-container { background-color: #f3e5f5; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #9c27b0; }
        .warning { background-color: #ffebee; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #f44336; }
        .code-block { background-color: #1e1e1e; color: white; border-radius: 5px; padding: 1rem; margin: 1rem 0; overflow-x: auto; }
        main { background-color: #ffffff; min-height: calc(100vh - 56px); padding: 2rem; }
        footer { margin-top: 3rem; background-color: #1e88e5; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid"><a class="navbar-brand" href="#"><strong>統計解析学習教材</strong></a></div>
    </nav>
    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"><span>学習章</span></h6>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-1.html">第1章: 統計解析入門と環境構築</a></li>
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-2.html">第2章: 記述統計学の基礎</a></li>
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-3.html">第3章: 確率の基礎と確率分布</a></li>
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-4.html">第4章: 推測統計の基礎</a></li>
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-5.html">第5章: 仮説検定の基礎</a></li>
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-6.html">第6章: 分散分析とカイ二乗検定</a></li>
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-7.html">第7章: 相関と回帰分析</a></li>
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-8.html">第8章: 多変量解析入門</a></li>
                        <li class="nav-item"><a class="nav-link" href="statistical-analysis-learning-material-9.html">第9章: ベイズ統計と時系列分析</a></li>
                        <li class="nav-item"><a class="nav-link active" href="statistical-analysis-learning-material-10.html">第10章: ノンパラメトリック検定と実践プロジェクト</a></li>
                    </ul>
                </div>
            </nav>
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第10章: ノンパラメトリック検定と実践プロジェクト</h1>
                </div>
                <div id="chapter10">
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>ノンパラメトリック検定の適用場面を理解する</li>
                            <li>順位に基づく検定手法を実行できる</li>
                            <li>複数の統計手法を組み合わせて実データを分析できる</li>
                            <li>分析結果を適切に解釈し報告書を作成できる</li>
                        </ul>
                    </div>

                    <h3 class="section-title">10.1 ノンパラメトリック検定の基礎</h3>
                    <h4>ノンパラメトリック検定とは</h4>
                    <p>
                        ノンパラメトリック検定は、データの分布に関する仮定（正規性など）を必要としない検定手法です。
                        以下の場合に有用です：
                    </p>
                    <ul>
                        <li>データが正規分布に従わない</li>
                        <li>標本サイズが小さい</li>
                        <li>順序尺度データを扱う</li>
                        <li>外れ値の影響を抑えたい</li>
                    </ul>

                    <div class="mermaid">
                        flowchart TB
                            A{データの性質}
                            A -->|正規分布| B[パラメトリック検定]
                            A -->|非正規分布| C[ノンパラメトリック検定]
                            A -->|順序尺度| C

                            B --> B1[t検定]
                            B --> B2[ANOVA]

                            C --> C1[ウィルコクソン検定]
                            C --> C2["マン・ホイットニーU検定"]
                            C --> C3["クラスカル・ウォリス検定"]

                            style A fill:#e3f2fd
                            style B fill:#fff3e0
                            style C fill:#f3e5f5
                    </div>

                    <h3 class="section-title">10.2 ウィルコクソンの符号付順位検定</h3>
                    <h4>対応のあるデータの比較</h4>
                    <p>
                        ウィルコクソンの符号付順位検定は、対応のあるt検定のノンパラメトリック版です。
                        前後比較や対応のあるペアデータに使用します。
                    </p>

                    <pre class="code-block"><code class="language-r"># R: ウィルコクソンの符号付順位検定
# トレーニング前後のスコア比較
before <- c(65, 70, 68, 72, 67, 69, 71, 66)
after  <- c(72, 75, 71, 78, 70, 74, 76, 69)

# ウィルコクソン検定
wilcox_result <- wilcox.test(before, after, paired=TRUE)
print(wilcox_result)

# 中央値の確認
print(paste("前 中央値:", median(before)))
print(paste("後 中央値:", median(after)))</code></pre>

                    <pre class="code-block"><code class="language-python"># Python: ウィルコクソンの符号付順位検定
from scipy import stats

before = [65, 70, 68, 72, 67, 69, 71, 66]
after  = [72, 75, 71, 78, 70, 74, 76, 69]

# ウィルコクソン検定
statistic, p_value = stats.wilcoxon(before, after)

print(f"統計量: {statistic}")
print(f"p値: {p_value}")

import numpy as np
print(f"前 中央値: {np.median(before)}")
print(f"後 中央値: {np.median(after)}")</code></pre>

                    <h3 class="section-title">10.3 マン・ホイットニーのU検定</h3>
                    <h4>独立2群の比較</h4>
                    <p>
                        マン・ホイットニーのU検定は、独立した2群の中央値を比較する検定です。
                        2標本t検定のノンパラメトリック版です。
                    </p>

                    <pre class="code-block"><code class="language-r"># R: マン・ホイットニーのU検定
group_A <- c(23, 25, 28, 30, 32)
group_B <- c(18, 20, 22, 24, 26)

# マン・ホイットニーU検定
mann_result <- wilcox.test(group_A, group_B)
print(mann_result)</code></pre>

                    <pre class="code-block"><code class="language-python"># Python: マン・ホイットニーのU検定
from scipy import stats

group_A = [23, 25, 28, 30, 32]
group_B = [18, 20, 22, 24, 26]

# マン・ホイットニーU検定
statistic, p_value = stats.mannwhitneyu(group_A, group_B)

print(f"U統計量: {statistic}")
print(f"p値: {p_value}")</code></pre>

                    <h3 class="section-title">10.4 クラスカル・ウォリス検定</h3>
                    <h4>3群以上の比較</h4>
                    <p>
                        クラスカル・ウォリス検定は、3群以上の中央値を比較する検定です。
                        一元配置ANOVAのノンパラメトリック版です。
                    </p>

                    <pre class="code-block"><code class="language-r"># R: クラスカル・ウォリス検定
group_A <- c(20, 22, 19, 21, 23)
group_B <- c(28, 30, 27, 29, 31)
group_C <- c(18, 20, 17, 19, 21)

# クラスカル・ウォリス検定
data <- data.frame(
  value = c(group_A, group_B, group_C),
  group = factor(rep(c("A", "B", "C"), each=5))
)
kruskal_result <- kruskal.test(value ~ group, data=data)
print(kruskal_result)</code></pre>

                    <pre class="code-block"><code class="language-python"># Python: クラスカル・ウォリス検定
from scipy import stats

group_A = [20, 22, 19, 21, 23]
group_B = [28, 30, 27, 29, 31]
group_C = [18, 20, 17, 19, 21]

# クラスカル・ウォリス検定
statistic, p_value = stats.kruskal(group_A, group_B, group_C)

print(f"H統計量: {statistic}")
print(f"p値: {p_value}")</code></pre>

                    <h3 class="section-title">10.5 実践プロジェクト: 総合データ分析</h3>
                    <h4>プロジェクト例: マーケティングデータ分析</h4>
                    <p>
                        これまで学習した統計手法を組み合わせて、実際のビジネス課題を解決するプロジェクトに取り組みます。
                    </p>

                    <div class="exercise-container">
                        <h5>総合課題: 顧客データ分析プロジェクト</h5>
                        <p><strong>シナリオ:</strong></p>
                        <p>
                            あなたはECサイトのデータアナリストです。顧客の購買行動を分析し、
                            マーケティング戦略の改善提案を行うことが求められています。
                        </p>

                        <h6>データ項目</h6>
                        <ul>
                            <li>顧客ID</li>
                            <li>年齢</li>
                            <li>性別</li>
                            <li>購入金額（月次）</li>
                            <li>購入頻度</li>
                            <li>会員ランク（ゴールド、シルバー、ブロンズ）</li>
                            <li>キャンペーン参加有無</li>
                        </ul>

                        <h6>分析タスク</h6>
                        <ol>
                            <li><strong>記述統計</strong>: 購入金額の平均、中央値、標準偏差を計算</li>
                            <li><strong>可視化</strong>: 年齢と購入金額の散布図、会員ランク別の箱ひげ図を作成</li>
                            <li><strong>仮説検定</strong>: キャンペーン参加群と非参加群で購入金額に差があるか検定</li>
                            <li><strong>相関分析</strong>: 年齢と購入金額の相関を分析</li>
                            <li><strong>回帰分析</strong>: 年齢、購入頻度から購入金額を予測するモデルを構築</li>
                            <li><strong>クラスター分析</strong>: 顧客を3つのセグメントに分類</li>
                            <li><strong>レポート作成</strong>: 分析結果をまとめ、ビジネス上の提言を行う</li>
                        </ol>

                        <h6>実装のヒント</h6>
                        <pre class="code-block"><code class="language-r"># R: サンプル分析フロー
# 1. データ読み込み
# data <- read.csv("customer_data.csv")

# 2. 記述統計
# summary(data$purchase_amount)

# 3. 可視化
# ggplot(data, aes(x=age, y=purchase_amount)) +
#   geom_point() + geom_smooth(method="lm")

# 4. 仮説検定
# t.test(purchase_amount ~ campaign, data=data)

# 5. 回帰分析
# model <- lm(purchase_amount ~ age + frequency, data=data)
# summary(model)

# 6. クラスター分析
# kmeans_result <- kmeans(data[, c("age", "purchase_amount")], 3)</code></pre>

                        <h6>評価基準</h6>
                        <ul>
                            <li>適切な統計手法の選択（30%）</li>
                            <li>分析結果の正確性（30%）</li>
                            <li>ビジネス上の解釈と提言（30%）</li>
                            <li>レポートの完成度（10%）</li>
                        </ul>
                    </div>

                    <h3 class="section-title">10.6 分析結果の報告</h3>
                    <h4>統計レポートの構成</h4>
                    <ol>
                        <li><strong>背景と目的</strong>: なぜこの分析を行うのか</li>
                        <li><strong>データと手法</strong>: 使用したデータと分析手法の説明</li>
                        <li><strong>結果</strong>: 統計量、p値、図表を含む分析結果</li>
                        <li><strong>考察</strong>: 結果の解釈とビジネス上の意味</li>
                        <li><strong>結論と提言</strong>: 結論と今後のアクションプラン</li>
                    </ol>

                    <div class="warning">
                        <h6>統計的有意性の報告における注意点</h6>
                        <ul>
                            <li>p値だけでなく、効果量も報告する</li>
                            <li>信頼区間を示す</li>
                            <li>統計的有意性と実質的有意性を区別する</li>
                            <li>多重検定の補正を行った場合は明記する</li>
                        </ul>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>ノンパラメトリック検定を使用すべき状況を3つ挙げてください。</li>
                            <li>ウィルコクソン検定とマン・ホイットニーU検定の違いは何ですか？</li>
                            <li>パラメトリック検定とノンパラメトリック検定の長所・短所を説明してください。</li>
                            <li>統計レポートに必ず含めるべき要素を5つ挙げてください。</li>
                            <li>統計的に有意な結果が得られても、実務上無意味な場合がある理由を説明してください。</li>
                        </ol>
                    </div>

                    <div class="highlight">
                        <h5>学習の総括</h5>
                        <p>
                            この10章を通じて、統計解析の基礎から応用までを学習しました。
                            実務では、これらの手法を適切に選択し、組み合わせることが重要です。
                        </p>
                        <p><strong>次のステップ:</strong></p>
                        <ul>
                            <li>実際のデータセット（Kaggle、UCI Machine Learning Repositoryなど）で練習</li>
                            <li>機械学習への発展的学習</li>
                            <li>専門分野（医療統計、経済統計、品質管理など）への応用</li>
                            <li>R MarkdownやJupyter Notebookでの再現可能な分析</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-4 mb-4">
                        <a href="statistical-analysis-learning-material-9.html" class="btn btn-secondary">← 前の章</a>
                        <button class="btn btn-success" disabled>学習完了！</button>
                    </div>
                </div>
            </main>
        </div>
    </div>
    <footer class="text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>mermaid.initialize({ startOnLoad: true, theme: 'default' });</script>
</body>
</html>