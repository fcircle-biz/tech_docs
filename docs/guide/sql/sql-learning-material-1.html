<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL初心者向け学習教材 - データベース入門</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        .navbar {
            background-color: #1565c0;
        }
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        .chapter-title {
            color: #1565c0;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #1565c0;
            padding-bottom: 0.5rem;
        }
        .section-title {
            color: #1976d2;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        code {
            display: block;
            background-color: #f5f5f5;
            border-radius: 4px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            white-space: pre;
            overflow-x: auto;
        }
        .quiz-container {
            background-color: #e3f2fd;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .quiz-question {
            font-weight: 500;
            margin-bottom: 1rem;
        }
        .diagram {
            max-width: 100%;
            height: auto;
            margin: 1.5rem 0;
            text-align: center;
        }
        .exercise {
            background-color: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        .note {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        #table-of-contents .list-group-item {
            border: none;
            padding: 0.5rem 1rem;
        }
        #table-of-contents .list-group-item-action {
            color: #1976d2;
        }
        /* 選択された目次項目のスタイル */
        #table-of-contents .list-group-item-action.active,
        .list-group-item.active {
            color: white !important; /* テキストを白色にして青い背景に対してコントラストをつける */
            background-color: #1976d2;
            border-color: #1976d2;
        }
        .section-nav {
            padding-left: 1rem;
        }
        .inline-code {
            background-color: #f5f5f5;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            display: inline;
        }
        footer {
            background-color: #1565c0;
            color: white;
            padding: 1.5rem 0;
            margin-top: 3rem;
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#tableOfContents">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">SQL初心者向け学習教材</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#introduction">はじめに</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#chapter1">第1章: SQLとデータベースの基本</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-4">
        <div class="row">
            <!-- Sidebar - Table of Contents -->
            <div class="col-lg-3">
                <div class="sidebar">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">目次</h5>
                        </div>
                        <div id="table-of-contents" class="list-group list-group-flush">
                            <a href="#introduction" class="list-group-item list-group-item-action">はじめに</a>
                            <a href="#chapter1" class="list-group-item list-group-item-action">第1章: SQLとデータベースの基本</a>
                            <div class="section-nav">
                                <a href="#database-basics" class="list-group-item list-group-item-action">1.1 データベースとは？</a>
                                <a href="#rdb-structure" class="list-group-item list-group-item-action">1.2 RDB（リレーショナルデータベース）の仕組み</a>
                                <a href="#sql-basics" class="list-group-item list-group-item-action">1.3 SQLとは何か（役割・できること）</a>
                                <a href="#postgresql-intro" class="list-group-item list-group-item-action">1.4 PostgreSQLとは？（特徴と使いどころ）</a>
                                <a href="#postgresql-install" class="list-group-item list-group-item-action">1.5 【演習】PostgreSQLをインストールしてみよう</a>
                                <a href="#chapter1-quiz" class="list-group-item list-group-item-action">1.6 理解度確認テスト</a>
                            </div>
                            <a href="#next-steps" class="list-group-item list-group-item-action">次のステップ</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="col-lg-9">
                <section id="introduction">
                    <h1 class="display-5 mb-4">SQL初心者向け学習教材</h1>
                    <p class="lead">この第1章では、データベースの基本概念とSQLの役割について学習します。また、PostgreSQLの特徴や基本的な使い方についても解説します。この章を通じて、データベース管理システムの基礎と、効率的にデータを操作するためのSQLの基本を身につけることができます。</p>
                    <img src="img/sql_01.png" class="img-fluid mt-3 mb-4" style="max-width: 50%; height: auto;">
                    <div class="note">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>データベースの基本概念と重要性</li>
                            <li>リレーショナルデータベースの構造と主要な特徴</li>
                            <li>SQLの役割と基本的な構文</li>
                            <li>PostgreSQLの特徴と他のデータベースとの違い</li>
                            <li>PostgreSQLのインストールと基本設定</li>
                        </ul>
                    </div>
                </section>

                <section id="chapter1">
                    <h2 class="chapter-title">第1章：SQLとデータベースの基本</h2>
                    <p>データベースはあらゆる現代アプリケーションの中核を成す技術です。この章では、データベースの基本概念からSQLの役割、そしてPostgreSQLの特徴まで、データベースの基礎を幅広く学びます。</p>

                    <section id="database-basics">
                        <h3 class="section-title">1.1 データベースとは？</h3>
                        <p>データベースとは、構造化された形式でデータを保存し、効率的にアクセス、管理、更新するためのシステムです。日常生活のあらゆる場面で、私たちはデータベースの恩恵を受けています。例えば、銀行の口座情報、オンラインショッピングのカタログ、SNSの投稿など、大量のデータが整理された形で保存されています。</p>

                        <h4>データベースの主な目的</h4>
                        <ul>
                            <li><strong>データの保存と整理</strong>: 大量のデータを構造化した形で保存します</li>
                            <li><strong>データの検索と取得</strong>: 必要なデータを素早く見つけ出せるようにします</li>
                            <li><strong>データの更新と維持</strong>: データの追加、変更、削除を効率的に行います</li>
                            <li><strong>データの整合性保護</strong>: データの正確性と一貫性を確保します</li>
                            <li><strong>データの共有</strong>: 複数のユーザーやアプリケーション間でデータを共有します</li>
                        </ul>

                        <h4>データベースの種類</h4>
                        <div class="row mt-3">
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">リレーショナルデータベース</div>
                                    <div class="card-body">
                                        <p class="card-text">テーブル（行と列）の形式でデータを格納し、テーブル間の関係を定義します。SQL言語を使用してデータを操作します。</p>
                                        <p class="card-text"><strong>例</strong>: MySQL, PostgreSQL, Oracle, SQL Server など</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">NoSQLデータベース</div>
                                    <div class="card-body">
                                        <p class="card-text">非リレーショナルデータベースで、柔軟なスキーマを持ち、大量のデータや非構造化データの処理に適しています。</p>
                                        <p class="card-text"><strong>例</strong>: MongoDB, Cassandra, Redis など</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">オブジェクト指向データベース</div>
                                    <div class="card-body">
                                        <p class="card-text">データをオブジェクトとして表現し、オブジェクト指向プログラミングと親和性が高いデータベースです。</p>
                                        <p class="card-text"><strong>例</strong>: db4o, ObjectDB など</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">グラフデータベース</div>
                                    <div class="card-body">
                                        <p class="card-text">ノード（エンティティ）と関係（エッジ）を使用してデータを表現し、複雑な関係の分析に適しています。</p>
                                        <p class="card-text"><strong>例</strong>: Neo4j, Amazon Neptune など</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="note">
                            <h5>なぜデータベースが重要なのか？</h5>
                            <p>ファイルシステムやスプレッドシートと比較したデータベースの利点：</p>
                            <ul>
                                <li><strong>データの整合性</strong>: 制約やルールを設定し、データの正確性を保証できます</li>
                                <li><strong>同時アクセス</strong>: 複数のユーザーが同時にデータにアクセスしても競合を防ぎます</li>
                                <li><strong>セキュリティ</strong>: 権限管理により、データへのアクセスを制御できます</li>
                                <li><strong>スケーラビリティ</strong>: 大量のデータや多数のユーザーにも対応できます</li>
                                <li><strong>バックアップと復元</strong>: データの損失からの復旧が容易です</li>
                                <li><strong>効率的なデータ検索</strong>: インデックスなどの機能により高速にデータを検索できます</li>
                            </ul>
                        </div>
                    </section>

                    <section id="rdb-structure">
                        <h3 class="section-title">1.2 RDB（リレーショナルデータベース）の仕組み</h3>
                        <p>リレーショナルデータベース（RDB）は、1970年代にE.F. Coddによって提案されたリレーショナルモデルに基づいています。このモデルでは、データはテーブル（関係）として表現され、テーブル間の関連付けによって複雑なデータ構造を表現します。</p>

                        <h4>リレーショナルデータベースの基本構成要素</h4>
                        <ul>
                            <li><strong>テーブル（Table）</strong>: データを行と列で構成された表形式で保存する基本単位</li>
                            <li><strong>行（Row）</strong>: レコードまたはタプルとも呼ばれ、1つのデータエントリを表す</li>
                            <li><strong>列（Column）</strong>: 属性またはフィールドとも呼ばれ、特定の種類のデータを表す</li>
                            <li><strong>主キー（Primary Key）</strong>: 各行を一意に識別するための値</li>
                            <li><strong>外部キー（Foreign Key）</strong>: 他のテーブルとの関連付けを行うための参照キー</li>
                            <li><strong>インデックス（Index）</strong>: データの検索を高速化するための仕組み</li>
                        </ul>

                        <div class="diagram">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 350">
                                <!-- RDB Structure Visualization -->
                                <rect x="50" y="50" width="200" height="120" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5" />
                                <text x="150" y="75" text-anchor="middle" font-size="16" font-weight="bold">顧客テーブル (customers)</text>
                                <line x1="50" y1="90" x2="250" y2="90" stroke="#1976d2" stroke-width="2" />
                                <text x="85" y="110" font-size="12">customer_id (PK)</text>
                                <text x="85" y="130" font-size="12">name</text>
                                <text x="85" y="150" font-size="12">email</text>
                                
                                <rect x="350" y="50" width="200" height="120" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5" />
                                <text x="450" y="75" text-anchor="middle" font-size="16" font-weight="bold">注文テーブル (orders)</text>
                                <line x1="350" y1="90" x2="550" y2="90" stroke="#388e3c" stroke-width="2" />
                                <text x="385" y="110" font-size="12">order_id (PK)</text>
                                <text x="385" y="130" font-size="12">customer_id (FK)</text>
                                <text x="385" y="150" font-size="12">order_date</text>
                                
                                <rect x="350" y="200" width="200" height="120" fill="#fff9c4" stroke="#fbc02d" stroke-width="2" rx="5" />
                                <text x="450" y="225" text-anchor="middle" font-size="16" font-weight="bold">注文明細テーブル (items)</text>
                                <line x1="350" y1="240" x2="550" y2="240" stroke="#fbc02d" stroke-width="2" />
                                <text x="385" y="260" font-size="12">item_id (PK)</text>
                                <text x="385" y="280" font-size="12">order_id (FK)</text>
                                <text x="385" y="300" font-size="12">product_name</text>
                                <text x="385" y="320" font-size="12">quantity</text>
                                
                                <!-- Relationship lines -->
                                <line x1="250" y1="130" x2="350" y2="130" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
                                <polygon points="350,130 340,125 340,135" fill="#333" />
                                
                                <line x1="450" y1="170" x2="450" y2="200" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
                                <polygon points="450,200 445,190 455,190" fill="#333" />
                            </svg>
                            <p class="text-center">図1.1: リレーショナルデータベースの基本構造と関連</p>
                        </div>

                        <h4>リレーショナルデータベースの特徴</h4>
                        <ul>
                            <li><strong>構造化されたデータモデル</strong>: 明確なスキーマ定義に基づいたテーブル構造</li>
                            <li><strong>データの正規化</strong>: データの重複を減らし、整合性を高めるための設計手法</li>
                            <li><strong>ACID特性</strong>: トランザクションの信頼性を保証する4つの特性
                                <ul>
                                    <li>原子性（Atomicity）: トランザクションは全て実行されるか、全く実行されないか</li>
                                    <li>一貫性（Consistency）: トランザクション完了後もデータベースの整合性が保たれる</li>
                                    <li>独立性（Isolation）: 複数のトランザクションが同時に実行されても互いに影響しない</li>
                                    <li>永続性（Durability）: 完了したトランザクションの結果は永続的に保存される</li>
                                </ul>
                            </li>
                            <li><strong>SQLによる操作</strong>: 標準化された言語でデータを操作できる</li>
                        </ul>

                        <h4>リレーションシップの種類</h4>
                        <div class="row mt-3">
                            <div class="col-md-4">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">一対一 (1:1)</div>
                                    <div class="card-body">
                                        <p class="card-text">1つのレコードが別のテーブルの1つのレコードのみと関連付けられる関係。</p>
                                        <p class="card-text"><strong>例</strong>: 1人のユーザーに対して1つのプロフィール情報</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">一対多 (1:N)</div>
                                    <div class="card-body">
                                        <p class="card-text">1つのレコードが別のテーブルの複数のレコードと関連付けられる関係。</p>
                                        <p class="card-text"><strong>例</strong>: 1人の顧客に対して複数の注文</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">多対多 (N:M)</div>
                                    <div class="card-body">
                                        <p class="card-text">両方のテーブルのレコードが互いに複数のレコードと関連付けられる関係。通常は中間テーブルを使用して実現。</p>
                                        <p class="card-text"><strong>例</strong>: 学生と授業（一人の学生が複数の授業を受講、一つの授業に複数の学生が登録）</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="exercise">
                            <h5>Exercise 1.1: データベース設計の基本</h5>
                            <p>以下のシナリオに基づいて、簡単なデータベース設計を考えてみましょう：</p>
                            <p><strong>オンライン書店のデータベース設計</strong></p>
                            <p>オンライン書店では、複数の書籍を取り扱い、顧客は注文を行います。各書籍には著者がおり、一人の著者が複数の書籍を執筆することもあります。</p>
                            <ol>
                                <li>必要なテーブルを考えましょう（例: books, authors, customers, orders）</li>
                                <li>各テーブルに必要な列（属性）を考えましょう</li>
                                <li>テーブル間のリレーションシップを検討しましょう（1:1, 1:N, N:M）</li>
                                <li>主キーと外部キーを明確にしましょう</li>
                            </ol>
                            <p><strong>ヒント</strong>: N:M関係（例: 著者と書籍の関係で、一冊の本が複数著者により執筆される場合）には中間テーブルの導入を検討しましょう。</p>
                        </div>
                    </section>

                    <section id="sql-basics">
                        <h3 class="section-title">1.3 SQLとは何か（役割・できること）</h3>
                        <p>SQL（Structured Query Language）は、リレーショナルデータベースの操作に使用される標準言語です。1970年代にIBMで開発され、現在ではほとんどのリレーショナルデータベースシステムで採用されています。SQLを使うことで、データの作成、読み取り、更新、削除（CRUD操作）を統一的な構文で行うことができます。</p>

                        <h4>SQLの主な役割</h4>
                        <ul>
                            <li><strong>データ定義言語（DDL）</strong>: データベースの構造を定義・変更する
                                <ul>
                                    <li>テーブルの作成（CREATE）</li>
                                    <li>テーブルの変更（ALTER）</li>
                                    <li>テーブルの削除（DROP）</li>
                                </ul>
                            </li>
                            <li><strong>データ操作言語（DML）</strong>: データの操作を行う
                                <ul>
                                    <li>データの挿入（INSERT）</li>
                                    <li>データの更新（UPDATE）</li>
                                    <li>データの削除（DELETE）</li>
                                    <li>データの取得（SELECT）</li>
                                </ul>
                            </li>
                            <li><strong>データ制御言語（DCL）</strong>: アクセス権限の管理を行う
                                <ul>
                                    <li>権限の付与（GRANT）</li>
                                    <li>権限の取り消し（REVOKE）</li>
                                </ul>
                            </li>
                            <li><strong>トランザクション制御言語（TCL）</strong>: トランザクションの管理を行う
                                <ul>
                                    <li>トランザクションの確定（COMMIT）</li>
                                    <li>トランザクションの取り消し（ROLLBACK）</li>
                                    <li>セーブポイントの設定（SAVEPOINT）</li>
                                </ul>
                            </li>
                        </ul>

                        <h4>SQLの基本的な構文例</h4>
                        <p><strong>テーブルの作成（CREATE TABLE）</strong></p>
                        <code>CREATE TABLE customers (
    customer_id SERIAL PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    phone VARCHAR(20),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</code>

                        <p><strong>データの挿入（INSERT）</strong></p>
                        <code>INSERT INTO customers (first_name, last_name, email, phone)
VALUES ('太郎', '山田', 'taro.yamada@example.com', '03-1234-5678');</code>

                        <p><strong>データの検索（SELECT）</strong></p>
                        <code>-- 全ての顧客データを取得
SELECT * FROM customers;

-- 特定条件の顧客を取得
SELECT customer_id, first_name, last_name
FROM customers
WHERE last_name = '山田'
ORDER BY first_name;</code>

                        <p><strong>データの更新（UPDATE）</strong></p>
                        <code>UPDATE customers
SET phone = '03-8765-4321'
WHERE customer_id = 1;</code>

                        <p><strong>データの削除（DELETE）</strong></p>
                        <code>DELETE FROM customers
WHERE customer_id = 1;</code>

                        <p><strong>結合（JOIN）によるテーブル間の関連付け</strong></p>
                        <code>SELECT c.first_name, c.last_name, o.order_date, o.total_amount
FROM customers c
JOIN orders o ON c.customer_id = o.customer_id
WHERE o.order_date >= '2023-01-01'
ORDER BY o.order_date DESC;</code>

                        <h4>SQLの特徴と利点</h4>
                        <ul>
                            <li><strong>宣言的言語</strong>: 「何を」取得するかを指定するだけで、「どのように」取得するかはデータベースシステムが最適化</li>
                            <li><strong>標準化</strong>: 多くのデータベースシステムで共通の構文が使用できる</li>
                            <li><strong>セット指向</strong>: レコードの集合を一度に処理できる</li>
                            <li><strong>非手続き型</strong>: 手順ではなく、結果を記述するスタイル</li>
                            <li><strong>数学的背景</strong>: 関係代数に基づいた理論的な基盤</li>
                        </ul>

                        <div class="note">
                            <h5>SQLの方言</h5>
                            <p>SQLは標準化されていますが、各データベースシステムには独自の拡張や方言があります。主な違いは:</p>
                            <ul>
                                <li>データ型の名前と範囲</li>
                                <li>特殊機能や拡張構文</li>
                                <li>組み込み関数の名前と機能</li>
                                <li>パフォーマンス最適化のためのヒント</li>
                            </ul>
                            <p>これらの違いはありますが、基本的なSQL文法（SELECT、INSERT、UPDATE、DELETEなど）はほとんどのデータベースで共通しています。</p>
                        </div>

                        <div class="exercise">
                            <h5>Exercise 1.2: 基本的なSQL文の作成</h5>
                            <p>以下の要件に基づいて、SQLコマンドを作成してみましょう：</p>
                            <ol>
                                <li><strong>テーブル作成</strong>: 以下の列を持つ「products」テーブルを作成するSQL文
                                    <ul>
                                        <li>product_id（整数、主キー、自動増分）</li>
                                        <li>product_name（文字列、必須）</li>
                                        <li>price（数値、必須）</li>
                                        <li>stock_quantity（整数、デフォルト値0）</li>
                                        <li>category（文字列）</li>
                                        <li>created_at（タイムスタンプ、デフォルト値は現在時刻）</li>
                                    </ul>
                                </li>
                                <li><strong>データ挿入</strong>: productsテーブルに3つの商品データを挿入するSQL文</li>
                                <li><strong>データ検索</strong>: 価格が1000円以上の商品を価格の高い順に取得するSQL文</li>
                                <li><strong>データ更新</strong>: 特定のカテゴリの商品の価格を10%値上げするSQL文</li>
                            </ol>
                        </div>
                    </section>

                    <section id="postgresql-intro">
                        <h3 class="section-title">1.4 PostgreSQLとは？（特徴と使いどころ）</h3>
                        <p>PostgreSQL（通称「Postgres」）は、強力なオープンソースのオブジェクトリレーショナルデータベース管理システム（ORDBMS）です。1996年に最初のバージョンがリリースされ、現在も活発に開発が続けられています。高度な機能、拡張性、堅牢性を備えた企業向けデータベースとして世界中で広く使用されています。</p>

                        <h4>PostgreSQLの主な特徴</h4>
                        <div class="row mt-3">
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">完全なSQL準拠</div>
                                    <div class="card-body">
                                        <p class="card-text">SQLの標準仕様に広範囲に準拠しており、複雑なクエリやトランザクションをサポートしています。</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">ACID準拠</div>
                                    <div class="card-body">
                                        <p class="card-text">トランザクションの原子性、一貫性、独立性、耐久性を完全にサポートし、データの整合性を保証します。</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">拡張性</div>
                                    <div class="card-body">
                                        <p class="card-text">カスタムデータ型、関数、演算子を定義できるほか、多数のエクステンションで機能を拡張できます。</p>
                                        <p class="card-text"><strong>例</strong>: PostGIS（地理情報）, TimescaleDB（時系列データ）</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">高度なデータ型</div>
                                    <div class="card-body">
                                        <p class="card-text">標準的なデータ型に加え、JSON, XML, 配列, 範囲型, 幾何学データ型など、多様なデータ型をサポート。</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">並行性制御</div>
                                    <div class="card-body">
                                        <p class="card-text">マルチバージョン同時実行制御（MVCC）により、読み取り操作がブロックされることなく高い並行性を実現。</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header bg-primary text-white">堅牢なセキュリティ</div>
                                    <div class="card-body">
                                        <p class="card-text">ロールベースのアクセス制御、列レベルのセキュリティ、行レベルのセキュリティなど、多層的なセキュリティ機能を提供。</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h4>PostgreSQLの使いどころ</h4>
                        <ul>
                            <li><strong>複雑なデータモデル</strong>: 高度なデータ型や複雑なリレーションシップを持つアプリケーション</li>
                            <li><strong>データ整合性が重要なシステム</strong>: 金融サービス、医療システムなど、厳格なデータ整合性が必要な場合</li>
                            <li><strong>地理情報システム</strong>: PostGISエクステンションを活用した地理空間データの処理</li>
                            <li><strong>大規模データ分析</strong>: 複雑な分析クエリや集計が必要なビジネスインテリジェンスアプリケーション</li>
                            <li><strong>マイクロサービスアーキテクチャ</strong>: JSONBデータ型を活用した柔軟なデータストレージ</li>
                            <li><strong>オープンソースプロジェクト</strong>: ライセンスコストを抑えつつ高機能なデータベースが必要な場合</li>
                        </ul>

                        <h4>PostgreSQLと他のデータベースの比較</h4>
                        <table class="table table-bordered">
                            <thead class="bg-primary text-white">
                                <tr>
                                    <th>特徴</th>
                                    <th>PostgreSQL</th>
                                    <th>MySQL</th>
                                    <th>Oracle</th>
                                    <th>SQL Server</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ライセンス</td>
                                    <td>オープンソース (PostgreSQL License)</td>
                                    <td>オープンソース (GPL) / 商用</td>
                                    <td>商用</td>
                                    <td>商用</td>
                                </tr>
                                <tr>
                                    <td>ACID準拠</td>
                                    <td>完全</td>
                                    <td>InnoDB使用時のみ</td>
                                    <td>完全</td>
                                    <td>完全</td>
                                </tr>
                                <tr>
                                    <td>SQL準拠</td>
                                    <td>高い（標準に忠実）</td>
                                    <td>部分的</td>
                                    <td>高い（独自拡張あり）</td>
                                    <td>高い（T-SQL方言）</td>
                                </tr>
                                <tr>
                                    <td>カスタムデータ型</td>
                                    <td>強力にサポート</td>
                                    <td>限定的</td>
                                    <td>サポート</td>
                                    <td>サポート</td>
                                </tr>
                                <tr>
                                    <td>JSONサポート</td>
                                    <td>ネイティブ (JSONB)</td>
                                    <td>基本的なサポート</td>
                                    <td>サポート</td>
                                    <td>サポート</td>
                                </tr>
                                <tr>
                                    <td>地理空間データ</td>
                                    <td>PostGIS（強力）</td>
                                    <td>基本的なサポート</td>
                                    <td>Spatial</td>
                                    <td>Spatial</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="note">
                            <h5>PostgreSQLのユースケース例</h5>
                            <ul>
                                <li><strong>GitLab</strong>: コードリポジトリとチケット管理のデータストレージ</li>
                                <li><strong>Instagram</strong>: 位置情報機能と拡張性を活用</li>
                                <li><strong>Uber</strong>: 地理空間データの処理（PostGIS）</li>
                                <li><strong>Apple</strong>: macOSのサーバーコンポーネント</li>
                                <li><strong>U.S. State Department</strong>: 安全で信頼性の高いデータベースとして採用</li>
                            </ul>
                            <p>これらの企業・組織は、PostgreSQLの信頼性、機能性、拡張性を評価して採用しています。</p>
                        </div>
                    </section>

                    <section id="postgresql-install">
                        <h3 class="section-title">1.5 【演習】PostgreSQLをインストールしてみよう</h3>
                        <p>実際にPostgreSQLを使用するために、まずはローカル環境にインストールしてみましょう。ここでは、主要なOSごとのインストール方法と、基本的な設定方法を説明します。また、管理ツールであるpgAdminの導入方法についても解説します。</p>

                        <h4>Windowsへのインストール</h4>
                        <ol>
                            <li><strong>インストーラのダウンロード</strong>: <a href="https://www.postgresql.org/download/windows/" target="_blank">PostgreSQL公式サイト</a>からインストーラをダウンロードします。</li>
                            <li><strong>インストーラの実行</strong>: ダウンロードしたインストーラを実行し、画面の指示に従います。</li>
                            <li><strong>コンポーネントの選択</strong>: PostgreSQLサーバー、pgAdmin、コマンドラインツールを選択します。</li>
                            <li><strong>データディレクトリの設定</strong>: データの保存場所を指定します（デフォルトでも構いません）。</li>
                            <li><strong>パスワードの設定</strong>: postgresユーザー（管理者）のパスワードを設定します。このパスワードは忘れないようにしてください。</li>
                            <li><strong>ポート番号の設定</strong>: デフォルトのポート番号（5432）を使用するか、必要に応じて変更します。</li>
                            <li><strong>インストールの完了</strong>: インストールが完了したら、「Stack Builder」の起動はスキップしても構いません。</li>
                        </ol>

                        <h4>macOSへのインストール</h4>
                        <p><strong>Homebrewを使用する方法（推奨）</strong></p>
                        <code>$ brew install postgresql
$ brew services start postgresql</code>

                        <p><strong>公式インストーラを使用する方法</strong></p>
                        <ol>
                            <li><a href="https://www.postgresql.org/download/macosx/" target="_blank">PostgreSQL公式サイト</a>からmacOS用インストーラをダウンロードします。</li>
                            <li>ダウンロードしたパッケージを開き、画面の指示に従ってインストールします。</li>
                        </ol>

                        <h4>Linuxへのインストール（Ubuntu/Debian）</h4>
                        <code>$ sudo apt update
$ sudo apt install postgresql postgresql-contrib
$ sudo systemctl start postgresql
$ sudo systemctl enable postgresql</code>

                        <h4>pgAdminのインストール</h4>
                        <p>pgAdminは、PostgreSQLデータベースを管理するための強力なグラフィカルインターフェースです。</p>

                        <p><strong>Windowsの場合</strong></p>
                        <p>PostgreSQLインストーラにpgAdminを含めることができます。別途インストールする場合は、<a href="https://www.pgadmin.org/download/pgadmin-4-windows/" target="_blank">pgAdmin公式サイト</a>からダウンロードできます。</p>

                        <p><strong>macOSの場合</strong></p>
                        <code>$ brew install --cask pgadmin4</code>
                        <p>または<a href="https://www.pgadmin.org/download/pgadmin-4-macos/" target="_blank">pgAdmin公式サイト</a>からダウンロードします。</p>

                        <p><strong>Linux（Ubuntu/Debian）の場合</strong></p>
                        <code>$ sudo apt install pgadmin4</code>

                        <h4>PostgreSQLへの接続</h4>
                        <p><strong>psql（コマンドラインツール）での接続</strong></p>
                        <code>$ psql -U postgres
postgres=# \l  -- データベース一覧の表示
postgres=# \c postgres  -- postgresデータベースに接続
postgres=# \dt  -- テーブル一覧の表示
postgres=# \q  -- psqlの終了</code>

                        <p><strong>pgAdminでの接続</strong></p>
                        <ol>
                            <li>pgAdminを起動します。</li>
                            <li>左側のブラウザペインで「Servers」を右クリックし、「Create」→「Server」を選択します。</li>
                            <li>「General」タブで任意の名前（例: "localhost"）を入力します。</li>
                            <li>「Connection」タブで以下の情報を入力します:
                                <ul>
                                    <li>Host name/address: localhost</li>
                                    <li>Port: 5432</li>
                                    <li>Maintenance database: postgres</li>
                                    <li>Username: postgres</li>
                                    <li>Password: インストール時に設定したパスワード</li>
                                </ul>
                            </li>
                            <li>「Save」をクリックして接続を保存します。</li>
                        </ol>

                        <h4>最初のデータベースとテーブルの作成</h4>
                        <p><strong>psqlを使用する場合</strong></p>
                        <code>-- データベースの作成
postgres=# CREATE DATABASE mydb;

-- 新しいデータベースに接続
postgres=# \c mydb

-- テーブルの作成
mydb=# CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- データの挿入
mydb=# INSERT INTO users (username, email)
VALUES ('user1', 'user1@example.com');

-- データの確認
mydb=# SELECT * FROM users;</code>

                        <p><strong>pgAdminを使用する場合</strong></p>
                        <ol>
                            <li>左側のブラウザペインで「Databases」を右クリックし、「Create」→「Database...」を選択します。</li>
                            <li>データベース名（例: "mydb"）を入力し、「Save」をクリックします。</li>
                            <li>作成したデータベースを展開し、「Schemas」→「public」→「Tables」を右クリックして「Create」→「Table...」を選択します。</li>
                            <li>テーブル名（例: "users"）を入力します。</li>
                            <li>「Columns」タブで「+」ボタンをクリックし、必要な列を追加します。以下の列を作成しましょう:
                                <ul>
                                    <li>user_id: Data typeをSERIALに設定し、「Primary key?」にチェックを入れます。</li>
                                    <li>username: Data typeをVARCHAR(50)に設定し、「Not NULL?」にチェックを入れます。</li>
                                    <li>email: Data typeをVARCHAR(100)に設定し、「Not NULL?」にチェックを入れます。</li>
                                    <li>created_at: Data typeをTIMESTAMPに設定し、Default valueに「CURRENT_TIMESTAMP」と入力します。</li>
                                </ul>
                            </li>
                            <li>「Save」をクリックしてテーブルを作成します。</li>
                            <li>作成したテーブルを右クリックし、「Scripts」→「INSERT Script」を選択します。生成されたスクリプトを編集してデータを挿入します。</li>
                        </ol>

                        <div class="note">
                            <h5>Docker環境でのPostgreSQLの実行</h5>
                            <p>Dockerを使用すれば、ホストシステムに直接インストールせずにPostgreSQLを実行することができます。以下のコマンドでPostgreSQLコンテナを起動できます:</p>
                            <code>$ docker run --name postgres-db -e POSTGRES_PASSWORD=mysecretpassword -p 5432:5432 -d postgres</code>
                            <p>コンテナに接続するには:</p>
                            <code>$ docker exec -it postgres-db psql -U postgres</code>
                            <p>これにより、ローカル環境を汚さずにPostgreSQLを試すことができます。</p>
                        </div>

                        <div class="exercise">
                            <h5>Exercise 1.3: PostgreSQLの基本操作を試してみよう</h5>
                            <p>PostgreSQLをインストールした後、以下の操作を行ってみましょう：</p>
                            <ol>
                                <li><strong>データベースの作成</strong>: 「practice_db」という名前のデータベースを作成します。</li>
                                <li><strong>テーブルの作成</strong>: 「employees」という名前のテーブルを作成し、以下の列を含めます:
                                    <ul>
                                        <li>employee_id (主キー、自動増分)</li>
                                        <li>first_name (50文字まで、必須)</li>
                                        <li>last_name (50文字まで、必須)</li>
                                        <li>department (50文字まで)</li>
                                        <li>salary (数値)</li>
                                        <li>hire_date (日付、デフォルト値は現在の日付)</li>
                                    </ul>
                                </li>
                                <li><strong>データの挿入</strong>: 少なくとも3人の従業員データを挿入します。</li>
                                <li><strong>データの検索</strong>: 全従業員のリストを取得します。</li>
                                <li><strong>条件付き検索</strong>: 特定の部署（例: "営業部"）の従業員のみを取得します。</li>
                                <li><strong>データの更新</strong>: 特定の従業員の給与を更新します。</li>
                            </ol>
                            <p>psqlまたはpgAdminを使用して、これらの操作を実行してみましょう。</p>
                        </div>
                    </section>

                    <section id="chapter1-quiz">
                        <h3 class="section-title">1.6 理解度確認テスト</h3>
                        <div class="quiz-container">
                            <h4>第1章の理解度チェック</h4>
                            <p>以下の問題に答えて、第1章の内容の理解度を確認しましょう。</p>
                            
                            <div class="quiz-question">
                                <p><strong>問題1:</strong> リレーショナルデータベースの基本構成要素として正しいものはどれですか？（複数選択可）</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="q1" id="q1a" value="a">
                                    <label class="form-check-label" for="q1a">
                                        テーブル（Table）
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="q1" id="q1b" value="b">
                                    <label class="form-check-label" for="q1b">
                                        行（Row）
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="q1" id="q1c" value="c">
                                        <label class="form-check-label" for="q1c">
                                        主キー（Primary Key）
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="q1" id="q1d" value="d">
                                        <label class="form-check-label" for="q1d">
                                        配列（Array）
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題2:</strong> SQLの主な役割として、正しくないものはどれですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2a" value="a">
                                    <label class="form-check-label" for="q2a">
                                        データ定義言語（DDL）- データベースの構造を定義・変更する
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2b" value="b">
                                    <label class="form-check-label" for="q2b">
                                        データ操作言語（DML）- データの操作を行う
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2c" value="c">
                                        <label class="form-check-label" for="q2c">
                                        データ制御言語（DCL）- アクセス権限の管理を行う
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2d" value="d">
                                        <label class="form-check-label" for="q2d">
                                        ユーザーインターフェース言語（UIL）- データベースの表示形式を定義する
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題3:</strong> 以下のSQL文の中で、DML（データ操作言語）に分類されるものはどれですか？（複数選択可）</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="q3" id="q3a" value="a">
                                    <label class="form-check-label" for="q3a">
                                        CREATE TABLE users (id INT, name VARCHAR(50));
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="q3" id="q3b" value="b">
                                    <label class="form-check-label" for="q3b">
                                        INSERT INTO users VALUES (1, '山田太郎');
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="q3" id="q3c" value="c">
                                        <label class="form-check-label" for="q3c">
                                        SELECT * FROM users WHERE id = 1;
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="q3" id="q3d" value="d">
                                        <label class="form-check-label" for="q3d">
                                        GRANT SELECT ON users TO read_only_user;
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題4:</strong> PostgreSQLの特徴として、正しくないものはどれですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4a" value="a">
                                    <label class="form-check-label" for="q4a">
                                        完全なSQL準拠と高度なSQL機能をサポートしている
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4b" value="b">
                                    <label class="form-check-label" for="q4b">
                                        JSON, 配列, 幾何学データ型などの高度なデータ型をサポートしている
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4c" value="c">
                                        <label class="form-check-label" for="q4c">
                                        オラクルが開発・提供している商用データベースである
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4d" value="d">
                                        <label class="form-check-label" for="q4d">
                                        拡張機能を追加できる柔軟なアーキテクチャを持っている
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題5:</strong> 次のSQLコマンドの実行結果として、正しいものはどれですか？</p>
                                <pre class="bg-light p-2 rounded">
CREATE TABLE products (
    product_id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    price NUMERIC(10,2) NOT NULL DEFAULT 0,
    stock INTEGER DEFAULT 0
);

INSERT INTO products (name, price, stock) VALUES ('ノートPC', 80000, 10);
INSERT INTO products (name, price) VALUES ('スマートフォン', 60000);
INSERT INTO products (name, stock) VALUES ('イヤホン', 5);

SELECT * FROM products WHERE price > 0;</pre>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5a" value="a">
                                    <label class="form-check-label" for="q5a">
                                        3行のデータが表示される。
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5b" value="b">
                                    <label class="form-check-label" for="q5b">
                                        2行のデータが表示される。
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5c" value="c">
                                        <label class="form-check-label" for="q5c">
                                        1行のデータが表示される。
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5d" value="d">
                                        <label class="form-check-label" for="q5d">
                                        エラーが発生して実行できない。
                                    </label>
                                </div>
                            </div>
                            
                            <button class="btn btn-primary mt-3" id="checkAnswers">回答を確認</button>
                            <div id="quizResults" class="mt-3 d-none">
                                <div class="alert alert-success">
                                    <h5>正解:</h5>
                                    <ol>
                                        <li>a, b, c（テーブル、行、主キーはリレーショナルデータベースの基本構成要素）</li>
                                        <li>d（ユーザーインターフェース言語（UIL）はSQLの役割ではない）</li>
                                        <li>b, c（INSERT と SELECT はDML（データ操作言語）に分類される）</li>
                                        <li>c（PostgreSQLはオープンソースのデータベースであり、オラクルが開発・提供しているわけではない）</li>
                                        <li>b（'ノートPC'と'スマートフォン'の2行が表示される。'イヤホン'はprice=0（デフォルト値）のため条件に合わない）</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="next-steps">
                        <h3 class="section-title">次のステップ</h3>
                        <p>この章では、データベースの基本概念、SQLの役割、そしてPostgreSQLの特徴と基本的な使い方について学びました。次の章では、より実践的なSQLの使い方に焦点を当て、データの取得と操作のための様々なSQL文について学んでいきます。</p>
                        <p>練習問題に取り組み、実際にPostgreSQLを操作することで、この章で学んだ概念をしっかりと身につけましょう。</p>
                        <div class="note">
                            <h5>推奨される練習プロジェクト</h5>
                            <p>以下のミニプロジェクトに取り組んで、SQLとPostgreSQLの基本的な操作を実践してみましょう：</p>
                            <ol>
                                <li><strong>個人図書管理データベース</strong>: 自分の蔵書を管理するためのデータベースを設計・作成する</li>
                                <li><strong>シンプルなブログデータベース</strong>: 記事、著者、カテゴリ、コメントなどのテーブルを含むブログシステムのデータベースを設計する</li>
                                <li><strong>家計簿データベース</strong>: 収入と支出を記録・分類するためのデータベースを作成する</li>
                            </ol>
                        </div>
                    </section>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center">
        <div class="container">
            <p>Copyright © 2025 F-Circle All rights reserved.</p>
        </div>
    </footer>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 理解度テストの回答確認ボタンの処理
        document.getElementById('checkAnswers').addEventListener('click', function() {
            document.getElementById('quizResults').classList.remove('d-none');
        });
    </script>
</body>
</html>