<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript学習教材 第5章 - 関数で処理をまとめよう</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        .navbar {
            background-color: #1565c0;
        }
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        .chapter-title {
            color: #1565c0;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #1565c0;
            padding-bottom: 0.5rem;
        }
        .section-title {
            color: #1976d2;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        code {
            display: block;
            background-color: #f5f5f5;
            border-radius: 4px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            white-space: pre;
            overflow-x: auto;
        }
        .quiz-container {
            background-color: #e3f2fd;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .highlight {
            background-color: #fff3e0;
            padding: 1rem;
            border-left: 4px solid #ff9800;
            margin: 1rem 0;
        }
        .project-container {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">JavaScript学習ガイド</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../../../README.md">ホーム</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="README.md">ガイド一覧</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading">学習内容</h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="chapter1.html">第1章: プログラミングって何？</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter2.html">第2章: 数字と文字を扱おう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter3.html">第3章: 条件によって処理を変えよう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter4.html">第4章: 繰り返し処理をマスターしよう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="#chapter5">第5章: 関数で処理をまとめよう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter6.html">第6章: Webページを操作しよう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter7.html">第7章: ToDoリストアプリを作ろう</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="chapter8.html">第8章: 電卓アプリを作ろう</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第5章: 関数で処理をまとめよう</h1>
                </div>

                <div id="chapter5">
                    <div class="project-container">
                        <h5>🎯 この章の実践プロジェクト</h5>
                        <p><strong>電卓機能</strong>を作成します</p>
                        <p>関数を使って、再利用可能な計算機能を作りましょう。四則演算、面積計算、BMI計算などの便利な関数を実装します！</p>
                    </div>

                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>関数の概念</li>
                            <li>関数の定義と呼び出し</li>
                            <li>引数と戻り値</li>
                            <li>処理の再利用</li>
                        </ul>
                    </div>

                    <h2 class="chapter-title">関数って何？</h2>
                    
                    <h3 class="section-title">5.1 関数とは</h3>
                    <p>
                        関数とは、<strong>処理をまとめて名前をつけた「道具」</strong>のようなものです。
                        料理でいう「レシピ」のように、手順をまとめて何度でも使えるようにしたものです。
                    </p>
                    
                    <p>関数の利点：</p>
                    <ul>
                        <li>🔄 <strong>再利用</strong>：同じ処理を何度でも使える</li>
                        <li>🧹 <strong>整理</strong>：コードが読みやすくなる</li>
                        <li>🐛 <strong>修正が楽</strong>：バグがあっても一箇所直せば済む</li>
                        <li>🤝 <strong>分担</strong>：チームで作業しやすい</li>
                    </ul>

                    <p>例えば、今まで使ってきた<code>console.log()</code>や<code>alert()</code>も関数です！</p>

                    <h3 class="section-title">5.2 関数の基本構造</h3>
                    <p>
                        関数は以下のような構造で定義します：
                    </p>
                    
                    <code>function 関数名(引数) {
    // 処理
    return 戻り値;  // 必要に応じて
}</code>

                    <div class="exercise-container">
                        <h5>実習 5-1: 最初の関数</h5>
                        <p>開発者ツールのコンソールに以下を入力してください：</p>
                        <code>function greet() {
    console.log("こんにちは！");
    console.log("今日も頑張りましょう！");
}

// 関数を呼び出す
greet();</code>
                        <p>メッセージが表示されましたか？<code>greet()</code>と書くだけで、まとめた処理を実行できます。</p>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 5-2: 関数は何度でも使える</h5>
                        <code>greet();
greet();
greet();</code>
                        <p>同じ処理を簡単に3回実行できました！</p>
                    </div>

                    <h2 class="chapter-title">引数を使ってみよう</h2>

                    <h3 class="section-title">5.3 引数とは</h3>
                    <p>
                        引数（ひきすう）とは、<strong>関数に渡す「材料」</strong>のようなものです。
                        料理で言えば「食材」、計算機で言えば「計算する数値」です。
                    </p>
                    
                    <div class="exercise-container">
                        <h5>実習 5-3: 引数を使う関数</h5>
                        <code>function greetPerson(name) {
    console.log("こんにちは、" + name + "さん！");
}

// 引数を渡して呼び出す
greetPerson("太郎");
greetPerson("花子");
greetPerson("次郎");</code>
                    </div>

                    <h3 class="section-title">5.4 複数の引数</h3>
                    <p>
                        関数は複数の引数を受け取ることもできます。
                    </p>
                    
                    <div class="exercise-container">
                        <h5>実習 5-4: 複数の引数</h5>
                        <code>function introduce(name, age, hobby) {
    console.log("名前: " + name);
    console.log("年齢: " + age + "歳");
    console.log("趣味: " + hobby);
    console.log("---");
}

introduce("太郎", 25, "読書");
introduce("花子", 30, "料理");
introduce("次郎", 22, "ゲーム");</code>
                    </div>

                    <h2 class="chapter-title">戻り値を使ってみよう</h2>

                    <h3 class="section-title">5.5 戻り値とは</h3>
                    <p>
                        戻り値とは、<strong>関数が返す「結果」</strong>のことです。
                        計算機で言えば「答え」、料理で言えば「完成した料理」です。
                    </p>
                    
                    <div class="exercise-container">
                        <h5>実習 5-5: 戻り値を使う関数</h5>
                        <code>function add(a, b) {
    let result = a + b;
    return result;
}

// 戻り値を変数に保存
let sum = add(5, 3);
console.log("5 + 3 = " + sum);

// 直接使うこともできる
console.log("10 + 20 = " + add(10, 20));</code>
                    </div>

                    <h3 class="section-title">5.6 様々な計算関数</h3>
                    <p>
                        計算のための関数を作ってみましょう。
                    </p>
                    
                    <div class="exercise-container">
                        <h5>実習 5-6: 基本的な計算関数</h5>
                        <code>function subtract(a, b) {
    return a - b;
}

function multiply(a, b) {
    return a * b;
}

function divide(a, b) {
    if (b === 0) {
        return "0で割ることはできません";
    }
    return a / b;
}

// 使ってみる
console.log("引き算: " + subtract(10, 3));
console.log("掛け算: " + multiply(4, 5));
console.log("割り算: " + divide(15, 3));
console.log("割り算: " + divide(10, 0));</code>
                    </div>

                    <h2 class="chapter-title">実践プロジェクト：電卓機能</h2>

                    <div class="project-container">
                        <h5>🎯 プロジェクト: 電卓機能を作ろう</h5>
                        <p>関数を使って、様々な計算機能を持った電卓を作りましょう。</p>
                        
                        <h6>ステップ1: 基本的な四則演算</h6>
                        <p>まずは基本的な計算機能を作ります：</p>
                        <code>// 基本的な四則演算関数
function add(a, b) {
    return a + b;
}

function subtract(a, b) {
    return a - b;
}

function multiply(a, b) {
    return a * b;
}

function divide(a, b) {
    if (b === 0) {
        return "エラー: 0で割ることはできません";
    }
    return a / b;
}

// 電卓の使用例
console.log("=== 基本電卓 ===");
console.log("5 + 3 = " + add(5, 3));
console.log("10 - 4 = " + subtract(10, 4));
console.log("6 * 7 = " + multiply(6, 7));
console.log("20 / 4 = " + divide(20, 4));
console.log("10 / 0 = " + divide(10, 0));</code>

                        <h6>ステップ2: 便利な計算関数</h6>
                        <p>より実用的な計算機能を追加します：</p>
                        <code>// 便利な計算関数
function square(x) {
    return x * x;
}

function power(base, exponent) {
    return Math.pow(base, exponent);
}

function percentage(value, total) {
    return (value / total) * 100;
}

function average(numbers) {
    let sum = 0;
    for (let number of numbers) {
        sum += number;
    }
    return sum / numbers.length;
}

// 使用例
console.log("=== 便利な計算 ===");
console.log("5の2乗 = " + square(5));
console.log("2の3乗 = " + power(2, 3));
console.log("30/120の割合 = " + percentage(30, 120) + "%");

let scores = [85, 92, 78, 96, 88];
console.log("平均点 = " + average(scores));</code>

                        <h6>ステップ3: 面積計算関数</h6>
                        <p>図形の面積を計算する関数を作ります：</p>
                        <code>// 面積計算関数
function rectangleArea(width, height) {
    return width * height;
}

function triangleArea(base, height) {
    return (base * height) / 2;
}

function circleArea(radius) {
    return Math.PI * radius * radius;
}

// 使用例
console.log("=== 面積計算 ===");
console.log("長方形（幅5、高さ3）の面積 = " + rectangleArea(5, 3));
console.log("三角形（底辺4、高さ6）の面積 = " + triangleArea(4, 6));
console.log("円（半径3）の面積 = " + circleArea(3).toFixed(2));</code>

                        <h6>ステップ4: 統合電卓システム</h6>
                        <p>全ての機能をまとめた電卓システムを作ります：</p>
                        <code>// 統合電卓システム
function calculator(operation, ...numbers) {
    switch (operation) {
        case 'add':
            return numbers.reduce((sum, num) => sum + num, 0);
        case 'subtract':
            return numbers.reduce((diff, num) => diff - num);
        case 'multiply':
            return numbers.reduce((product, num) => product * num, 1);
        case 'divide':
            let result = numbers[0];
            for (let i = 1; i < numbers.length; i++) {
                if (numbers[i] === 0) {
                    return "エラー: 0で割ることはできません";
                }
                result = result / numbers[i];
            }
            return result;
        case 'average':
            return numbers.reduce((sum, num) => sum + num, 0) / numbers.length;
        case 'max':
            return Math.max(...numbers);
        case 'min':
            return Math.min(...numbers);
        default:
            return "未対応の操作です";
    }
}

// BMI計算関数
function calculateBMI(weight, height) {
    let heightInMeters = height / 100;
    let bmi = weight / (heightInMeters * heightInMeters);
    
    let category;
    if (bmi < 18.5) {
        category = "痩せ型";
    } else if (bmi < 25) {
        category = "普通体重";
    } else if (bmi < 30) {
        category = "肥満（1度）";
    } else {
        category = "肥満（2度以上）";
    }
    
    return {
        bmi: bmi.toFixed(1),
        category: category
    };
}

// 使用例
console.log("=== 統合電卓 ===");
console.log("複数の数の合計: " + calculator('add', 1, 2, 3, 4, 5));
console.log("平均値: " + calculator('average', 85, 92, 78, 96, 88));
console.log("最大値: " + calculator('max', 15, 8, 23, 4, 19));
console.log("最小値: " + calculator('min', 15, 8, 23, 4, 19));

let bmiResult = calculateBMI(65, 170);
console.log("BMI: " + bmiResult.bmi + " (" + bmiResult.category + ")");</code>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>関数を定義するときに使うキーワードは何ですか？</li>
                            <li>関数に渡す「材料」のことを何と呼びますか？</li>
                            <li>関数が返す「結果」のことを何と呼びますか？</li>
                            <li>関数から値を返すために使うキーワードは何ですか？</li>
                            <li>関数を使う利点を3つ答えてください。</li>
                        </ol>
                        
                        <h6>答え</h6>
                        <ol>
                            <li>function</li>
                            <li>引数（ひきすう）</li>
                            <li>戻り値（もどりち）</li>
                            <li>return</li>
                            <li>再利用できる、コードが整理される、修正が楽になる（など）</li>
                        </ol>
                    </div>

                    <h2 class="chapter-title">章のまとめ</h2>
                    <p>この章では以下のことを学びました：</p>
                    <ul>
                        <li>関数は処理をまとめて名前をつけた「道具」</li>
                        <li>function キーワードで関数を定義する</li>
                        <li>引数を使って関数に「材料」を渡せる</li>
                        <li>return で関数から「結果」を返せる</li>
                        <li>関数を使うことで、コードの再利用と整理ができる</li>
                    </ul>

                    <div class="highlight">
                        <h5>第5章クリア条件</h5>
                        <p>次の章に進む前に、以下ができるようになったか確認してください：</p>
                        <ul>
                            <li>☐ 関数を定義・呼び出しできる</li>
                            <li>☐ 引数を使った関数が書ける</li>
                            <li>☐ 電卓機能が完成している</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="chapter4.html" class="btn btn-secondary">← 前の章</a>
                        <a href="chapter6.html" class="btn btn-primary">次の章 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>