<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript初心者向け学習教材 - 第6章：モジュールと開発ツール</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        .navbar {
            background-color: #1565c0;
        }
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        .chapter-title {
            color: #1565c0;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #1565c0;
            padding-bottom: 0.5rem;
        }
        .section-title {
            color: #1976d2;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        code {
            display: block;
            background-color: #f5f5f5;
            border-radius: 4px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            white-space: pre;
            overflow-x: auto;
        }
        .quiz-container {
            background-color: #e3f2fd;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .quiz-question {
            font-weight: 500;
            margin-bottom: 1rem;
        }
        .diagram {
            max-width: 100%;
            height: auto;
            margin: 1.5rem 0;
            text-align: center;
        }
        .exercise {
            background-color: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        .note {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        #table-of-contents .list-group-item {
            border: none;
            padding: 0.5rem 1rem;
        }
        #table-of-contents .list-group-item-action {
            color: #1976d2;
        }
        #table-of-contents .list-group-item-action.active,
        .list-group-item.active {
            color: white !important;
            background-color: #1976d2;
            border-color: #1976d2;
        }
        .section-nav {
            padding-left: 1rem;
        }
        .inline-code {
            background-color: #f5f5f5;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            display: inline;
        }
        footer {
            background-color: #1565c0;
            color: white;
            padding: 1rem 0;
            margin-top: 3rem;
        }
        .table-example {
            width: 100%;
            margin-bottom: 1rem;
            border-collapse: collapse;
        }
        .table-example th {
            background-color: #e3f2fd;
            border: 1px solid #b3e5fc;
            padding: 0.5rem;
            text-align: center;
        }
        .table-example td {
            border: 1px solid #b3e5fc;
            padding: 0.5rem;
            text-align: left;
        }
        .example-result {
            background-color: #f1f8e9;
            border-radius: 4px;
            padding: 1rem;
            margin: 1rem 0;
        }
        .warning {
            background-color: #ffebee;
            border-left: 4px solid #f44336;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        .screenshot {
            border: 2px solid #ddd;
            border-radius: 8px;
            max-width: 100%;
            margin: 1rem 0;
        }
        .step-number {
            background-color: #1976d2;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
        }
        .module-box {
            background-color: #f8f9fa;
            border: 2px dashed #6c757d;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
        }
        .file-icon {
            font-size: 1.2em;
            margin-right: 0.5rem;
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#tableOfContents">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">JavaScript初心者向け学習教材</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#introduction">はじめに</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#chapter6">第6章: モジュールと開発ツール</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-4">
        <div class="row">
            <!-- Sidebar - Table of Contents -->
            <div class="col-lg-3">
                <div class="sidebar">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">目次</h5>
                        </div>
                        <div id="table-of-contents" class="list-group list-group-flush">
                            <a href="#introduction" class="list-group-item list-group-item-action">はじめに</a>
                            <a href="#chapter6" class="list-group-item list-group-item-action">第6章: モジュールと開発ツール</a>
                            <div class="section-nav">
                                <a href="#es-modules" class="list-group-item list-group-item-action">6.1 ES Modules入門</a>
                                <a href="#npm-basics" class="list-group-item list-group-item-action">6.2 npm基礎</a>
                                <a href="#vite-introduction" class="list-group-item list-group-item-action">6.3 Vite入門</a>
                                <a href="#code-quality-tools" class="list-group-item list-group-item-action">6.4 コード品質ツール</a>
                                <a href="#memo-app-project" class="list-group-item list-group-item-action">6.5 演習：メモ帳アプリ</a>
                                <a href="#chapter6-quiz" class="list-group-item list-group-item-action">6.6 理解度確認テスト</a>
                            </div>
                            <a href="#next-steps" class="list-group-item list-group-item-action">次のステップ</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="col-lg-9">
                <section id="introduction">
                    <h1 class="display-5 mb-4">JavaScript初心者向け学習教材</h1>
                    <p class="lead">第6章では、JavaScriptアプリケーションの規模が大きくなった時に必要となるモジュールシステムと開発ツールについて学習します。ES Modules、npm、Vite、そして代码品質を保つためのツール群を習得します。</p>

                    <div class="note">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>ES Modules（export/import）の基本的な使い方</li>
                            <li>npmパッケージマネージャーの仕組みと使い方</li>
                            <li>Viteを使った効率的な開発環境の構築</li>
                            <li>Prettier/ESLintによるコード品質の自動化</li>
                            <li>複数ファイル構成のアプリケーション開発</li>
                            <li>モダンなJavaScript開発ワークフローの実践</li>
                        </ul>
                    </div>
                </section>

                <section id="chapter6">
                    <h2 class="chapter-title">第6章：モジュールと開発ツール</h2>
                    <p>これまでは単一のJavaScriptファイルやHTMLファイルで小さなアプリケーションを作成してきました。しかし、アプリケーションが大きくなるにつれて、コードを複数のファイルに分割し、効率的に管理する必要が出てきます。この章では、モダンなJavaScript開発に必須のツールとテクニックを学習します。</p>

                    <div class="diagram">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 400" width="100%" height="400" style="max-width: 900px;">
                            <!-- 従来の開発 -->
                            <text x="150" y="30" text-anchor="middle" font-size="16" font-weight="bold">従来の開発</text>
                            <rect x="50" y="50" width="200" height="120" fill="#ffecb3" stroke="#ff8f00" stroke-width="2" rx="8" />
                            <text x="150" y="80" text-anchor="middle" font-size="14">script.js</text>
                            <text x="150" y="100" text-anchor="middle" font-size="12">（3000行以上）</text>
                            <text x="150" y="120" text-anchor="middle" font-size="12">・管理が困難</text>
                            <text x="150" y="140" text-anchor="middle" font-size="12">・再利用性が低い</text>
                            <text x="150" y="160" text-anchor="middle" font-size="12">・テストが困難</text>
                            
                            <!-- モダンな開発 -->
                            <text x="650" y="30" text-anchor="middle" font-size="16" font-weight="bold">モダンな開発</text>
                            
                            <!-- 複数のモジュール -->
                            <rect x="500" y="60" width="100" height="40" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" rx="4" />
                            <text x="550" y="85" text-anchor="middle" font-size="12">utils.js</text>
                            
                            <rect x="620" y="60" width="100" height="40" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" rx="4" />
                            <text x="670" y="85" text-anchor="middle" font-size="12">api.js</text>
                            
                            <rect x="720" y="60" width="100" height="40" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" rx="4" />
                            <text x="770" y="85" text-anchor="middle" font-size="12">ui.js</text>
                            
                            <rect x="560" y="120" width="100" height="40" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="4" />
                            <text x="610" y="145" text-anchor="middle" font-size="12">main.js</text>
                            
                            <!-- 矢印 -->
                            <line x1="550" y1="100" x2="590" y2="120" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
                            <line x1="670" y1="100" x2="630" y2="120" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
                            <line x1="770" y1="100" x2="650" y2="120" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
                            
                            <!-- 開発ツール -->
                            <rect x="500" y="200" width="300" height="120" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="8" />
                            <text x="650" y="230" text-anchor="middle" font-size="14" font-weight="bold">開発ツール</text>
                            
                            <rect x="520" y="240" width="70" height="30" fill="#ffffff" stroke="#666" stroke-width="1" rx="4" />
                            <text x="555" y="260" text-anchor="middle" font-size="11">Vite</text>
                            
                            <rect x="600" y="240" width="70" height="30" fill="#ffffff" stroke="#666" stroke-width="1" rx="4" />
                            <text x="635" y="260" text-anchor="middle" font-size="11">Prettier</text>
                            
                            <rect x="670" y="240" width="70" height="30" fill="#ffffff" stroke="#666" stroke-width="1" rx="4" />
                            <text x="705" y="260" text-anchor="middle" font-size="11">ESLint</text>
                            
                            <rect x="520" y="280" width="70" height="30" fill="#ffffff" stroke="#666" stroke-width="1" rx="4" />
                            <text x="555" y="300" text-anchor="middle" font-size="11">npm</text>
                            
                            <text x="650" y="340" text-anchor="middle" font-size="12">・効率的な開発</text>
                            <text x="650" y="355" text-anchor="middle" font-size="12">・高品質なコード</text>
                            <text x="650" y="370" text-anchor="middle" font-size="12">・保守性の向上</text>
                            
                            <!-- 変化の矢印 -->
                            <path d="M 280 110 Q 380 110 480 110" stroke="#ff6b35" stroke-width="3" fill="none" marker-end="url(#bigArrow)" />
                            <text x="380" y="100" text-anchor="middle" font-size="14" font-weight="bold" fill="#ff6b35">進化</text>
                            
                            <defs>
                                <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                    <path d="M0,0 L0,6 L9,3 z" fill="#666" />
                                </marker>
                                <marker id="bigArrow" markerWidth="15" markerHeight="15" refX="14" refY="7" orient="auto" markerUnits="strokeWidth">
                                    <path d="M0,0 L0,14 L14,7 z" fill="#ff6b35" />
                                </marker>
                            </defs>
                        </svg>
                        <p class="text-center">図6.1: JavaScript開発の進化</p>
                    </div>

                    <section id="es-modules">
                        <h3 class="section-title">6.1 ES Modules入門</h3>
                        <p>ES Modules（ECMAScript Modules）は、JavaScriptコードを複数のファイルに分割し、必要な機能を他のファイルから読み込む仕組みです。これにより、コードの再利用性と保守性が大幅に向上します。</p>

                        <h4>モジュールの基本概念</h4>
                        <div class="table-responsive">
                            <table class="table-example">
                                <tr>
                                    <th>概念</th>
                                    <th>説明</th>
                                    <th>キーワード</th>
                                </tr>
                                <tr>
                                    <td>エクスポート（export）</td>
                                    <td>他のファイルから使えるように関数や変数を公開する</td>
                                    <td>export, export default</td>
                                </tr>
                                <tr>
                                    <td>インポート（import）</td>
                                    <td>他のファイルから関数や変数を読み込む</td>
                                    <td>import, import from</td>
                                </tr>
                                <tr>
                                    <td>モジュール</td>
                                    <td>エクスポート機能を持つJavaScriptファイル</td>
                                    <td>.js, .mjs</td>
                                </tr>
                            </table>
                        </div>

                        <h4>基本的なexport/import</h4>
                        <p>まず、名前付きエクスポートの例を見てみましょう：</p>

                        <code>// utils.js - ユーティリティ関数のモジュール
// 関数のエクスポート
export function formatDate(date) {
    return date.toLocaleDateString('ja-JP', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit'
    });
}

// 変数のエクスポート
export const PI = 3.14159;

// 複数の関数をまとめてエクスポート
function add(a, b) {
    return a + b;
}

function multiply(a, b) {
    return a * b;
}

export { add, multiply };</code>

                        <code>// main.js - メインのJavaScriptファイル
// 特定の関数や変数をインポート
import { formatDate, PI, add } from './utils.js';

// インポートした関数を使用
const today = new Date();
console.log('今日の日付:', formatDate(today));
console.log('円周率:', PI);
console.log('計算結果:', add(5, 3));

// 別名でインポート
import { multiply as calc } from './utils.js';
console.log('乗算結果:', calc(4, 6));</code>

                        <h4>デフォルトエクスポート</h4>
                        <p>ファイルごとに1つだけメインの機能をエクスポートする場合は、デフォルトエクスポートを使用します：</p>

                        <code>// calculator.js - 計算機クラス
class Calculator {
    constructor() {
        this.result = 0;
    }
    
    add(number) {
        this.result += number;
        return this;
    }
    
    subtract(number) {
        this.result -= number;
        return this;
    }
    
    getResult() {
        return this.result;
    }
    
    clear() {
        this.result = 0;
        return this;
    }
}

// デフォルトエクスポート
export default Calculator;</code>

                        <code>// app.js - アプリケーションメイン
// デフォルトインポート（名前は自由に決められる）
import Calculator from './calculator.js';

// 使用例
const calc = new Calculator();
const result = calc.add(10).subtract(3).add(5).getResult();
console.log('計算結果:', result); // 12</code>

                        <div class="exercise">
                            <h5>実習 6.1.1: 最初のモジュール作成</h5>
                            <ol>
                                <li>新しいフォルダ「modules-practice」を作成</li>
                                <li>「string-utils.js」ファイルを作成し、以下の関数をエクスポート：</li>
                            </ol>
                            <code>// string-utils.js
export function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
}

export function reverseString(str) {
    return str.split('').reverse().join('');
}

export function countWords(str) {
    return str.trim().split(/\s+/).length;
}</code>
                            <ol start="3">
                                <li>「index.html」を作成し、モジュールを使用するスクリプトを追加：</li>
                            </ol>
                            <code>&lt;!DOCTYPE html&gt;
&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;モジュールテスト&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script type="module"&gt;
        import { capitalize, reverseString, countWords } from './string-utils.js';
        
        const text = 'hello world javascript';
        console.log('元の文字列:', text);
        console.log('最初を大文字:', capitalize(text));
        console.log('逆順:', reverseString(text));
        console.log('単語数:', countWords(text));
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code>
                        </div>

                        <div class="warning">
                            <h5>モジュール使用時の注意点</h5>
                            <ul>
                                <li>HTMLで<code>&lt;script type="module"&gt;</code>を指定する必要があります</li>
                                <li>ローカルファイルではCORS制限があるため、ローカルサーバーが必要です</li>
                                <li>相対パスでインポートする場合は「./」または「../」を必ず付けます</li>
                                <li>ファイル拡張子「.js」の記述が必要です</li>
                            </ul>
                        </div>
                    </section>

                    <section id="npm-basics">
                        <h3 class="section-title">6.2 npm基礎</h3>
                        <p>npm（Node Package Manager）は、JavaScriptライブラリやツールを管理するためのパッケージマネージャーです。世界中の開発者が作成したライブラリを簡単にプロジェクトに追加できます。</p>

                        <h4>package.jsonとは</h4>
                        <p>package.jsonは、プロジェクトの設定やライブラリの依存関係を記録するファイルです。</p>

                        <div class="mb-3">
                            <span class="step-number">1</span>
                            <strong>新しいプロジェクトの初期化</strong>
                        </div>
                        <code># コマンドラインで実行
mkdir my-js-project
cd my-js-project
npm init -y

# package.jsonが自動生成されます</code>

                        <div class="mb-3">
                            <span class="step-number">2</span>
                            <strong>生成されるpackage.jsonの内容</strong>
                        </div>
                        <code>{
  "name": "my-js-project",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}</code>

                        <h4>ライブラリのインストール</h4>
                        <div class="table-responsive">
                            <table class="table-example">
                                <tr>
                                    <th>コマンド</th>
                                    <th>説明</th>
                                    <th>記録場所</th>
                                </tr>
                                <tr>
                                    <td>npm install ライブラリ名</td>
                                    <td>本番環境でも必要なライブラリをインストール</td>
                                    <td>dependencies</td>
                                </tr>
                                <tr>
                                    <td>npm install ライブラリ名 --save-dev</td>
                                    <td>開発時のみ必要なライブラリをインストール</td>
                                    <td>devDependencies</td>
                                </tr>
                                <tr>
                                    <td>npm install -g ライブラリ名</td>
                                    <td>グローバルにライブラリをインストール</td>
                                    <td>なし</td>
                                </tr>
                            </table>
                        </div>

                        <h4>実用的なライブラリの使用例</h4>
                        <p>日付処理ライブラリ「date-fns」を使用する例：</p>

                        <code># date-fnsライブラリをインストール
npm install date-fns</code>

                        <code>// date-example.js
import { format, addDays, differenceInDays } from 'date-fns';
import { ja } from 'date-fns/locale';

const today = new Date();
const futureDate = addDays(today, 30);

console.log('今日:', format(today, 'yyyy年MM月dd日', { locale: ja }));
console.log('30日後:', format(futureDate, 'yyyy年MM月dd日', { locale: ja }));
console.log('差分:', differenceInDays(futureDate, today), '日');

// 様々な形式でフォーマット
console.log('英語形式:', format(today, 'MMMM do, yyyy'));
console.log('ISO形式:', format(today, "yyyy-MM-dd'T'HH:mm:ss"));</code>

                        <h4>npm scriptsの活用</h4>
                        <p>package.jsonのscriptsセクションで、よく使うコマンドを定義できます：</p>

                        <code>{
  "name": "my-js-project",
  "version": "1.0.0",
  "scripts": {
    "start": "node index.js",
    "dev": "node --watch index.js",
    "build": "echo \"ビルド処理を実行\"",
    "test": "echo \"テストを実行\"",
    "format": "prettier --write ."
  },
  "dependencies": {
    "date-fns": "^2.29.3"
  }
}</code>

                        <code># npm scriptsの実行方法
npm run start    # startスクリプトを実行
npm run dev      # devスクリプトを実行
npm run build    # buildスクリプトを実行</code>

                        <div class="exercise">
                            <h5>実習 6.2.1: npmプロジェクトのセットアップ</h5>
                            <ol>
                                <li>新しいフォルダ「npm-practice」を作成してnpm初期化</li>
                                <li>lodashライブラリをインストール：<code>npm install lodash</code></li>
                                <li>以下のファイルを作成：</li>
                            </ol>
                            <code>// data-processing.js
import _ from 'lodash';

const users = [
    { name: '田中', age: 25, city: '東京' },
    { name: '佐藤', age: 30, city: '大阪' },
    { name: '鈴木', age: 22, city: '東京' },
    { name: '高橋', age: 28, city: '名古屋' }
];

// 年齢でグループ化
const groupedByAge = _.groupBy(users, user =&gt; user.age &gt;= 25 ? '25歳以上' : '25歳未満');
console.log('年齢別グループ:', groupedByAge);

// 都市でソート
const sortedByCity = _.sortBy(users, 'city');
console.log('都市でソート:', sortedByCity);

// 平均年齢を計算
const averageAge = _.meanBy(users, 'age');
console.log('平均年齢:', Math.round(averageAge), '歳');</code>
                        </div>

                        <div class="note">
                            <h5>node_modulesディレクトリについて</h5>
                            <p>npmでライブラリをインストールすると、node_modulesディレクトリが作成されます。このディレクトリには：</p>
                            <ul>
                                <li>インストールしたライブラリ本体が保存される</li>
                                <li>そのライブラリが依存する他のライブラリも自動でインストールされる</li>
                                <li>サイズが大きくなりがちなので、Gitでは通常.gitignoreに追加する</li>
                                <li>package.jsonがあれば「npm install」で再現できる</li>
                            </ul>
                        </div>
                    </section>

                    <section id="vite-introduction">
                        <h3 class="section-title">6.3 Vite入門</h3>
                        <p>Viteは、高速で軽量なフロントエンド開発ツールです。モジュールのバンドル、ホットリロード、開発サーバーの機能を提供し、モダンなJavaScript開発を効率化します。</p>

                        <h4>Viteの特徴</h4>
                        <ul>
                            <li><strong>高速な開発サーバー</strong>：変更を即座に反映するホットリロード</li>
                            <li><strong>ES Modulesサポート</strong>：ブラウザネイティブのimport/exportが使用可能</li>
                            <li><strong>TypeScriptサポート</strong>：設定なしでTypeScriptが使用可能</li>
                            <li><strong>最適化されたビルド</strong>：本番用の最適化されたファイルを生成</li>
                        </ul>

                        <h4>Viteプロジェクトのセットアップ</h4>
                        <div class="mb-3">
                            <span class="step-number">1</span>
                            <strong>Viteプロジェクトの作成</strong>
                        </div>
                        <code># Viteプロジェクトを作成
npm create vite@latest my-vite-app

# プロジェクトに移動
cd my-vite-app

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev</code>

                        <div class="mb-3">
                            <span class="step-number">2</span>
                            <strong>プロジェクト構造</strong>
                        </div>
                        <code>my-vite-app/
├── public/
│   └── favicon.ico
├── src/
│   ├── main.js      # エントリーポイント
│   ├── style.css    # CSSファイル
│   └── counter.js   # カウンター機能
├── index.html       # HTMLテンプレート
├── package.json     # プロジェクト設定
└── vite.config.js   # Vite設定ファイル</code>

                        <h4>Viteでの開発ワークフロー</h4>
                        <p>Viteプロジェクトの基本的なファイル構成と機能を確認しましょう：</p>

                        <code>// src/main.js - メインのJavaScriptファイル
import './style.css';
import { createCounter } from './counter.js';

document.querySelector('#app').innerHTML = `
  &lt;div&gt;
    &lt;h1&gt;Vite JavaScript App&lt;/h1&gt;
    &lt;div class="card"&gt;
      &lt;button id="counter" type="button"&gt;カウント: 0&lt;/button&gt;
    &lt;/div&gt;
    &lt;p class="read-the-docs"&gt;
      ファイルを編集して保存すると、即座に変更が反映されます
    &lt;/p&gt;
  &lt;/div&gt;
`;

createCounter(document.querySelector('#counter'));</code>

                        <code>// src/counter.js - カウンター機能のモジュール
export function createCounter(element) {
  let counter = 0;
  
  const setCounter = (count) =&gt; {
    counter = count;
    element.innerHTML = `カウント: ${counter}`;
  };
  
  element.addEventListener('click', () =&gt; setCounter(counter + 1));
  setCounter(0);
}</code>

                        <h4>CSSとアセットの処理</h4>
                        <p>ViteではCSS、画像、フォントなどのアセットも簡単にインポートできます：</p>

                        <code>/* src/style.css */
:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  
  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;
}

#app {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.card {
  padding: 2em;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  color: white;
  cursor: pointer;
  transition: border-color 0.25s;
}

button:hover {
  border-color: #646cff;
}</code>

                        <div class="exercise">
                            <h5>実習 6.3.1: Viteプロジェクトのカスタマイズ</h5>
                            <ol>
                                <li>Viteプロジェクトを作成：<code>npm create vite@latest todo-app</code></li>
                                <li>プロジェクトに移動してnpm install実行</li>
                                <li>src/todo.jsモジュールを作成：</li>
                            </ol>
                            <code>// src/todo.js
export class TodoManager {
    constructor() {
        this.todos = JSON.parse(localStorage.getItem('todos') || '[]');
        this.nextId = Math.max(...this.todos.map(t =&gt; t.id), 0) + 1;
    }
    
    addTodo(text) {
        const todo = {
            id: this.nextId++,
            text,
            completed: false,
            createdAt: new Date().toLocaleDateString()
        };
        this.todos.push(todo);
        this.save();
        return todo;
    }
    
    toggleTodo(id) {
        const todo = this.todos.find(t =&gt; t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            this.save();
        }
        return todo;
    }
    
    deleteTodo(id) {
        this.todos = this.todos.filter(t =&gt; t.id !== id);
        this.save();
    }
    
    save() {
        localStorage.setItem('todos', JSON.stringify(this.todos));
    }
    
    getAllTodos() {
        return this.todos;
    }
}</code>
                            <ol start="4">
                                <li>main.jsでTodoManagerを使用するアプリを作成</li>
                                <li>npm run devで開発サーバーを起動して動作確認</li>
                            </ol>
                        </div>
                    </section>

                    <section id="code-quality-tools">
                        <h3 class="section-title">6.4 コード品質ツール</h3>
                        <p>大規模なプロジェクトでは、コードの品質と一貫性を保つことが重要です。PrettierとESLintは、この課題を自動化で解決するツールです。</p>

                        <h4>Prettier - コードフォーマッター</h4>
                        <p>Prettierは、コードのフォーマットを自動で統一するツールです。</p>

                        <div class="mb-3">
                            <span class="step-number">1</span>
                            <strong>Prettierのインストール</strong>
                        </div>
                        <code># 開発依存関係としてインストール
npm install --save-dev prettier</code>

                        <div class="mb-3">
                            <span class="step-number">2</span>
                            <strong>設定ファイルの作成</strong>
                        </div>
                        <code>// .prettierrc
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false
}</code>

                        <div class="mb-3">
                            <span class="step-number">3</span>
                            <strong>package.jsonにスクリプト追加</strong>
                        </div>
                        <code>{
  "scripts": {
    "format": "prettier --write .",
    "format-check": "prettier --check ."
  }
}</code>

                        <h4>ESLint - コード品質チェック</h4>
                        <p>ESLintは、JavaScriptコードの品質をチェックし、潜在的な問題を発見するツールです。</p>

                        <div class="mb-3">
                            <span class="step-number">1</span>
                            <strong>ESLintのインストールと設定</strong>
                        </div>
                        <code># ESLintをインストールして初期設定
npm install --save-dev eslint
npx eslint --init</code>

                        <div class="mb-3">
                            <span class="step-number">2</span>
                            <strong>基本的な.eslintrc.js設定</strong>
                        </div>
                        <code>// .eslintrc.js
module.exports = {
    env: {
        browser: true,
        es2021: true,
        node: true,
    },
    extends: ['eslint:recommended'],
    parserOptions: {
        ecmaVersion: 'latest',
        sourceType: 'module',
    },
    rules: {
        'no-unused-vars': 'warn',
        'no-console': 'off',
        'prefer-const': 'error',
        'no-var': 'error',
    },
};</code>

                        <h4>VS Codeとの連携</h4>
                        <p>VS CodeにPrettierとESLintの拡張機能をインストールすると、保存時に自動フォーマット・チェックが可能になります：</p>

                        <code>// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "eslint.validate": ["javascript", "typescript"]
}</code>

                        <div class="note">
                            <h5>フォーマット前後の比較例</h5>
                            <p><strong>フォーマット前（読みにくいコード）：</strong></p>
                            <code>const users=[{name:"田中",age:25},{name:"佐藤",age:30}];
const adults=users.filter(user=&gt;{
return user.age&gt;=20
});</code>
                            <p><strong>フォーマット後（読みやすいコード）：</strong></p>
                            <code>const users = [
  { name: '田中', age: 25 },
  { name: '佐藤', age: 30 },
];
const adults = users.filter((user) =&gt; {
  return user.age &gt;= 20;
});</code>
                        </div>

                        <div class="exercise">
                            <h5>実習 6.4.1: コード品質ツールの導入</h5>
                            <ol>
                                <li>既存のプロジェクトにPrettierとESLintをインストール</li>
                                <li>設定ファイルを作成</li>
                                <li>以下の「悪い」コードを作成してツールでチェック：</li>
                            </ol>
                            <code>// bad-code.js（意図的に悪いコード）
var message="Hello World"
const users=[{name:"太郎"},{name:"花子"}]
function greetUser(user){
console.log("こんにちは、"+user.name+"さん")
}
users.forEach(function(user){greetUser(user)})</code>
                            <ol start="4">
                                <li>ESLintでエラーチェック：<code>npx eslint bad-code.js</code></li>
                                <li>Prettierでフォーマット：<code>npx prettier --write bad-code.js</code></li>
                            </ol>
                        </div>
                    </section>

                    <section id="memo-app-project">
                        <h3 class="section-title">6.5 演習：メモ帳アプリ</h3>
                        <p>これまで学習した内容を総合して、複数ファイル構成のメモ帳アプリケーションをViteで構築します。</p>

                        <h4>プロジェクト要件</h4>
                        <ul>
                            <li>メモの作成、編集、削除機能</li>
                            <li>メモの検索機能</li>
                            <li>ローカルストレージでの永続化</li>
                            <li>複数のモジュールに機能を分割</li>
                            <li>PrettierとESLintによるコード品質管理</li>
                        </ul>

                        <h4>アプリケーション構成</h4>
                        <code>memo-app/
├── src/
│   ├── main.js           # エントリーポイント
│   ├── models/
│   │   └── memo.js       # メモデータモデル
│   ├── services/
│   │   └── storage.js    # ストレージサービス
│   ├── components/
│   │   ├── memo-list.js  # メモ一覧コンポーネント
│   │   └── memo-form.js  # メモ入力フォーム
│   └── utils/
│       └── date.js       # 日付ユーティリティ
├── index.html
├── package.json
└── vite.config.js</code>

                        <h4>メモデータモデル</h4>
                        <code>// src/models/memo.js
export class Memo {
    constructor(title, content, id = null) {
        this.id = id || Date.now().toString();
        this.title = title;
        this.content = content;
        this.createdAt = new Date();
        this.updatedAt = new Date();
    }

    update(title, content) {
        this.title = title;
        this.content = content;
        this.updatedAt = new Date();
    }

    matches(searchTerm) {
        const term = searchTerm.toLowerCase();
        return (
            this.title.toLowerCase().includes(term) ||
            this.content.toLowerCase().includes(term)
        );
    }

    getPreview(maxLength = 100) {
        return this.content.length &gt; maxLength
            ? this.content.substring(0, maxLength) + '...'
            : this.content;
    }
}</code>

                        <h4>ストレージサービス</h4>
                        <code>// src/services/storage.js
import { Memo } from '../models/memo.js';

export class StorageService {
    constructor() {
        this.storageKey = 'memo-app-data';
    }

    saveMemos(memos) {
        const data = memos.map(memo =&gt; ({
            id: memo.id,
            title: memo.title,
            content: memo.content,
            createdAt: memo.createdAt.toISOString(),
            updatedAt: memo.updatedAt.toISOString(),
        }));
        localStorage.setItem(this.storageKey, JSON.stringify(data));
    }

    loadMemos() {
        const data = localStorage.getItem(this.storageKey);
        if (!data) return [];

        try {
            const parsed = JSON.parse(data);
            return parsed.map(item =&gt; {
                const memo = new Memo(item.title, item.content, item.id);
                memo.createdAt = new Date(item.createdAt);
                memo.updatedAt = new Date(item.updatedAt);
                return memo;
            });
        } catch (error) {
            console.error('メモの読み込みに失敗しました:', error);
            return [];
        }
    }
}</code>

                        <h4>メインアプリケーション</h4>
                        <code>// src/main.js
import './style.css';
import { Memo } from './models/memo.js';
import { StorageService } from './services/storage.js';
import { createMemoList } from './components/memo-list.js';
import { createMemoForm } from './components/memo-form.js';

class MemoApp {
    constructor() {
        this.storageService = new StorageService();
        this.memos = this.storageService.loadMemos();
        this.currentSearchTerm = '';
        this.init();
    }

    init() {
        this.renderApp();
        this.bindEvents();
    }

    renderApp() {
        document.querySelector('#app').innerHTML = `
            &lt;div class="memo-app"&gt;
                &lt;header&gt;
                    &lt;h1&gt;📝 メモ帳アプリ&lt;/h1&gt;
                    &lt;div class="search-container"&gt;
                        &lt;input type="text" id="search" placeholder="メモを検索..."&gt;
                    &lt;/div&gt;
                &lt;/header&gt;
                &lt;main&gt;
                    &lt;div id="memo-form-container"&gt;&lt;/div&gt;
                    &lt;div id="memo-list-container"&gt;&lt;/div&gt;
                &lt;/main&gt;
            &lt;/div&gt;
        `;

        createMemoForm(
            document.querySelector('#memo-form-container'),
            this.handleCreateMemo.bind(this)
        );
        this.updateMemoList();
    }

    bindEvents() {
        const searchInput = document.querySelector('#search');
        searchInput.addEventListener('input', (e) =&gt; {
            this.currentSearchTerm = e.target.value;
            this.updateMemoList();
        });
    }

    handleCreateMemo(title, content) {
        const memo = new Memo(title, content);
        this.memos.unshift(memo);
        this.save();
        this.updateMemoList();
    }

    handleDeleteMemo(id) {
        this.memos = this.memos.filter(memo =&gt; memo.id !== id);
        this.save();
        this.updateMemoList();
    }

    updateMemoList() {
        const filteredMemos = this.currentSearchTerm
            ? this.memos.filter(memo =&gt; memo.matches(this.currentSearchTerm))
            : this.memos;

        createMemoList(
            document.querySelector('#memo-list-container'),
            filteredMemos,
            this.handleDeleteMemo.bind(this)
        );
    }

    save() {
        this.storageService.saveMemos(this.memos);
    }
}

// アプリケーション起動
new MemoApp();</code>

                        <div class="exercise">
                            <h5>実習 6.5.1: メモ帳アプリの完成</h5>
                            <ol>
                                <li>Viteプロジェクトを作成：<code>npm create vite@latest memo-app</code></li>
                                <li>上記のファイル構成でプロジェクトを作成</li>
                                <li>不足しているコンポーネント（memo-list.js、memo-form.js）を実装</li>
                                <li>CSSスタイルを追加してUIを整える</li>
                                <li>PrettierとESLintを導入してコード品質を向上</li>
                                <li>機能テストとブラウザでの動作確認</li>
                            </ol>
                        </div>
                    </section>

                    <section id="chapter6-quiz">
                        <h3 class="section-title">6.6 理解度確認テスト</h3>
                        <div class="quiz-container">
                            <h4>第6章の理解度チェック</h4>
                            <p>以下の問題に答えて、第6章の内容の理解度を確認しましょう。</p>
                            
                            <div class="quiz-question">
                                <p><strong>問題1:</strong> ES Modulesで関数をエクスポートする正しい書き方はどれですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" id="q1a" value="a">
                                    <label class="form-check-label" for="q1a">
                                        exports.myFunction = function() {}
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" id="q1b" value="b">
                                    <label class="form-check-label" for="q1b">
                                        export function myFunction() {}
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" id="q1c" value="c">
                                        <label class="form-check-label" for="q1c">
                                        module.exports = myFunction
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" id="q1d" value="d">
                                        <label class="form-check-label" for="q1d">
                                        public function myFunction() {}
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題2:</strong> npmでプロジェクトを初期化するコマンドはどれですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2a" value="a">
                                    <label class="form-check-label" for="q2a">
                                        npm start
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2b" value="b">
                                    <label class="form-check-label" for="q2b">
                                        npm init
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2c" value="c">
                                        <label class="form-check-label" for="q2c">
                                        npm create
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2d" value="d">
                                        <label class="form-check-label" for="q2d">
                                        npm setup
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題3:</strong> Viteの主な利点として適切でないものはどれですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" id="q3a" value="a">
                                    <label class="form-check-label" for="q3a">
                                        高速な開発サーバー
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" id="q3b" value="b">
                                    <label class="form-check-label" for="q3b">
                                        ホットリロード機能
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" id="q3c" value="c">
                                        <label class="form-check-label" for="q3c">
                                        データベース管理機能
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" id="q3d" value="d">
                                        <label class="form-check-label" for="q3d">
                                        ES Modulesサポート
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題4:</strong> Prettierの主な役割は何ですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4a" value="a">
                                    <label class="form-check-label" for="q4a">
                                        コードのバグ検出
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4b" value="b">
                                    <label class="form-check-label" for="q4b">
                                        コードのフォーマット統一
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4c" value="c">
                                        <label class="form-check-label" for="q4c">
                                        テストの実行
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4d" value="d">
                                        <label class="form-check-label" for="q4d">
                                        パフォーマンス最適化
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題5:</strong> package.jsonファイルの主な用途として適切でないものはどれですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5a" value="a">
                                    <label class="form-check-label" for="q5a">
                                        プロジェクトの依存関係管理
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5b" value="b">
                                    <label class="form-check-label" for="q5b">
                                        npmスクリプトの定義
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5c" value="c">
                                        <label class="form-check-label" for="q5c">
                                        GitHubのソースコード管理
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5d" value="d">
                                        <label class="form-check-label" for="q5d">
                                        プロジェクトのメタデータ情報
                                    </label>
                                </div>
                            </div>
                            
                            <button class="btn btn-primary mt-3" id="checkAnswers">回答を確認</button>
                            <div id="quizResults" class="mt-3 d-none">
                                <div class="alert alert-success">
                                    <h5>正解:</h5>
                                    <ol>
                                        <li>b（export function myFunction() {}）</li>
                                        <li>b（npm init）</li>
                                        <li>c（データベース管理機能）</li>
                                        <li>b（コードのフォーマット統一）</li>
                                        <li>c（GitHubのソースコード管理）</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="next-steps">
                        <h3 class="section-title">次のステップ</h3>
                        <p>お疲れさまでした！第6章では、モダンなJavaScript開発に必要なツールとワークフローを習得しました。ES Modules、npm、Vite、そしてコード品質ツールの使い方を理解し、実際にメモ帳アプリケーションを構築することで、実践的なスキルを身につけることができました。</p>
                        
                        <div class="note">
                            <h5>第6章で習得したスキル</h5>
                            <ul>
                                <li>ES Modulesによるコードの分割とモジュール化</li>
                                <li>npmを使ったライブラリ管理とプロジェクト設定</li>
                                <li>Viteによる効率的な開発環境の構築</li>
                                <li>Prettier/ESLintによるコード品質の自動化</li>
                                <li>複数ファイル構成のアプリケーション開発</li>
                                <li>モダンなJavaScript開発ワークフローの実践</li>
                            </ul>
                        </div>

                        <p>次の第7章では、テストとデバッグについて学習します。ユニットテスト、テスト駆動開発（TDD）、そして効果的なデバッグ手法を習得し、より高品質で信頼性の高いコードを書けるようになります。</p>
                        
                        <div class="exercise">
                            <h5>第7章に向けた準備</h5>
                            <p>第7章に進む前に、以下の点を確認してください：</p>
                            <ol>
                                <li>ES Modulesのexport/importが理解できていること</li>
                                <li>npm projectのセットアップと基本的なコマンドが使えること</li>
                                <li>Viteプロジェクトの作成と開発サーバーの起動ができること</li>
                                <li>Prettier/ESLintの設定と実行ができること</li>
                                <li>複数ファイルに分割されたアプリケーションが作成できること</li>
                            </ol>
                        </div>

                        <div class="warning">
                            <h5>発展学習のヒント</h5>
                            <p>さらなるスキル向上のために、以下の項目に挑戦してみてください：</p>
                            <ul>
                                <li>TypeScriptを使ったより型安全な開発</li>
                                <li>Webpackなど他のバンドラーとの比較</li>
                                <li>CI/CDパイプラインでの自動フォーマット・チェック</li>
                                <li>Git Hooksを使った自動化</li>
                                <li>パフォーマンス最適化とバンドルサイズの削減</li>
                            </ul>
                        </div>
                    </section>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center py-4">
        <div class="container">
            <p class="mb-0">Copyright © 2025 F-Circle All rights reserved.</p>
        </div>
    </footer>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 理解度テストの回答確認ボタンの処理
        document.getElementById('checkAnswers').addEventListener('click', function() {
            document.getElementById('quizResults').classList.remove('d-none');
        });
    </script>
</body>
</html>