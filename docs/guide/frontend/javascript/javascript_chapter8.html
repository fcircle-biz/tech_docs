<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript初心者向け学習教材 - 第8章：フロントエンドフレームワーク体験</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        .navbar {
            background-color: #1565c0;
        }
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        .chapter-title {
            color: #1565c0;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #1565c0;
            padding-bottom: 0.5rem;
        }
        .section-title {
            color: #1976d2;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        code {
            display: block;
            background-color: #f5f5f5;
            border-radius: 4px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            white-space: pre;
            overflow-x: auto;
        }
        .quiz-container {
            background-color: #e3f2fd;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .quiz-question {
            font-weight: 500;
            margin-bottom: 1rem;
        }
        .diagram {
            max-width: 100%;
            height: auto;
            margin: 1.5rem 0;
            text-align: center;
        }
        .exercise {
            background-color: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        .note {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        #table-of-contents .list-group-item {
            border: none;
            padding: 0.5rem 1rem;
        }
        #table-of-contents .list-group-item-action {
            color: #1976d2;
        }
        #table-of-contents .list-group-item-action.active,
        .list-group-item.active {
            color: white !important;
            background-color: #1976d2;
            border-color: #1976d2;
        }
        .section-nav {
            padding-left: 1rem;
        }
        .inline-code {
            background-color: #f5f5f5;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            display: inline;
        }
        footer {
            background-color: #1565c0;
            color: white;
            padding: 1rem 0;
            margin-top: 3rem;
        }
        .table-example {
            width: 100%;
            margin-bottom: 1rem;
            border-collapse: collapse;
        }
        .table-example th {
            background-color: #e3f2fd;
            border: 1px solid #b3e5fc;
            padding: 0.5rem;
            text-align: center;
        }
        .table-example td {
            border: 1px solid #b3e5fc;
            padding: 0.5rem;
            text-align: left;
        }
        .example-result {
            background-color: #f1f8e9;
            border-radius: 4px;
            padding: 1rem;
            margin: 1rem 0;
        }
        .warning {
            background-color: #ffebee;
            border-left: 4px solid #f44336;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        .step-number {
            background-color: #1976d2;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
        }
        .react-feature {
            background-color: #e1f5fe;
            border-left: 4px solid #00bcd4;
            padding: 1rem;
            margin: 1.5rem 0;
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#tableOfContents">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">JavaScript初心者向け学習教材</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#introduction">はじめに</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#chapter8">第8章: フロントエンドフレームワーク体験</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-4">
        <div class="row">
            <!-- Sidebar - Table of Contents -->
            <div class="col-lg-3">
                <div class="sidebar">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">目次</h5>
                        </div>
                        <div id="table-of-contents" class="list-group list-group-flush">
                            <a href="#introduction" class="list-group-item list-group-item-action">はじめに</a>
                            <a href="#chapter8" class="list-group-item list-group-item-action">第8章: フロントエンドフレームワーク体験</a>
                            <div class="section-nav">
                                <a href="#react-introduction" class="list-group-item list-group-item-action">8.1 React入門</a>
                                <a href="#components-jsx" class="list-group-item list-group-item-action">8.2 関数コンポーネントとJSX</a>
                                <a href="#usestate-hook" class="list-group-item list-group-item-action">8.3 useState Hook</a>
                                <a href="#useeffect-hook" class="list-group-item list-group-item-action">8.4 useEffect Hook</a>
                                <a href="#props-component" class="list-group-item list-group-item-action">8.5 コンポーネント分割とProps</a>
                                <a href="#mini-project" class="list-group-item list-group-item-action">8.6 ミニプロジェクト</a>
                                <a href="#chapter8-quiz" class="list-group-item list-group-item-action">8.7 理解度確認テスト</a>
                            </div>
                            <a href="#next-steps" class="list-group-item list-group-item-action">次のステップ</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="col-lg-9">
                <section id="introduction">
                    <h1 class="display-5 mb-4">JavaScript初心者向け学習教材</h1>
                    <p class="lead">この第8章では、現代的なWebアプリケーション開発で広く使用されているフロントエンドフレームワークの一つ、Reactについて学習します。関数コンポーネント、Hooks、状態管理の基本概念を習得し、動的なユーザーインターフェースを構築できるようになります。</p>

                    <div class="note">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>Reactフレームワークの基本概念と特徴</li>
                            <li>関数コンポーネントとJSXの記法</li>
                            <li>useState Hookを使った状態管理</li>
                            <li>useEffect Hookを使った副作用処理</li>
                            <li>コンポーネントの分割とPropsの受け渡し</li>
                            <li>実践的なアプリケーションの構築</li>
                        </ul>
                    </div>
                </section>

                <section id="chapter8">
                    <h2 class="chapter-title">第8章：フロントエンドフレームワーク体験（React入門）</h2>
                    <p>これまでの学習で、VanillaJavaScript（素のJavaScript）でWebアプリケーションを構築する方法を学んできました。この章では、より効率的で保守性の高いアプリケーション開発を可能にするフロントエンドフレームワークのReactを体験します。</p>

                    <section id="react-introduction">
                        <h3 class="section-title">8.1 React入門</h3>
                        <p>Reactは、Facebook（現Meta）が開発したJavaScriptライブラリで、ユーザーインターフェースの構築に特化しています。コンポーネントベースの開発と仮想DOMによる効率的な更新が特徴です。</p>

                        <h4>Reactの主な特徴</h4>
                        <div class="table-responsive">
                            <table class="table-example">
                                <tr>
                                    <th>特徴</th>
                                    <th>説明</th>
                                    <th>メリット</th>
                                </tr>
                                <tr>
                                    <td>コンポーネントベース</td>
                                    <td>UIをコンポーネント単位で分割</td>
                                    <td>再利用性・保守性の向上</td>
                                </tr>
                                <tr>
                                    <td>仮想DOM</td>
                                    <td>メモリ上でDOM操作を最適化</td>
                                    <td>高いパフォーマンス</td>
                                </tr>
                                <tr>
                                    <td>宣言的UI</td>
                                    <td>「どう見えるか」を記述</td>
                                    <td>直感的で理解しやすい</td>
                                </tr>
                                <tr>
                                    <td>学習コミュニティ</td>
                                    <td>豊富な情報・ライブラリ</td>
                                    <td>エコシステムの充実</td>
                                </tr>
                            </table>
                        </div>

                        <div class="diagram">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 400" width="700" height="400">
                                <!-- Vanilla JavaScript -->
                                <rect x="50" y="50" width="150" height="120" fill="#ffd54f" stroke="#f57f17" stroke-width="2" rx="5" />
                                <text x="125" y="80" text-anchor="middle" font-size="14" font-weight="bold">Vanilla JS</text>
                                <text x="125" y="100" text-anchor="middle" font-size="12">直接DOM操作</text>
                                <text x="125" y="120" text-anchor="middle" font-size="12">命令的プログラミング</text>
                                <text x="125" y="140" text-anchor="middle" font-size="12">複雑な状態管理</text>
                                
                                <!-- Arrow -->
                                <path d="M 220 110 Q 300 80 380 110" stroke="#1976d2" stroke-width="3" fill="none" marker-end="url(#arrow)" />
                                <text x="300" y="75" text-anchor="middle" font-size="12" fill="#1976d2" font-weight="bold">進化</text>
                                
                                <!-- React -->
                                <rect x="400" y="50" width="150" height="120" fill="#81c784" stroke="#388e3c" stroke-width="2" rx="5" />
                                <text x="475" y="80" text-anchor="middle" font-size="14" font-weight="bold">React</text>
                                <text x="475" y="100" text-anchor="middle" font-size="12">コンポーネント思考</text>
                                <text x="475" y="120" text-anchor="middle" font-size="12">宣言的プログラミング</text>
                                <text x="475" y="140" text-anchor="middle" font-size="12">効率的な状態管理</text>
                                
                                <!-- Components example -->
                                <rect x="100" y="220" width="80" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="3" />
                                <text x="140" y="245" text-anchor="middle" font-size="11">Header</text>
                                <text x="140" y="260" text-anchor="middle" font-size="11">Component</text>
                                
                                <rect x="200" y="220" width="80" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="3" />
                                <text x="240" y="245" text-anchor="middle" font-size="11">Main</text>
                                <text x="240" y="260" text-anchor="middle" font-size="11">Component</text>
                                
                                <rect x="300" y="220" width="80" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="3" />
                                <text x="340" y="245" text-anchor="middle" font-size="11">Footer</text>
                                <text x="340" y="260" text-anchor="middle" font-size="11">Component</text>
                                
                                <rect x="450" y="220" width="80" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="3" />
                                <text x="490" y="245" text-anchor="middle" font-size="11">Sidebar</text>
                                <text x="490" y="260" text-anchor="middle" font-size="11">Component</text>
                                
                                <!-- App Container -->
                                <rect x="80" y="200" width="470" height="100" fill="none" stroke="#1976d2" stroke-width="2" stroke-dasharray="5,5" rx="5" />
                                <text x="315" y="320" text-anchor="middle" font-size="14" font-weight="bold" fill="#1976d2">App Component（アプリケーション全体）</text>
                                
                                <defs>
                                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                        <path d="M0,0 L0,6 L9,3 z" fill="#1976d2" />
                                    </marker>
                                </defs>
                            </svg>
                            <p class="text-center">図8.1: VanillaJavaScriptからReactへの発展とコンポーネント構造</p>
                        </div>

                        <h4>React環境のセットアップ（Vite使用）</h4>
                        <p>Create React Appの代替として、より高速なViteを使用してReactプロジェクトを作成します：</p>

                        <div class="mb-3">
                            <span class="step-number">1</span>
                            <strong>Viteを使ったReactプロジェクト作成</strong>
                        </div>
                        <code># ターミナルで実行
npm create vite@latest react-practice -- --template react
cd react-practice
npm install</code>

                        <div class="mb-3">
                            <span class="step-number">2</span>
                            <strong>開発サーバーの起動</strong>
                        </div>
                        <code># 開発サーバーを起動
npm run dev

# ブラウザで http://localhost:5173 を開く</code>

                        <div class="exercise">
                            <h5>実習 8.1.1: React環境の構築</h5>
                            <ol>
                                <li>上記のコマンドでReactプロジェクトを作成</li>
                                <li>VS Codeでプロジェクトフォルダを開く</li>
                                <li>開発サーバーを起動してブラウザで確認</li>
                                <li>srcフォルダ内のファイル構成を確認</li>
                            </ol>
                        </div>
                    </section>

                    <section id="components-jsx">
                        <h3 class="section-title">8.2 関数コンポーネントとJSX</h3>
                        <p>Reactのコンポーネントは、UIの一部を表現する独立した部品です。関数コンポーネントとJSX（JavaScript XML）を使って、HTMLライクな記法でコンポーネントを定義できます。</p>

                        <h4>JSXの基本記法</h4>
                        <p>JSXは、JavaScriptの中でHTMLライクな記法を使えるReact独自の構文です：</p>

                        <code>// src/App.jsx
function App() {
  const name = 'React';
  const isLoggedIn = true;

  return (
    &lt;div className="app"&gt;
      &lt;h1&gt;Hello, {name}!&lt;/h1&gt;
      &lt;p&gt;現在の時刻: {new Date().toLocaleTimeString()}&lt;/p&gt;
      {isLoggedIn ? (
        &lt;p&gt;ログイン済みです&lt;/p&gt;
      ) : (
        &lt;p&gt;ログインしてください&lt;/p&gt;
      )}
      &lt;ul&gt;
        {['React', 'Vue', 'Angular'].map((framework, index) =&gt; (
          &lt;li key={index}&gt;{framework}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}

export default App;</code>

                        <div class="react-feature">
                            <h5>JSXの重要なルール</h5>
                            <ul>
                                <li><strong>単一のルート要素</strong>：returnは1つの要素のみ（Fragmentも可）</li>
                                <li><strong>className属性</strong>：HTMLのclassではなくclassNameを使用</li>
                                <li><strong>自己終了タグ</strong>：&lt;img /&gt;、&lt;br /&gt;のように明示的に閉じる</li>
                                <li><strong>JavaScript式</strong>：{}内でJavaScript式を評価</li>
                                <li><strong>条件分岐</strong>：三項演算子や論理演算子を使用</li>
                            </ul>
                        </div>

                        <h4>関数コンポーネントの基本パターン</h4>
                        <code>// src/components/Welcome.jsx
function Welcome() {
  return (
    &lt;div&gt;
      &lt;h2&gt;Welcomeコンポーネント&lt;/h2&gt;
      &lt;p&gt;これは独立したコンポーネントです&lt;/p&gt;
    &lt;/div&gt;
  );
}

// アロー関数でも書ける
const Greeting = () =&gt; {
  return &lt;h3&gt;こんにちは！&lt;/h3&gt;;
};

export { Welcome, Greeting };</code>

                        <div class="exercise">
                            <h5>実習 8.2.1: 最初のコンポーネント作成</h5>
                            <ol>
                                <li>src/components フォルダを作成</li>
                                <li>Profile.jsx ファイルを作成し、自己紹介コンポーネントを作成</li>
                                <li>名前、年齢、趣味を表示するコンポーネントを作成</li>
                                <li>App.jsx からインポートして使用</li>
                            </ol>
                        </div>
                    </section>

                    <section id="usestate-hook">
                        <h3 class="section-title">8.3 useState Hook</h3>
                        <p>useState Hookは、関数コンポーネントで状態（state）を管理するための基本的なHookです。ユーザーの操作に応じてコンポーネントの表示を動的に変更できます。</p>

                        <h4>useStateの基本的な使い方</h4>
                        <code>import { useState } from 'react';

function Counter() {
  // [現在の値, 更新関数] = useState(初期値)
  const [count, setCount] = useState(0);

  const increment = () =&gt; {
    setCount(count + 1);
  };

  const decrement = () =&gt; {
    setCount(count - 1);
  };

  return (
    &lt;div&gt;
      &lt;h2&gt;カウンター: {count}&lt;/h2&gt;
      &lt;button onClick={increment}&gt;+1&lt;/button&gt;
      &lt;button onClick={decrement}&gt;-1&lt;/button&gt;
      &lt;button onClick={() =&gt; setCount(0)}&gt;リセット&lt;/button&gt;
    &lt;/div&gt;
  );
}</code>

                        <h4>様々な型の状態管理</h4>
                        <code>function StateExamples() {
  // 文字列の状態
  const [name, setName] = useState('');
  
  // 真偽値の状態
  const [isVisible, setIsVisible] = useState(true);
  
  // 配列の状態
  const [items, setItems] = useState(['React', 'JavaScript']);
  
  // オブジェクトの状態
  const [user, setUser] = useState({
    name: '',
    email: '',
    age: 0
  });

  const addItem = () =&gt; {
    setItems([...items, `アイテム${items.length + 1}`]);
  };

  const updateUser = () =&gt; {
    setUser({
      ...user,
      name: 'John Doe',
      age: user.age + 1
    });
  };

  return (
    &lt;div&gt;
      &lt;input 
        value={name}
        onChange={(e) =&gt; setName(e.target.value)}
        placeholder="名前を入力"
      /&gt;
      &lt;p&gt;入力された名前: {name}&lt;/p&gt;
      
      &lt;button onClick={() =&gt; setIsVisible(!isVisible)}&gt;
        {isVisible ? '非表示' : '表示'}
      &lt;/button&gt;
      {isVisible &amp;&amp; &lt;p&gt;この文字が表示されています&lt;/p&gt;}
      
      &lt;button onClick={addItem}&gt;アイテム追加&lt;/button&gt;
      &lt;ul&gt;
        {items.map((item, index) =&gt; (
          &lt;li key={index}&gt;{item}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}</code>

                        <div class="exercise">
                            <h5>実習 8.3.1: ToDoリストコンポーネント</h5>
                            <ol>
                                <li>ToDo.jsx コンポーネントを作成</li>
                                <li>useState でタスクの配列を管理</li>
                                <li>新しいタスクを追加する機能</li>
                                <li>タスクを削除する機能を実装</li>
                            </ol>
                        </div>
                    </section>

                    <section id="useeffect-hook">
                        <h3 class="section-title">8.4 useEffect Hook</h3>
                        <p>useEffect Hookは、コンポーネントの副作用（side effect）を処理するために使用します。API呼び出し、DOM操作、タイマー設定などを行う際に使用します。</p>

                        <h4>useEffectの基本パターン</h4>
                        <code>import { useState, useEffect } from 'react';

function EffectExample() {
  const [count, setCount] = useState(0);
  const [data, setData] = useState(null);

  // 1. 毎回実行される（依存配列なし）
  useEffect(() =&gt; {
    console.log('コンポーネントがレンダリングされました');
  });

  // 2. 初回のみ実行される（空の依存配列）
  useEffect(() =&gt; {
    console.log('コンポーネントがマウントされました');
    
    // クリーンアップ関数（アンマウント時に実行）
    return () =&gt; {
      console.log('コンポーネントがアンマウントされます');
    };
  }, []);

  // 3. 特定の値が変更されたときのみ実行
  useEffect(() =&gt; {
    document.title = `カウント: ${count}`;
  }, [count]);

  return (
    &lt;div&gt;
      &lt;p&gt;Count: {count}&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;増加&lt;/button&gt;
    &lt;/div&gt;
  );
}</code>

                        <h4>API呼び出しの実践例</h4>
                        <code>function UserProfile() {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() =&gt; {
    const fetchUser = async () =&gt; {
      try {
        setLoading(true);
        const response = await fetch('https://jsonplaceholder.typicode.com/users/1');
        if (!response.ok) {
          throw new Error('データの取得に失敗しました');
        }
        const userData = await response.json();
        setUser(userData);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchUser();
  }, []);

  if (loading) return &lt;p&gt;読み込み中...&lt;/p&gt;;
  if (error) return &lt;p&gt;エラー: {error}&lt;/p&gt;;

  return (
    &lt;div&gt;
      &lt;h2&gt;ユーザープロフィール&lt;/h2&gt;
      &lt;p&gt;名前: {user?.name}&lt;/p&gt;
      &lt;p&gt;メール: {user?.email}&lt;/p&gt;
      &lt;p&gt;電話: {user?.phone}&lt;/p&gt;
    &lt;/div&gt;
  );
}</code>

                        <div class="exercise">
                            <h5>実習 8.4.1: 現在時刻表示コンポーネント</h5>
                            <ol>
                                <li>Clock.jsx コンポーネントを作成</li>
                                <li>useEffect で1秒ごとに時刻を更新</li>
                                <li>setInterval を使用してタイマーを設定</li>
                                <li>クリーンアップ関数でタイマーを削除</li>
                            </ol>
                        </div>
                    </section>

                    <section id="props-component">
                        <h3 class="section-title">8.5 コンポーネント分割とProps</h3>
                        <p>Propsは、親コンポーネントから子コンポーネントにデータを渡すための仕組みです。コンポーネントを再利用可能にし、アプリケーションの構造を整理できます。</p>

                        <h4>Propsの基本的な使い方</h4>
                        <code>// 子コンポーネント
function Card({ title, content, isHighlighted = false }) {
  return (
    &lt;div className={`card ${isHighlighted ? 'highlighted' : ''}`}&gt;
      &lt;h3&gt;{title}&lt;/h3&gt;
      &lt;p&gt;{content}&lt;/p&gt;
    &lt;/div&gt;
  );
}

// 親コンポーネント
function App() {
  const articles = [
    { id: 1, title: 'React入門', content: 'Reactの基本を学びます' },
    { id: 2, title: 'Hooks活用', content: 'useStateとuseEffectを使います' },
    { id: 3, title: '状態管理', content: 'アプリケーション状態を管理します' }
  ];

  return (
    &lt;div&gt;
      &lt;h1&gt;記事一覧&lt;/h1&gt;
      {articles.map(article =&gt; (
        &lt;Card
          key={article.id}
          title={article.title}
          content={article.content}
          isHighlighted={article.id === 1}
        /&gt;
      ))}
    &lt;/div&gt;
  );
}</code>

                        <h4>コンポーネント間のデータフロー</h4>
                        <code>// 子コンポーネントから親にデータを送る（callback関数）
function ChildComponent({ onItemClick }) {
  const items = ['Apple', 'Banana', 'Orange'];

  return (
    &lt;ul&gt;
      {items.map((item, index) =&gt; (
        &lt;li 
          key={index} 
          onClick={() =&gt; onItemClick(item)}
          style={{ cursor: 'pointer' }}
        &gt;
          {item}
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}

function ParentComponent() {
  const [selectedItem, setSelectedItem] = useState('');

  const handleItemClick = (item) =&gt; {
    setSelectedItem(item);
  };

  return (
    &lt;div&gt;
      &lt;h2&gt;選択された果物: {selectedItem}&lt;/h2&gt;
      &lt;ChildComponent onItemClick={handleItemClick} /&gt;
    &lt;/div&gt;
  );
}</code>

                        <div class="diagram">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 300" width="600" height="300">
                                <!-- Parent Component -->
                                <rect x="200" y="30" width="200" height="80" fill="#2196f3" stroke="#1976d2" stroke-width="2" rx="5" />
                                <text x="300" y="60" text-anchor="middle" font-size="14" fill="white" font-weight="bold">Parent Component</text>
                                <text x="300" y="80" text-anchor="middle" font-size="12" fill="white">state: { data, setData }</text>
                                
                                <!-- Child Components -->
                                <rect x="50" y="180" width="140" height="60" fill="#4caf50" stroke="#388e3c" stroke-width="2" rx="5" />
                                <text x="120" y="205" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Child A</text>
                                <text x="120" y="220" text-anchor="middle" font-size="10" fill="white">props: { data }</text>
                                
                                <rect x="220" y="180" width="140" height="60" fill="#4caf50" stroke="#388e3c" stroke-width="2" rx="5" />
                                <text x="290" y="205" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Child B</text>
                                <text x="290" y="220" text-anchor="middle" font-size="10" fill="white">props: { onEvent }</text>
                                
                                <rect x="390" y="180" width="140" height="60" fill="#4caf50" stroke="#388e3c" stroke-width="2" rx="5" />
                                <text x="460" y="205" text-anchor="middle" font-size="12" fill="white" font-weight="bold">Child C</text>
                                <text x="460" y="220" text-anchor="middle" font-size="10" fill="white">props: { data, onEvent }</text>
                                
                                <!-- Props flow down -->
                                <line x1="250" y1="110" x2="120" y2="180" stroke="#ff9800" stroke-width="3" marker-end="url(#arrowOrange)" />
                                <line x1="300" y1="110" x2="290" y2="180" stroke="#ff9800" stroke-width="3" marker-end="url(#arrowOrange)" />
                                <line x1="350" y1="110" x2="460" y2="180" stroke="#ff9800" stroke-width="3" marker-end="url(#arrowOrange)" />
                                
                                <!-- Callbacks up -->
                                <line x1="290" y1="180" x2="320" y2="110" stroke="#e91e63" stroke-width="2" marker-end="url(#arrowPink)" stroke-dasharray="5,5" />
                                <line x1="460" y1="180" x2="380" y2="110" stroke="#e91e63" stroke-width="2" marker-end="url(#arrowPink)" stroke-dasharray="5,5" />
                                
                                <!-- Labels -->
                                <text x="180" y="145" font-size="11" fill="#ff9800" font-weight="bold">Props Down</text>
                                <text x="380" y="145" font-size="11" fill="#e91e63" font-weight="bold">Events Up</text>
                                
                                <defs>
                                    <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                        <path d="M0,0 L0,6 L9,3 z" fill="#ff9800" />
                                    </marker>
                                    <marker id="arrowPink" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                        <path d="M0,0 L0,6 L9,3 z" fill="#e91e63" />
                                    </marker>
                                </defs>
                            </svg>
                            <p class="text-center">図8.2: Reactコンポーネントのデータフロー（Props Down, Events Up）</p>
                        </div>

                        <div class="exercise">
                            <h5>実習 8.5.1: 再利用可能なコンポーネント作成</h5>
                            <ol>
                                <li>Button.jsx コンポーネントを作成（label, color, onClickをpropsで受け取る）</li>
                                <li>Modal.jsx コンポーネントを作成（title, isOpen, onCloseをpropsで受け取る）</li>
                                <li>親コンポーネントでそれらを組み合わせて使用</li>
                                <li>異なるpropsで複数のボタンとモーダルを表示</li>
                            </ol>
                        </div>
                    </section>

                    <section id="mini-project">
                        <h3 class="section-title">8.6 ミニプロジェクト：カウンター & API検索アプリ</h3>
                        <p>これまで学んだReactの概念を統合して、実用的なアプリケーションを構築します。カウンター機能とAPI検索機能を組み合わせたアプリを作成しましょう。</p>

                        <h4>プロジェクト構成</h4>
                        <code>src/
├── components/
│   ├── Counter.jsx
│   ├── UserSearch.jsx
│   ├── UserCard.jsx
│   └── LoadingSpinner.jsx
├── App.jsx
├── App.css
└── main.jsx</code>

                        <h4>メインアプリケーション</h4>
                        <code>// App.jsx
import { useState } from 'react';
import Counter from './components/Counter';
import UserSearch from './components/UserSearch';
import './App.css';

function App() {
  const [activeTab, setActiveTab] = useState('counter');

  return (
    &lt;div className="app"&gt;
      &lt;header className="app-header"&gt;
        &lt;h1&gt;React ミニアプリ&lt;/h1&gt;
        &lt;nav&gt;
          &lt;button 
            className={activeTab === 'counter' ? 'active' : ''}
            onClick={() =&gt; setActiveTab('counter')}
          &gt;
            カウンター
          &lt;/button&gt;
          &lt;button 
            className={activeTab === 'search' ? 'active' : ''}
            onClick={() =&gt; setActiveTab('search')}
          &gt;
            ユーザー検索
          &lt;/button&gt;
        &lt;/nav&gt;
      &lt;/header&gt;
      
      &lt;main className="app-main"&gt;
        {activeTab === 'counter' &amp;&amp; &lt;Counter /&gt;}
        {activeTab === 'search' &amp;&amp; &lt;UserSearch /&gt;}
      &lt;/main&gt;
    &lt;/div&gt;
  );
}

export default App;</code>

                        <h4>カウンターコンポーネント</h4>
                        <code>// components/Counter.jsx
import { useState, useEffect } from 'react';

function Counter() {
  const [count, setCount] = useState(0);
  const [step, setStep] = useState(1);
  const [history, setHistory] = useState([0]);

  useEffect(() =&gt; {
    document.title = `カウンター: ${count}`;
  }, [count]);

  const increment = () =&gt; {
    const newCount = count + step;
    setCount(newCount);
    setHistory([...history, newCount]);
  };

  const decrement = () =&gt; {
    const newCount = count - step;
    setCount(newCount);
    setHistory([...history, newCount]);
  };

  const reset = () =&gt; {
    setCount(0);
    setHistory([0]);
  };

  const undo = () =&gt; {
    if (history.length &gt; 1) {
      const newHistory = history.slice(0, -1);
      setHistory(newHistory);
      setCount(newHistory[newHistory.length - 1]);
    }
  };

  return (
    &lt;div className="counter"&gt;
      &lt;h2&gt;スマートカウンター&lt;/h2&gt;
      &lt;div className="counter-display"&gt;
        &lt;span className="count-value"&gt;{count}&lt;/span&gt;
      &lt;/div&gt;
      
      &lt;div className="step-control"&gt;
        &lt;label&gt;
          ステップ: 
          &lt;input 
            type="number" 
            value={step} 
            onChange={(e) =&gt; setStep(Number(e.target.value))}
            min="1"
          /&gt;
        &lt;/label&gt;
      &lt;/div&gt;
      
      &lt;div className="counter-buttons"&gt;
        &lt;button onClick={decrement}&gt;-{step}&lt;/button&gt;
        &lt;button onClick={increment}&gt;+{step}&lt;/button&gt;
        &lt;button onClick={reset}&gt;リセット&lt;/button&gt;
        &lt;button onClick={undo} disabled={history.length &lt;= 1}&gt;
          元に戻す
        &lt;/button&gt;
      &lt;/div&gt;
      
      &lt;div className="history"&gt;
        &lt;h3&gt;履歴&lt;/h3&gt;
        &lt;div className="history-list"&gt;
          {history.slice(-10).map((value, index) =&gt; (
            &lt;span key={index} className="history-item"&gt;
              {value}
            &lt;/span&gt;
          ))}
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default Counter;</code>

                        <h4>ユーザー検索コンポーネント</h4>
                        <code>// components/UserSearch.jsx
import { useState } from 'react';
import UserCard from './UserCard';
import LoadingSpinner from './LoadingSpinner';

function UserSearch() {
  const [searchTerm, setSearchTerm] = useState('');
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const searchUsers = async () =&gt; {
    if (!searchTerm.trim()) return;
    
    try {
      setLoading(true);
      setError(null);
      
      const response = await fetch('https://jsonplaceholder.typicode.com/users');
      const allUsers = await response.json();
      
      // 名前で検索フィルタリング
      const filteredUsers = allUsers.filter(user =&gt;
        user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
        user.username.toLowerCase().includes(searchTerm.toLowerCase())
      );
      
      setUsers(filteredUsers);
    } catch (err) {
      setError('検索中にエラーが発生しました');
    } finally {
      setLoading(false);
    }
  };

  const handleSubmit = (e) =&gt; {
    e.preventDefault();
    searchUsers();
  };

  return (
    &lt;div className="user-search"&gt;
      &lt;h2&gt;ユーザー検索&lt;/h2&gt;
      
      &lt;form onSubmit={handleSubmit} className="search-form"&gt;
        &lt;input
          type="text"
          value={searchTerm}
          onChange={(e) =&gt; setSearchTerm(e.target.value)}
          placeholder="ユーザー名を入力..."
          className="search-input"
        /&gt;
        &lt;button type="submit" disabled={loading}&gt;
          検索
        &lt;/button&gt;
      &lt;/form&gt;
      
      {loading &amp;&amp; &lt;LoadingSpinner /&gt;}
      {error &amp;&amp; &lt;div className="error"&gt;{error}&lt;/div&gt;}
      
      &lt;div className="user-results"&gt;
        {users.length &gt; 0 ? (
          users.map(user =&gt; (
            &lt;UserCard key={user.id} user={user} /&gt;
          ))
        ) : (
          !loading &amp;&amp; searchTerm &amp;&amp; (
            &lt;p&gt;検索結果が見つかりませんでした&lt;/p&gt;
          )
        )}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default UserSearch;</code>

                        <div class="exercise">
                            <h5>実習 8.6.1: ミニプロジェクト完成</h5>
                            <ol>
                                <li>上記のコンポーネントをすべて作成</li>
                                <li>UserCard.jsx と LoadingSpinner.jsx コンポーネントを自分で設計・実装</li>
                                <li>CSS でスタイリングを追加</li>
                                <li>検索機能やカウンター機能を拡張</li>
                            </ol>
                        </div>
                    </section>

                    <section id="chapter8-quiz">
                        <h3 class="section-title">8.7 理解度確認テスト</h3>
                        <div class="quiz-container">
                            <h4>第8章の理解度チェック</h4>
                            <p>以下の問題に答えて、第8章の内容の理解度を確認しましょう。</p>
                            
                            <div class="quiz-question">
                                <p><strong>問題1:</strong> JSXの記法として正しくないものはどれですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" id="q1a" value="a">
                                    <label class="form-check-label" for="q1a">
                                        &lt;div className="container"&gt;&lt;/div&gt;
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" id="q1b" value="b">
                                    <label class="form-check-label" for="q1b">
                                        &lt;img src="image.jpg" /&gt;
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" id="q1c" value="c">
                                        <label class="form-check-label" for="q1c">
                                        &lt;div class="container"&gt;&lt;/div&gt;
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" id="q1d" value="d">
                                        <label class="form-check-label" for="q1d">
                                        &lt;p&gt;{name}&lt;/p&gt;
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題2:</strong> useStateで配列の状態を更新する正しい方法はどれですか？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2a" value="a">
                                    <label class="form-check-label" for="q2a">
                                        items.push(newItem)
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2b" value="b">
                                    <label class="form-check-label" for="q2b">
                                        setItems([...items, newItem])
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2c" value="c">
                                        <label class="form-check-label" for="q2c">
                                        setItems(items.push(newItem))
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" id="q2d" value="d">
                                        <label class="form-check-label" for="q2d">
                                        items = [...items, newItem]
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題3:</strong> useEffectで初回のみ実行したい場合の依存配列は？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" id="q3a" value="a">
                                    <label class="form-check-label" for="q3a">
                                        依存配列を書かない
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" id="q3b" value="b">
                                    <label class="form-check-label" for="q3b">
                                        []（空の配列）
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" id="q3c" value="c">
                                        <label class="form-check-label" for="q3c">
                                        [null]
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" id="q3d" value="d">
                                        <label class="form-check-label" for="q3d">
                                        [true]
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題4:</strong> 親コンポーネントから子コンポーネントにデータを渡す仕組みは？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4a" value="a">
                                    <label class="form-check-label" for="q4a">
                                        State
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4b" value="b">
                                    <label class="form-check-label" for="q4b">
                                        Props
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4c" value="c">
                                        <label class="form-check-label" for="q4c">
                                        Hooks
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" id="q4d" value="d">
                                        <label class="form-check-label" for="q4d">
                                        Context
                                    </label>
                                </div>
                            </div>
                            
                            <div class="quiz-question">
                                <p><strong>問題5:</strong> Reactコンポーネントの命名規則として正しいものは？</p>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5a" value="a">
                                    <label class="form-check-label" for="q5a">
                                        camelCase（例：myComponent）
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5b" value="b">
                                    <label class="form-check-label" for="q5b">
                                        PascalCase（例：MyComponent）
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5c" value="c">
                                        <label class="form-check-label" for="q5c">
                                        snake_case（例：my_component）
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q5" id="q5d" value="d">
                                        <label class="form-check-label" for="q5d">
                                        kebab-case（例：my-component）
                                    </label>
                                </div>
                            </div>
                            
                            <button class="btn btn-primary mt-3" id="checkAnswers">回答を確認</button>
                            <div id="quizResults" class="mt-3 d-none">
                                <div class="alert alert-success">
                                    <h5>正解:</h5>
                                    <ol>
                                        <li>c（&lt;div class="container"&gt;&lt;/div&gt; - classNameを使う必要がある）</li>
                                        <li>b（setItems([...items, newItem]) - イミュータブルな更新）</li>
                                        <li>b（[]（空の配列） - 初回のみ実行）</li>
                                        <li>b（Props - 親から子へのデータ受け渡し）</li>
                                        <li>b（PascalCase（例：MyComponent） - React慣例）</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="next-steps">
                        <h3 class="section-title">次のステップ</h3>
                        <p>お疲れさまでした！この章では、Reactの基本概念を学び、実践的なアプリケーションを構築しました。関数コンポーネント、Hooks、状態管理、コンポーネント間の通信など、モダンなReact開発の基礎を習得できました。</p>
                        
                        <div class="note">
                            <h5>第8章で習得したスキル</h5>
                            <ul>
                                <li>Reactプロジェクトのセットアップ（Vite使用）</li>
                                <li>JSXを使った宣言的なUI記述</li>
                                <li>useState Hookによる状態管理</li>
                                <li>useEffect Hookによる副作用処理</li>
                                <li>Propsを使ったコンポーネント間通信</li>
                                <li>再利用可能なコンポーネントの設計</li>
                                <li>実践的なアプリケーションの構築</li>
                            </ul>
                        </div>

                        <p>次の第9章では、学習の総まとめとして卒業プロジェクトに取り組みます。これまで学んだすべての技術を統合して、本格的なWebアプリケーションを自力で設計・実装していきます。</p>
                        
                        <div class="react-feature">
                            <h5>さらなる学習のために</h5>
                            <p>Reactの理解を深めるために、以下のトピックも学習することをお勧めします：</p>
                            <ul>
                                <li><strong>React Router</strong>：シングルページアプリケーションでのルーティング</li>
                                <li><strong>Context API</strong>：グローバル状態管理</li>
                                <li><strong>useReducer Hook</strong>：複雑な状態管理</li>
                                <li><strong>カスタムHooks</strong>：ロジックの再利用</li>
                                <li><strong>React Testing Library</strong>：コンポーネントのテスト</li>
                            </ul>
                        </div>

                        <div class="exercise">
                            <h5>第9章に向けた準備</h5>
                            <p>卒業プロジェクトに向けて、以下を準備してください：</p>
                            <ol>
                                <li>作りたいアプリケーションのアイデアを考える</li>
                                <li>使用したい外部APIを調査する</li>
                                <li>プロジェクトの機能要件を整理する</li>
                                <li>GitHubアカウントの準備</li>
                            </ol>
                        </div>
                    </section>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center py-4">
        <div class="container">
            <p class="mb-0">Copyright © 2025 F-Circle All rights reserved.</p>
        </div>
    </footer>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 理解度テストの回答確認ボタンの処理
        document.getElementById('checkAnswers').addEventListener('click', function() {
            document.getElementById('quizResults').classList.remove('d-none');
        });
    </script>
</body>
</html>