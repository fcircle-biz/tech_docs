<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP学習教材 第5章 - 配列と連想配列</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <style>
        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ナビゲーション */
        .navbar {
            background-color: #9c27b0;
        }

        /* サイドバー */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        /* タイトル */
        .chapter-title {
            color: #9c27b0;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #9c27b0;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ba68c8;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* コンテンツボックス */
        .quiz-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        /* ナビゲーション */
        .nav-link.active {
            background-color: #9c27b0 !important;
            color: white !important;
        }

        /* コードハイライト */
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">PHP学習ガイド</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="README.md">ガイドTOP</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        学習コンテンツ
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-1.html">第1章: PHP基礎とセットアップ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-2.html">第2章: 変数とデータ型</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-3.html">第3章: 制御構造</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-4.html">第4章: 関数</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="php-learning-material-5.html">第5章: 配列と連想配列</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-6.html">第6章: オブジェクト指向プログラミング</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-7.html">第7章: ファイル操作とフォーム処理</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-8.html">第8章: データベース連携</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-9.html">第9章: セッション管理とセキュリティ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="php-learning-material-10.html">第10章: 実践的なWebアプリケーション開発</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- 章ヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第5章: 配列と連想配列</h1>
                </div>

                <div id="chapter5">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">複数のデータを効率的に管理する</h2>
                    
                    <!-- 学習目標（必須） -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>配列とは何か、なぜ必要なのかを理解する</li>
                            <li>配列の作成、アクセス、変更方法</li>
                            <li>連想配列（キーと値のペア）の使い方</li>
                            <li>多次元配列の概念と操作</li>
                            <li>foreach文による配列の繰り返し処理</li>
                            <li>便利な配列関数の活用</li>
                        </ul>
                    </div>

                    <!-- セクション1 -->
                    <h3 class="section-title">5.1 配列とは</h3>
                    <p>配列は、複数の値を一つの変数にまとめて格納できるデータ構造です。関連するデータを効率的に管理するために使用されます。</p>
                    
                    <h4>配列の利点</h4>
                    <ul>
                        <li><strong>データの整理</strong>: 関連するデータを一箇所にまとめられる</li>
                        <li><strong>効率的な処理</strong>: 繰り返し処理で大量のデータを扱える</li>
                        <li><strong>保守性</strong>: データの追加や削除が容易</li>
                    </ul>

                    <h4>配列の基本的な作成</h4>
                    <pre class="code-block"><code class="language-php">&lt;?php
// 方法1: array()関数を使用
$fruits = array("りんご", "バナナ", "オレンジ");

// 方法2: 短縮記法（PHP 5.4以降）
$colors = ["赤", "青", "緑"];

// 空の配列
$empty = [];

// 配列の要素にアクセス（インデックスは0から始まる）
echo $fruits[0];  // りんご
echo $fruits[1];  // バナナ
echo $fruits[2];  // オレンジ</code></pre>

                    <!-- セクション2 -->
                    <h3 class="section-title">5.2 配列の操作</h3>
                    
                    <h4>要素の追加</h4>
                    <pre class="code-block"><code class="language-php">&lt;?php
$numbers = [1, 2, 3];

// 末尾に追加
$numbers[] = 4;
array_push($numbers, 5, 6);

// 先頭に追加
array_unshift($numbers, 0);

print_r($numbers);  // [0, 1, 2, 3, 4, 5, 6]</code></pre>

                    <h4>要素の削除</h4>
                    <pre class="code-block"><code class="language-php">&lt;?php
$animals = ["犬", "猫", "鳥", "魚"];

// 末尾の要素を削除
$last = array_pop($animals);     // "魚"が削除され、$lastに格納

// 先頭の要素を削除
$first = array_shift($animals);  // "犬"が削除され、$firstに格納

// 特定のインデックスの要素を削除
unset($animals[0]);             // "猫"を削除

print_r($animals);  // [1 => "鳥"]</code></pre>

                    <!-- 実習1 -->
                    <div class="exercise-container">
                        <h5>実習 5-1: 学生の成績管理</h5>
                        <p>配列を使って学生の成績を管理するプログラムを作成しましょう。</p>
                        
                        <h6>実行例</h6>
                        <pre class="code-block"><code class="language-php">&lt;?php
// 学生名の配列
$students = ["田中", "佐藤", "鈴木", "高橋", "渡辺"];

// 各学生の数学の成績
$mathScores = [85, 92, 78, 88, 95];

// 各学生の英語の成績
$englishScores = [78, 85, 90, 82, 88];

echo "&lt;h2&gt;学生成績一覧&lt;/h2&gt;";
echo "&lt;table border='1' style='border-collapse: collapse; width: 100%;'&gt;";
echo "&lt;tr&gt;&lt;th&gt;学生名&lt;/th&gt;&lt;th&gt;数学&lt;/th&gt;&lt;th&gt;英語&lt;/th&gt;&lt;th&gt;合計&lt;/th&gt;&lt;th&gt;平均&lt;/th&gt;&lt;/tr&gt;";

$totalMath = 0;
$totalEnglish = 0;

for ($i = 0; $i &lt; count($students); $i++) {
    $total = $mathScores[$i] + $englishScores[$i];
    $average = $total / 2;
    
    $totalMath += $mathScores[$i];
    $totalEnglish += $englishScores[$i];
    
    echo "&lt;tr&gt;";
    echo "&lt;td&gt;{$students[$i]}&lt;/td&gt;";
    echo "&lt;td&gt;{$mathScores[$i]}&lt;/td&gt;";
    echo "&lt;td&gt;{$englishScores[$i]}&lt;/td&gt;";
    echo "&lt;td&gt;{$total}&lt;/td&gt;";
    echo "&lt;td&gt;" . round($average, 1) . "&lt;/td&gt;";
    echo "&lt;/tr&gt;";
}

echo "&lt;/table&gt;";

// 統計情報
$classSize = count($students);
$avgMath = $totalMath / $classSize;
$avgEnglish = $totalEnglish / $classSize;

echo "&lt;h3&gt;クラス統計&lt;/h3&gt;";
echo "&lt;p&gt;生徒数: {$classSize}人&lt;/p&gt;";
echo "&lt;p&gt;数学平均: " . round($avgMath, 1) . "点&lt;/p&gt;";
echo "&lt;p&gt;英語平均: " . round($avgEnglish, 1) . "点&lt;/p&gt;";</code></pre>
                        
                        <h6>期待される結果</h6>
                        <p>学生の成績がテーブル形式で表示され、クラス全体の統計情報も表示されます。</p>
                    </div>

                    <!-- セクション3 -->
                    <h3 class="section-title">5.3 連想配列</h3>
                    <p>連想配列は、数値インデックスの代わりに文字列キーを使用する配列です。</p>
                    
                    <h4>連想配列の基本</h4>
                    <pre class="code-block"><code class="language-php">&lt;?php
// 連想配列の作成
$person = [
    "name" => "田中太郎",
    "age" => 25,
    "city" => "東京",
    "email" => "tanaka@example.com"
];

// 要素にアクセス
echo $person["name"];  // 田中太郎
echo $person["age"];   // 25

// 新しい要素を追加
$person["phone"] = "090-1234-5678";

// 要素の変更
$person["age"] = 26;</code></pre>

                    <h4>連想配列の繰り返し処理</h4>
                    <pre class="code-block"><code class="language-php">&lt;?php
$product = [
    "name" => "ノートパソコン",
    "price" => 89800,
    "brand" => "TechCorp",
    "color" => "シルバー"
];

echo "&lt;h3&gt;商品情報&lt;/h3&gt;";
foreach ($product as $key => $value) {
    echo "&lt;p&gt;{$key}: {$value}&lt;/p&gt;";
}</code></pre>

                    <!-- セクション4 -->
                    <h3 class="section-title">5.4 多次元配列</h3>
                    <p>多次元配列は、配列の中に配列を格納した構造です。</p>
                    
                    <h4>2次元配列の例</h4>
                    <pre class="code-block"><code class="language-php">&lt;?php
// 学生の詳細情報
$students = [
    [
        "name" => "田中",
        "math" => 85,
        "english" => 78
    ],
    [
        "name" => "佐藤",
        "math" => 92,
        "english" => 85
    ],
    [
        "name" => "鈴木",
        "math" => 78,
        "english" => 90
    ]
];

// アクセス方法
echo $students[0]["name"];   // 田中
echo $students[0]["math"];   // 85

// 繰り返し処理
foreach ($students as $student) {
    echo "{$student['name']}: 数学{$student['math']}点, 英語{$student['english']}点&lt;br&gt;";
}</code></pre>

                    <!-- 実習2 -->
                    <div class="exercise-container">
                        <h5>実習 5-2: 商品管理システム</h5>
                        <p>連想配列と多次元配列を使って商品管理システムを作成しましょう。</p>
                        
                        <h6>実行例</h6>
                        <pre class="code-block"><code class="language-php">&lt;?php
// 商品データベース
$products = [
    [
        "id" => 1,
        "name" => "ノートパソコン",
        "price" => 89800,
        "category" => "電子機器",
        "stock" => 15
    ],
    [
        "id" => 2,
        "name" => "マウス",
        "price" => 2500,
        "category" => "電子機器",
        "stock" => 50
    ],
    [
        "id" => 3,
        "name" => "デスクチェア",
        "price" => 19800,
        "category" => "家具",
        "stock" => 8
    ],
    [
        "id" => 4,
        "name" => "コーヒーメーカー",
        "price" => 12800,
        "category" => "家電",
        "stock" => 12
    ]
];

// 商品一覧表示
echo "&lt;h2&gt;商品一覧&lt;/h2&gt;";
echo "&lt;table border='1' style='border-collapse: collapse; width: 100%;'&gt;";
echo "&lt;tr&gt;&lt;th&gt;ID&lt;/th&gt;&lt;th&gt;商品名&lt;/th&gt;&lt;th&gt;価格&lt;/th&gt;&lt;th&gt;カテゴリー&lt;/th&gt;&lt;th&gt;在庫&lt;/th&gt;&lt;/tr&gt;";

foreach ($products as $product) {
    echo "&lt;tr&gt;";
    echo "&lt;td&gt;{$product['id']}&lt;/td&gt;";
    echo "&lt;td&gt;{$product['name']}&lt;/td&gt;";
    echo "&lt;td&gt;¥" . number_format($product['price']) . "&lt;/td&gt;";
    echo "&lt;td&gt;{$product['category']}&lt;/td&gt;";
    echo "&lt;td&gt;{$product['stock']}&lt;/td&gt;";
    echo "&lt;/tr&gt;";
}

echo "&lt;/table&gt;";

// カテゴリー別統計
$categories = [];
foreach ($products as $product) {
    $cat = $product['category'];
    if (!isset($categories[$cat])) {
        $categories[$cat] = [
            'count' => 0,
            'total_value' => 0
        ];
    }
    $categories[$cat]['count']++;
    $categories[$cat]['total_value'] += $product['price'] * $product['stock'];
}

echo "&lt;h3&gt;カテゴリー別統計&lt;/h3&gt;";
foreach ($categories as $category => $data) {
    echo "&lt;p&gt;{$category}: {$data['count']}商品, 総価値¥" . number_format($data['total_value']) . "&lt;/p&gt;";
}</code></pre>
                        
                        <h6>期待される結果</h6>
                        <p>商品一覧がテーブル形式で表示され、カテゴリー別の統計情報も表示されます。</p>
                    </div>

                    <!-- セクション5 -->
                    <h3 class="section-title">5.5 配列の便利な関数</h3>
                    
                    <h4>配列の情報を取得する関数</h4>
                    <pre class="code-block"><code class="language-php">&lt;?php
$fruits = ["りんご", "バナナ", "オレンジ"];

echo count($fruits);              // 配列の要素数: 3
echo array_sum([1, 2, 3, 4, 5]);  // 要素の合計: 15

// 配列に値が存在するかチェック
if (in_array("りんご", $fruits)) {
    echo "りんごが見つかりました";
}

// キーが存在するかチェック
$person = ["name" => "田中", "age" => 25];
if (array_key_exists("name", $person)) {
    echo "nameキーが存在します";
}</code></pre>

                    <h4>配列の操作関数</h4>
                    <pre class="code-block"><code class="language-php">&lt;?php
$numbers = [3, 1, 4, 1, 5, 9, 2, 6];

// ソート
sort($numbers);          // 昇順ソート
rsort($numbers);         // 降順ソート

// 配列の結合
$joined = implode(", ", $numbers);  // 文字列として結合

// 文字列を配列に分割
$colors = explode(",", "赤,青,緑");

// 配列のフィルタリング
$evenNumbers = array_filter($numbers, function($n) {
    return $n % 2 == 0;
});</code></pre>

                    <!-- 理解度確認（必須） -->
                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>配列のインデックスは何番から始まりますか？</li>
                            <li>連想配列と通常の配列の違いを説明してください。</li>
                            <li>配列の要素数を取得する関数は何ですか？</li>
                            <li>foreach文を使った配列の繰り返し処理の基本構文を書いてください。</li>
                            <li>多次元配列から特定の要素にアクセスする方法を例を挙げて説明してください。</li>
                        </ol>
                    </div>

                    <!-- 章間ナビゲーション（必須） -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="php-learning-material-4.html" class="btn btn-secondary">← 前の章: 関数</a>
                        <a href="php-learning-material-6.html" class="btn btn-primary">次の章: オブジェクト指向プログラミング →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
</body>
</html>