<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UML学習教材 第2章 - クラス図の基礎</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        
        .navbar {
            background-color: #2c3e50;
        }
        
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        
        .chapter-title {
            color: #2c3e50;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #2c3e50;
            padding-bottom: 0.5rem;
        }
        
        .section-title {
            color: #34495e;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        
        .quiz-container {
            background-color: #e8f4f8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #2c3e50;
        }
        
        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }
        
        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }
        
        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }
        
        .code-block {
            background-color: #1e1e1e;
            color: white;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .nav-link.active {
            background-color: #2c3e50 !important;
            color: white !important;
        }
        
        .relationship-table {
            font-size: 0.9rem;
        }
        
        .concept-box {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #4caf50;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>UML学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-01.html">
                                第1章: UML入門と基本概念
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="uml-learning-material-02.html">
                                第2章: クラス図の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-03.html">
                                第3章: ユースケース図とアクター
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-04.html">
                                第4章: シーケンス図による相互作用モデリング
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-05.html">
                                第5章: アクティビティ図によるワークフロー設計
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-06.html">
                                第6章: ステートマシン図による状態遷移モデリング
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-07.html">
                                第7章: コンポーネント図とデプロイメント図
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-08.html">
                                第8章: その他の重要な図と高度な技法
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-09.html">
                                第9章: UMLツールの実践活用
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="uml-learning-material-10.html">
                                第10章: 実践的なシステム設計演習
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第2章: クラス図の基礎</h1>
                </div>

                <div id="chapter2">
                    <h2 class="chapter-title">オブジェクト指向設計の中核 - クラス図</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>オブジェクト指向プログラミングの基本概念とクラス図の関係</li>
                            <li>クラスの表記法と構成要素（属性、操作、可視性）</li>
                            <li>クラス間の関係性（関連、集約、コンポジション、継承）</li>
                            <li>多重度の表現方法と設計上の意味</li>
                            <li>インターフェースと抽象クラスのモデリング</li>
                            <li>実世界の問題をクラス図で表現する手法</li>
                        </ul>
                    </div>

                    <h3 class="section-title">2.1 クラス図とは何か</h3>
                    <p>クラス図（Class Diagram）は、UMLの構造図の中で最も重要で頻繁に使用される図です。システム内のクラス、それらの属性と操作、そしてクラス間の関係を視覚的に表現します。</p>
                    
                    <div class="concept-box">
                        <h6>なぜクラス図が重要なのか</h6>
                        <ul>
                            <li><strong>設計の青写真</strong>：プログラムの構造を事前に設計・確認できる</li>
                            <li><strong>チーム間の共通理解</strong>：開発者間で設計内容を共有しやすい</li>
                            <li><strong>保守性の向上</strong>：既存システムの構造を理解しやすい</li>
                            <li><strong>品質向上</strong>：設計段階で問題を発見・修正できる</li>
                        </ul>
                    </div>

                    <p>クラス図は、まるで建築の設計図のようなものです。家を建てる前に設計図を描くように、プログラムを作る前にクラス図を描くことで、効率的で品質の高いソフトウェアを開発できます。</p>

                    <h3 class="section-title">2.2 オブジェクト指向の基本概念</h3>
                    <p>クラス図を理解するには、まずオブジェクト指向プログラミングの基本概念を理解する必要があります。</p>

                    <h4>クラスとオブジェクト</h4>
                    <div class="concept-box">
                        <h6>身近な例で理解する</h6>
                        <p><strong>クラス</strong>は「設計図」や「型」のようなもので、<strong>オブジェクト</strong>はその設計図から作られた「実物」です。</p>
                        <ul>
                            <li><strong>クラス「自動車」</strong>：エンジン、タイヤ、ハンドルなどの基本設計</li>
                            <li><strong>オブジェクト「私の車」</strong>：実際の車（トヨタのプリウス、ナンバー「品川500あ1234」など）</li>
                        </ul>
                    </div>

                    <div class="mermaid">
                        classDiagram
                            class 自動車 {
                                -車種名 : String
                                -ナンバープレート : String
                                -燃料残量 : int
                                +走る() : void
                                +停止する() : void
                                +燃料を入れる(量 : int) : void
                            }
                            
                            class 私のプリウス {
                                &lt;&lt;object&gt;&gt;
                                車種名 = "トヨタ プリウス"
                                ナンバープレート = "品川500あ1234"
                                燃料残量 = 45
                            }
                            
                            自動車 <|.. 私のプリウス : インスタンス
                    </div>

                    <h4>カプセル化</h4>
                    <p>カプセル化は、データ（属性）とそれを操作するメソッド（操作）を一つにまとめ、外部から直接アクセスできないようにする概念です。</p>

                    <div class="concept-box">
                        <h6>ATMの例で理解する</h6>
                        <p>ATMを操作するとき、私たちは内部の複雑な仕組みを知る必要がありません。</p>
                        <ul>
                            <li><strong>隠蔽された内部処理</strong>：現金の管理、通信処理、セキュリティ機能</li>
                            <li><strong>公開されたインターフェース</strong>：画面、キーパッド、現金投入口</li>
                        </ul>
                    </div>

                    <h3 class="section-title">2.3 クラスの表記法</h3>
                    <p>UMLにおけるクラスは、3つの区画を持つ矩形で表現されます。</p>

                    <div class="mermaid">
                        classDiagram
                            class 銀行口座 {
                                -口座番号 : String
                                -口座名義 : String
                                -残高 : int
                                +入金(金額 : int) : void
                                +出金(金額 : int) : boolean
                                +残高照会() : int
                                -利息計算() : int
                            }
                    </div>

                    <h4>3つの区画の構成</h4>
                    <ol>
                        <li><strong>クラス名区画</strong>：クラス名を記述（必須）</li>
                        <li><strong>属性区画</strong>：クラスが持つデータを記述（省略可能）</li>
                        <li><strong>操作区画</strong>：クラスが実行できる処理を記述（省略可能）</li>
                    </ol>

                    <h4>可視性の記号</h4>
                    <p>属性や操作の前に付ける記号で、アクセス制御を表現します。</p>
                    
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>記号</th>
                                <th>可視性</th>
                                <th>説明</th>
                                <th>例</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>+</code></td>
                                <td>public</td>
                                <td>どこからでもアクセス可能</td>
                                <td>+getName() : String</td>
                            </tr>
                            <tr>
                                <td><code>-</code></td>
                                <td>private</td>
                                <td>同じクラス内からのみアクセス可能</td>
                                <td>-password : String</td>
                            </tr>
                            <tr>
                                <td><code>#</code></td>
                                <td>protected</td>
                                <td>同じクラスと継承したクラスからアクセス可能</td>
                                <td>#validateData() : boolean</td>
                            </tr>
                            <tr>
                                <td><code>~</code></td>
                                <td>package</td>
                                <td>同じパッケージ内からアクセス可能</td>
                                <td>~logMessage : String</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exercise-container">
                        <h5>実習 2-1: 基本的なクラス図の作成</h5>
                        <p>学生管理システムの「学生」クラスを設計してみましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li>draw.ioまたはPlantUMLを開く</li>
                            <li>以下の要件に基づいて「学生」クラスを作成する</li>
                            <li>適切な可視性を設定する</li>
                        </ol>
                        
                        <h6>要件</h6>
                        <ul>
                            <li><strong>属性</strong>：学籍番号（文字列）、氏名（文字列）、年齢（整数）、成績（実数）</li>
                            <li><strong>操作</strong>：成績を設定する、成績を取得する、学年を計算する</li>
                            <li><strong>可視性</strong>：学籍番号と成績は非公開、氏名は公開、操作は全て公開</li>
                        </ul>
                        
                        <h6>PlantUML例</h6>
                        <pre class="code-block"><code class="language-bash">@startuml
class 学生 {
    -学籍番号 : String
    +氏名 : String
    +年齢 : int
    -成績 : double
    +成績を設定する(点数 : double) : void
    +成績を取得する() : double
    +学年を計算する() : int
}
@enduml</code></pre>
                        
                        <h6>期待される結果</h6>
                        <p>学生クラスが適切な可視性で表示され、オブジェクト指向の基本原則に従った設計になっている。</p>
                    </div>

                    <h3 class="section-title">2.4 クラス間の関係性</h3>
                    <p>クラス図の真価は、クラス単体ではなく、クラス間の関係性を表現することにあります。UMLでは4つの主要な関係性を定義しています。</p>

                    <h4>関連（Association）</h4>
                    <p>関連は最も基本的な関係で、クラス間の「知り合い」関係を表します。</p>

                    <div class="mermaid">
                        classDiagram
                            class 学生 {
                                -学籍番号 : String
                                -氏名 : String
                            }
                            
                            class 授業 {
                                -授業コード : String
                                -授業名 : String
                            }
                            
                            学生 "0..*" -- "0..*" 授業 : 受講する
                    </div>

                    <div class="concept-box">
                        <h6>関連の特徴</h6>
                        <ul>
                            <li>実線で接続される</li>
                            <li>関係の名前を線上に記述できる</li>
                            <li>矢印で方向性を示せる</li>
                            <li>双方向関係が一般的</li>
                        </ul>
                    </div>

                    <h4>集約（Aggregation）</h4>
                    <p>集約は「全体と部分」の関係を表します。部分は全体がなくても独立して存在できます。</p>

                    <div class="mermaid">
                        classDiagram
                            class 大学 {
                                -大学名 : String
                                -設立年 : int
                            }
                            
                            class 学部 {
                                -学部名 : String
                                -学生数 : int
                            }
                            
                            大学 "1" o-- "1..*" 学部 : 含む
                    </div>

                    <div class="concept-box">
                        <h6>日常の例で理解する集約</h6>
                        <p><strong>大学と学部の関係</strong></p>
                        <ul>
                            <li>大学は複数の学部から構成される（全体と部分）</li>
                            <li>大学がなくなっても、学部は他の大学に移動できる</li>
                            <li>「弱い所有」関係</li>
                        </ul>
                    </div>

                    <h4>コンポジション（Composition）</h4>
                    <p>コンポジションは集約よりも強い「全体と部分」の関係です。部分は全体なしには存在できません。</p>

                    <div class="mermaid">
                        classDiagram
                            class 家 {
                                -住所 : String
                                -建築年 : int
                            }
                            
                            class 部屋 {
                                -部屋番号 : String
                                -広さ : double
                            }
                            
                            家 "1" *-- "1..*" 部屋 : 構成される
                    </div>

                    <div class="concept-box">
                        <h6>コンポジションの特徴</h6>
                        <ul>
                            <li>塗りつぶされた菱形で表現</li>
                            <li>「強い所有」関係</li>
                            <li>全体がなくなると部分も消失</li>
                            <li>部分は同時に複数の全体に属せない</li>
                        </ul>
                    </div>

                    <h4>継承（Inheritance/Generalization）</h4>
                    <p>継承は「is-a」関係を表し、親クラスの特徴を子クラスが引き継ぐ関係です。</p>

                    <div class="mermaid">
                        classDiagram
                            class 動物 {
                                -名前 : String
                                -年齢 : int
                                +鳴く() : void
                                +移動する() : void
                            }
                            
                            class 犬 {
                                -犬種 : String
                                +尻尾を振る() : void
                            }
                            
                            class 猫 {
                                -毛色 : String
                                +爪を研ぐ() : void
                            }
                            
                            動物 <|-- 犬
                            動物 <|-- 猫
                    </div>

                    <h3 class="section-title">2.5 多重度（Multiplicity）</h3>
                    <p>多重度は、関係に参加するオブジェクトの数を表します。これにより、ビジネスルールを正確に表現できます。</p>

                    <table class="table table-bordered relationship-table">
                        <thead>
                            <tr>
                                <th>多重度</th>
                                <th>意味</th>
                                <th>例</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>1</code></td>
                                <td>ちょうど1つ</td>
                                <td>1人の学生は1つの学籍番号を持つ</td>
                            </tr>
                            <tr>
                                <td><code>0..1</code></td>
                                <td>0個または1個</td>
                                <td>社員は0人または1人の上司を持つ</td>
                            </tr>
                            <tr>
                                <td><code>*</code></td>
                                <td>0個以上</td>
                                <td>部署は0人以上の社員を持つ</td>
                            </tr>
                            <tr>
                                <td><code>1..*</code></td>
                                <td>1個以上</td>
                                <td>注文は1個以上の商品を含む</td>
                            </tr>
                            <tr>
                                <td><code>2..5</code></td>
                                <td>2個以上5個以下</td>
                                <td>チームは2人以上5人以下のメンバーで構成</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exercise-container">
                        <h5>実習 2-2: 図書管理システムのクラス図</h5>
                        <p>図書館の図書管理システムをモデリングしてみましょう。</p>
                        
                        <h6>要件</h6>
                        <ul>
                            <li><strong>図書</strong>：ISBN、タイトル、著者、出版社、貸出状態</li>
                            <li><strong>会員</strong>：会員番号、氏名、住所、電話番号</li>
                            <li><strong>貸出記録</strong>：貸出日、返却予定日、返却日</li>
                            <li><strong>ルール</strong>：1人の会員は複数の図書を借りられる、1冊の図書は同時に1人だけが借りられる</li>
                        </ul>
                        
                        <h6>PlantUMLの例</h6>
                        <pre class="code-block"><code class="language-bash">@startuml
class 図書 {
    -ISBN : String
    -タイトル : String
    -著者 : String
    -出版社 : String
    -貸出状態 : boolean
    +貸出する() : boolean
    +返却する() : void
}

class 会員 {
    -会員番号 : String
    -氏名 : String
    -住所 : String
    -電話番号 : String
    +図書を借りる(図書) : boolean
}

class 貸出記録 {
    -貸出日 : Date
    -返却予定日 : Date
    -返却日 : Date
    +延滞チェック() : boolean
}

会員 "1" -- "0..*" 貸出記録 : 借りる
図書 "1" -- "0..*" 貸出記録 : 貸出される
@enduml</code></pre>
                    </div>

                    <h3 class="section-title">2.6 インターフェースと抽象クラス</h3>
                    <p>より高度な設計では、インターフェースと抽象クラスを活用します。</p>

                    <h4>インターフェース</h4>
                    <p>インターフェースは、クラスが実装すべきメソッドの「契約」を定義します。</p>

                    <div class="mermaid">
                        classDiagram
                            class Drawable {
                                &lt;&lt;interface&gt;&gt;
                                +draw() : void
                                +move(x : int, y : int) : void
                            }
                            
                            class 円 {
                                -半径 : double
                                -中心座標 : Point
                                +draw() : void
                                +move(x : int, y : int) : void
                            }
                            
                            class 四角形 {
                                -幅 : double
                                -高さ : double
                                +draw() : void
                                +move(x : int, y : int) : void
                            }
                            
                            Drawable <|.. 円 : 実装
                            Drawable <|.. 四角形 : 実装
                    </div>

                    <h4>抽象クラス</h4>
                    <p>抽象クラスは、共通の実装を持ちながら、一部のメソッドを子クラスで実装することを求めるクラスです。</p>

                    <div class="mermaid">
                        classDiagram
                            class 図形 {
                                &lt;&lt;abstract&gt;&gt;
                                #色 : String
                                #位置 : Point
                                +色を設定する(色 : String) : void
                                +移動する(x : int, y : int) : void
                                +面積を計算する() : double*
                            }
                            
                            class 円 {
                                -半径 : double
                                +面積を計算する() : double
                            }
                            
                            class 長方形 {
                                -幅 : double
                                -高さ : double
                                +面積を計算する() : double
                            }
                            
                            図形 <|-- 円
                            図形 <|-- 長方形
                    </div>

                    <div class="warning">
                        <h6>設計時の注意点</h6>
                        <ul>
                            <li><strong>過度な継承は避ける</strong>：深い継承階層は理解を困難にします</li>
                            <li><strong>インターフェースを活用</strong>：多重継承の代わりに複数のインターフェースを実装</li>
                            <li><strong>関係性を明確に</strong>：is-a関係かhas-a関係かを正しく判断する</li>
                            <li><strong>カプセル化を保つ</strong>：必要最小限の情報のみを公開する</li>
                        </ul>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>クラス図の3つの区画は何ですか？</li>
                            <li>可視性「private」を表す記号は何ですか？</li>
                            <li>集約とコンポジションの違いを説明してください。</li>
                            <li>多重度「1..*」の意味は何ですか？</li>
                            <li>継承関係を表す矢印の向きはどちら向きですか？</li>
                            <li>インターフェースと抽象クラスの主な違いは何ですか？</li>
                            <li>「学生」と「人間」の関係は、関連・集約・コンポジション・継承のどれですか？</li>
                        </ol>
                        
                        <h6>応用問題</h6>
                        <p>オンラインショッピングサイトにおいて、「顧客」「注文」「商品」「カート」の関係を適切な多重度とともにクラス図で表現してください。</p>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="uml-learning-material-01.html" class="btn btn-secondary">← 前の章</a>
                        <a href="uml-learning-material-03.html" class="btn btn-primary">次の章 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>