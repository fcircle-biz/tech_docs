<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UML学習教材 第9章 - UMLツールの実践活用</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; padding-top: 56px; }
        .navbar { background-color: #2c3e50; }
        .sidebar { position: sticky; top: 70px; height: calc(100vh - 70px); overflow-y: auto; }
        .chapter-title { color: #2c3e50; margin-top: 1.5rem; margin-bottom: 1rem; border-bottom: 2px solid #2c3e50; padding-bottom: 0.5rem; }
        .section-title { color: #34495e; margin-top: 1.2rem; margin-bottom: 0.8rem; }
        .quiz-container { background-color: #e8f4f8; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #2c3e50; }
        .exercise-container { background-color: #f3e5f5; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #9c27b0; }
        .highlight { background-color: #ffecb3; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #ffc107; }
        .warning { background-color: #ffebee; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #f44336; }
        .code-block { background-color: #1e1e1e; color: white; border-radius: 5px; padding: 1rem; margin: 1rem 0; }
        .nav-link.active { background-color: #2c3e50 !important; color: white !important; }
        .concept-box { background-color: #e8f5e8; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #4caf50; }
        .tool-comparison { background-color: #f8f9fa; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #6c757d; }
        .table-sm { font-size: 0.9rem; }
    </style>
</head>
<body>
    <!-- ナビゲーション -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand"><strong>UML学習教材</strong></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-1.html">第1章: UML入門と基本概念</a></li>
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-2.html">第2章: クラス図の基礎</a></li>
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-3.html">第3章: ユースケース図とアクター</a></li>
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-4.html">第4章: シーケンス図による相互作用モデリング</a></li>
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-5.html">第5章: アクティビティ図によるワークフロー設計</a></li>
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-6.html">第6章: ステートマシン図による状態遷移モデリング</a></li>
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-7.html">第7章: コンポーネント図とデプロイメント図</a></li>
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-8.html">第8章: その他の重要な図と高度な技法</a></li>
                        <li class="nav-item"><a class="nav-link active" href="uml-learning-material-9.html">第9章: UMLツールの実践活用</a></li>
                        <li class="nav-item"><a class="nav-link" href="uml-learning-material-10.html">第10章: 実践的なシステム設計演習</a></li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第9章: UMLツールの実践活用</h1>
                </div>

                <div id="chapter9">
                    <h2 class="chapter-title">効率的なモデリング環境の構築と活用</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>主要UMLツールの特徴と適用場面の比較</li>
                            <li>PlantUMLによるテキストベースモデリングの実践</li>
                            <li>Visual Paradigm、Enterprise Architectによる高機能モデリング</li>
                            <li>draw.io、Lucidchartでの協調的な図作成</li>
                            <li>コード生成とリバースエンジニアリングの活用</li>
                            <li>バージョン管理との連携とチーム開発での運用</li>
                            <li>CI/CDパイプラインでのドキュメント自動生成</li>
                        </ul>
                    </div>

                    <h3 class="section-title">9.1 UMLツールの分類と選定基準</h3>
                    <p>UMLツールは用途、機能、価格帯により様々な種類があります。プロジェクトの要件に応じた適切な選択が重要です。</p>
                    
                    <div class="concept-box">
                        <h6>ツール選定の観点</h6>
                        <ul>
                            <li><strong>プロジェクト規模</strong>：個人・小規模チーム・大規模組織</li>
                            <li><strong>協調性</strong>：同時編集、コメント、レビュー機能</li>
                            <li><strong>統合性</strong>：開発ツール、バージョン管理との連携</li>
                            <li><strong>コスト</strong>：初期費用、ランニングコスト、学習コスト</li>
                            <li><strong>保守性</strong>：長期的なサポート、データ移行性</li>
                        </ul>
                    </div>

                    <table class="table table-bordered table-sm">
                        <thead>
                            <tr>
                                <th>ツール分類</th>
                                <th>代表例</th>
                                <th>特徴</th>
                                <th>適用場面</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>テキストベース</td>
                                <td>PlantUML, Mermaid</td>
                                <td>コード的記述、Git管理可能</td>
                                <td>開発者中心、CI/CD統合</td>
                            </tr>
                            <tr>
                                <td>Webベース</td>
                                <td>draw.io, Lucidchart</td>
                                <td>インストール不要、協調編集</td>
                                <td>初期検討、関係者との共有</td>
                            </tr>
                            <tr>
                                <td>デスクトップ</td>
                                <td>StarUML, Umbrello</td>
                                <td>豊富な機能、オフライン作業</td>
                                <td>詳細設計、個人作業</td>
                            </tr>
                            <tr>
                                <td>エンタープライズ</td>
                                <td>Enterprise Architect, Visual Paradigm</td>
                                <td>高機能、統合開発環境</td>
                                <td>大規模開発、品質管理</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="section-title">9.2 PlantUMLによるテキストベースモデリング</h3>
                    <p>PlantUMLは、テキストから図を生成するツールで、開発者にとって親和性の高いモデリング手法です。</p>

                    <div class="tool-comparison">
                        <h6>PlantUMLの利点</h6>
                        <ul>
                            <li><strong>バージョン管理</strong>：テキストファイルなのでGitで差分管理可能</li>
                            <li><strong>自動化</strong>：CI/CDパイプラインでの図生成</li>
                            <li><strong>再現性</strong>：環境に依存せず一貫した図を生成</li>
                            <li><strong>効率性</strong>：コードレビューと同様の手法でモデルレビュー</li>
                        </ul>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 9-1: PlantUMLによる包括的システム設計</h5>
                        <p>Eコマースサイトの設計をPlantUMLで記述し、複数の図種類を統合的に作成してみましょう。</p>
                        
                        <h6>要件</h6>
                        <ul>
                            <li>クラス図、シーケンス図、コンポーネント図を同一ファイルで管理</li>
                            <li>共通の設定やスタイルを定義</li>
                            <li>図間の整合性を保持</li>
                        </ul>
                        
                        <h6>PlantUMLの例（統合ファイル）</h6>
                        <pre class="code-block"><code class="language-bash">@startuml クラス図
' 共通設定
!theme plain
skinparam backgroundColor white
skinparam classBackgroundColor lightblue

' エンティティクラス
class Customer {
  -customerId: Long
  -name: String
  -email: String
  +placeOrder(): Order
}

class Order {
  -orderId: Long
  -orderDate: Date
  -totalAmount: BigDecimal
  +addItem(item: OrderItem): void
  +calculateTotal(): BigDecimal
}

class Product {
  -productId: Long
  -name: String
  -price: BigDecimal
  -stockQuantity: int
  +updateStock(quantity: int): void
}

Customer ||--o{ Order : places
Order ||--o{ OrderItem : contains
OrderItem }o--|| Product : references
@enduml

@startuml シーケンス図
' 注文プロセスのシーケンス
actor Customer
participant "Web UI" as UI
participant "Order Service" as OS
participant "Product Service" as PS
participant "Payment Service" as Pay
database "Database" as DB

Customer -> UI: 商品選択
UI -> PS: 商品情報取得
PS -> DB: 商品データ取得
DB --> PS: 商品データ
PS --> UI: 商品情報

Customer -> UI: 注文確定
UI -> OS: 注文処理開始
OS -> PS: 在庫確認
PS -> DB: 在庫チェック
DB --> PS: 在庫状況
PS --> OS: 在庫OK

OS -> Pay: 決済処理
Pay --> OS: 決済完了
OS -> DB: 注文データ保存
DB --> OS: 保存完了
OS --> UI: 注文完了
UI --> Customer: 完了通知
@enduml

@startuml コンポーネント図
package "Frontend" {
  [Web Application]
  [Mobile App]
}

package "Backend Services" {
  [API Gateway]
  [User Service] 
  [Product Service]
  [Order Service]
  [Payment Service]
}

package "Data Layer" {
  database "User DB"
  database "Product DB"
  database "Order DB"
}

package "External" {
  [Payment Provider]
  [Email Service]
}

[Web Application] --> [API Gateway]
[Mobile App] --> [API Gateway]
[API Gateway] --> [User Service]
[API Gateway] --> [Product Service]
[API Gateway] --> [Order Service]

[User Service] --> [User DB]
[Product Service] --> [Product DB]  
[Order Service] --> [Order DB]
[Order Service] --> [Payment Service]
[Payment Service] --> [Payment Provider]
[Order Service] --> [Email Service]
@enduml</code></pre>
                        
                        <h6>期待される結果</h6>
                        <ul>
                            <li>複数の図が一つのファイルで統合管理されている</li>
                            <li>共通のスタイルとテーマが適用されている</li>
                            <li>図間でエンティティ名が一貫している</li>
                            <li>バージョン管理で変更履歴が追跡可能</li>
                        </ul>
                    </div>

                    <h3 class="section-title">9.3 商用ツールの高度な機能</h3>
                    <p>Enterprise ArchitectやVisual Paradigmなどの商用ツールは、大規模開発での高度な要求に対応します。</p>

                    <h4>Enterprise Architectの特徴</h4>
                    <div class="tool-comparison">
                        <h6>主要機能</h6>
                        <ul>
                            <li><strong>モデルリポジトリ</strong>：中央集約的なモデル管理</li>
                            <li><strong>トレーサビリティ</strong>：要件から実装まで追跡可能</li>
                            <li><strong>シミュレーション</strong>：モデルの動的な検証</li>
                            <li><strong>レポート生成</strong>：カスタマイズ可能なドキュメント出力</li>
                            <li><strong>チーム協調</strong>：役割ベースアクセス制御</li>
                        </ul>
                    </div>

                    <h4>Visual Paradigmの特徴</h4>
                    <div class="tool-comparison">
                        <h6>主要機能</h6>
                        <ul>
                            <li><strong>アジャイル支援</strong>：ユーザーストーリー、スクラム管理</li>
                            <li><strong>コード同期</strong>：双方向のコード・モデル同期</li>
                            <li><strong>データベース設計</strong>：ERDからDDL生成</li>
                            <li><strong>要件管理</strong>：要件トレーサビリティマトリクス</li>
                            <li><strong>品質検証</strong>：モデル検証ルールとメトリクス</li>
                        </ul>
                    </div>

                    <h3 class="section-title">9.4 コード生成とリバースエンジニアリング</h3>
                    <p>UMLツールの強力な機能の一つが、モデルとコードの相互変換です。</p>

                    <div class="concept-box">
                        <h6>フォワードエンジニアリング（モデル→コード）</h6>
                        <ul>
                            <li><strong>スケルトンコード生成</strong>：クラス図からクラス定義</li>
                            <li><strong>データベーススキーマ</strong>：クラス図からDDL生成</li>
                            <li><strong>設定ファイル</strong>：デプロイメント図からYAML/XML</li>
                            <li><strong>テストケース</strong>：ユースケース図からテストコード</li>
                        </ul>
                    </div>

                    <div class="concept-box">
                        <h6>リバースエンジニアリング（コード→モデル）</h6>
                        <ul>
                            <li><strong>既存コード分析</strong>：レガシーシステムの構造把握</li>
                            <li><strong>依存関係可視化</strong>：モジュール間の関係分析</li>
                            <li><strong>ドキュメント生成</strong>：自動的な設計書作成</li>
                            <li><strong>品質分析</strong>：複雑度、結合度の測定</li>
                        </ul>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 9-2: Java Springプロジェクトのリバースエンジニアリング</h5>
                        <p>既存のSpring Bootプロジェクトからクラス図とコンポーネント図を自動生成してみましょう。</p>
                        
                        <h6>手順（概念的な流れ）</h6>
                        <ol>
                            <li>PlantUMLの依存性解析機能を使用</li>
                            <li>Javaコードからクラス関係を抽出</li>
                            <li>Springアノテーションからアーキテクチャ層を識別</li>
                            <li>生成された図をカスタマイズ</li>
                        </ol>
                        
                        <h6>PlantUMLでのリバースエンジニアリング例</h6>
                        <pre class="code-block"><code class="language-bash">@startuml 
' リバースエンジニアリング結果をベースにカスタマイズ
!define COMPONENT_COLOR #lightblue
!define SERVICE_COLOR #lightgreen
!define REPOSITORY_COLOR #lightyellow

package "Controller Layer" <<COMPONENT_COLOR>> {
  class UserController {
    +createUser()
    +getUser() 
    +updateUser()
    +deleteUser()
  }
  class ProductController {
    +listProducts()
    +getProduct()
    +createProduct()
  }
}

package "Service Layer" <<SERVICE_COLOR>> {
  class UserService {
    +createUser()
    +findById()
    +updateUser()
  }
  class ProductService {
    +findAll()
    +findById()
    +save()
  }
}

package "Repository Layer" <<REPOSITORY_COLOR>> {
  interface UserRepository {
    +findById()
    +save()
    +delete()
  }
  interface ProductRepository {
    +findAll()
    +findById()
    +save()
  }
}

' 自動抽出された依存関係
UserController --> UserService
ProductController --> ProductService
UserService --> UserRepository  
ProductService --> ProductRepository

' Spring特有のアノテーション情報をノートで追加
note right of UserController
  @RestController
  @RequestMapping("/api/users")
end note

note right of UserService  
  @Service
  @Transactional
end note

note right of UserRepository
  @Repository
  extends JpaRepository
end note
@enduml</code></pre>
                        
                        <h6>期待される結果</h6>
                        <ul>
                            <li>既存コードから正確なクラス関係が抽出されている</li>
                            <li>Spring Bootの層構造が適切に表現されている</li>
                            <li>アノテーション情報が補足説明として含まれている</li>
                            <li>カスタマイズにより読みやすい図になっている</li>
                        </ul>
                    </div>

                    <h3 class="section-title">9.5 バージョン管理との連携</h3>
                    <p>チーム開発では、UMLモデルのバージョン管理と変更追跡が重要です。</p>

                    <div class="concept-box">
                        <h6>バージョン管理のベストプラクティス</h6>
                        <ul>
                            <li><strong>テキストベース優先</strong>：差分比較可能な形式での保存</li>
                            <li><strong>モジュール分割</strong>：図ごと、機能ごとのファイル分割</li>
                            <li><strong>メタデータ分離</strong>：レイアウト情報と内容の分離</li>
                            <li><strong>レビュープロセス</strong>：プルリクエストによるモデルレビュー</li>
                        </ul>
                    </div>

                    <h3 class="section-title">9.6 CI/CDパイプラインでの活用</h3>
                    <p>現代的な開発では、ドキュメントも自動化パイプラインの一部として管理されます。</p>

                    <div class="tool-comparison">
                        <h6>自動化の例</h6>
                        <ul>
                            <li><strong>図の自動生成</strong>：コミット時にPlantUMLから画像生成</li>
                            <li><strong>ドキュメント更新</strong>：GitHubPagesやConfluenceへの自動デプロイ</li>
                            <li><strong>整合性チェック</strong>：モデルとコードの同期状態確認</li>
                            <li><strong>品質ゲート</strong>：モデル品質メトリクスによる判定</li>
                        </ul>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 9-3: GitHub ActionsでのPlantUML自動処理</h5>
                        <p>GitHub Actionsを使用して、PlantUMLファイルの変更時に自動的に画像を生成し、GitHub Pagesに公開する設定を作成してみましょう。</p>
                        
                        <h6>GitHub Actions YAML例</h6>
                        <pre class="code-block"><code class="language-bash"># .github/workflows/plantuml.yml
name: Generate PlantUML Diagrams

on:
  push:
    paths:
      - '**/*.puml'
      - '**/*.plantuml'
  pull_request:
    paths:
      - '**/*.puml' 
      - '**/*.plantuml'

jobs:
  generate-diagrams:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
      
    - name: Setup Java
      uses: actions/setup-java@v3
      with:
        java-version: '11'
        distribution: 'temurin'
        
    - name: Generate PlantUML diagrams
      uses: cloudbees/plantuml-github-action@master
      with:
        args: -v -tpng docs/**/*.puml
        
    - name: Commit generated images
      run: |
        git config --local user.email "action@github.com"
        git config --local user.name "GitHub Action"
        git add docs/**/*.png
        git diff --staged --quiet || git commit -m "Auto-generate PlantUML diagrams"
        
    - name: Push changes
      uses: ad-m/github-push-action@master
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      if: github.ref == 'refs/heads/main'
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./docs</code></pre>
                        
                        <h6>期待される結果</h6>
                        <ul>
                            <li>PlantUMLファイル変更時に自動的に画像生成される</li>
                            <li>生成された画像がリポジトリにコミットされる</li>
                            <li>GitHub Pagesで最新のドキュメントが公開される</li>
                            <li>チーム全体で一貫した図が共有される</li>
                        </ul>
                    </div>

                    <h3 class="section-title">9.7 ツール選択の実践的ガイダンス</h3>
                    <p>プロジェクトの特性に応じたツール選択の指針を示します。</p>

                    <div class="warning">
                        <h6>避けるべき一般的な間違い</h6>
                        <ul>
                            <li><strong>過度な高機能ツール</strong>：必要以上に複雑なツールの選択</li>
                            <li><strong>個人的嗜好優先</strong>：チーム全体の利便性を考慮しない選択</li>
                            <li><strong>ベンダーロックイン</strong>：特定ツールへの過度な依存</li>
                            <li><strong>学習コスト無視</strong>：習得時間とプロジェクト期間の不一致</li>
                        </ul>
                    </div>

                    <div class="concept-box">
                        <h6>段階的ツール採用アプローチ</h6>
                        <ol>
                            <li><strong>初期段階</strong>：draw.io、Lucidchartで概念共有</li>
                            <li><strong>詳細設計</strong>：PlantUML、StarUMLで詳細モデリング</li>
                            <li><strong>大規模化</strong>：Enterprise Architect、Visual Paradigmで統合管理</li>
                            <li><strong>運用段階</strong>：CI/CD統合、自動化による効率化</li>
                        </ol>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>UMLツールの4つの主要分類とそれぞれの特徴を説明してください。</li>
                            <li>PlantUMLをバージョン管理で使用する利点を3つ答えてください。</li>
                            <li>フォワードエンジニアリングとリバースエンジニアリングの違いは何ですか？</li>
                            <li>商用UMLツールが無料ツールより優れている点は何ですか？</li>
                            <li>CI/CDパイプラインでUMLを活用する方法を3つ答えてください。</li>
                            <li>チーム開発でのUMLツール選択時の考慮点を説明してください。</li>
                        </ol>
                        
                        <h6>応用問題</h6>
                        <p>以下の開発プロジェクトに最適なUMLツール構成を提案し、理由を説明してください：</p>
                        <ul>
                            <li><strong>スタートアップ</strong>：5名、アジャイル開発、予算制約あり</li>
                            <li><strong>エンタープライズ</strong>：50名、ウォーターフォール、品質重視</li>
                            <li><strong>オープンソース</strong>：分散チーム、非同期協業、透明性重視</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="uml-learning-material-8.html" class="btn btn-secondary">← 前の章</a>
                        <a href="uml-learning-material-10.html" class="btn btn-primary">次の章 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>mermaid.initialize({startOnLoad: true, theme: 'default'});</script>
</body>
</html>