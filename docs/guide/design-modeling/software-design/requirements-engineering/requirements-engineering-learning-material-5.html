<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>要件工学学習教材 第5章 - ユースケース図とユースケース記述</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- カスタムCSS -->
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        
        .navbar {
            background-color: #9c27b0;
        }
        
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        
        .chapter-title {
            color: #9c27b0;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #9c27b0;
            padding-bottom: 0.5rem;
        }
        
        .section-title {
            color: #7b1fa2;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        
        .quiz-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }
        
        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }
        
        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }
        
        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }
        
        .code-block {
            background-color: #1e1e1e;
            color: white;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .nav-link.active {
            background-color: #9c27b0 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>要件工学学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-01.html">
                                第1章: 要件工学の基礎と重要性
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-02.html">
                                第2章: 要件獲得技法
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-03.html">
                                第3章: EARS記法による要件記述
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-04.html">
                                第4章: ユーザーストーリーとアジャイル要件管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="requirements-engineering-learning-material-05.html">
                                第5章: ユースケース図とユースケース記述
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-06.html">
                                第6章: 要件分析と優先度付け技法
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-07.html">
                                第7章: 非機能要件の定義と管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-08.html">
                                第8章: 要件の検証と妥当性確認
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-09.html">
                                第9章: 要件変更管理とトレーサビリティ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-10.html">
                                第10章: 実践的な要件定義書作成演習
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- 章ヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第5章: ユースケース図とユースケース記述</h1>
                </div>

                <div id="chapter5">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">ユースケース図とユースケース記述</h2>
                    
                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>ユースケース図の目的と基本概念の理解</li>
                            <li>アクターの識別・分類・表現方法</li>
                            <li>ユースケースの抽出と適切な粒度の設定</li>
                            <li>システム境界の定義と表現</li>
                            <li>include・extend・汎化関係の使い分け</li>
                            <li>詳細なユースケース記述の作成方法</li>
                            <li>事前条件・事後条件・基本フロー・代替フローの記述</li>
                        </ul>
                    </div>

                    <h3 class="section-title">5.1 ユースケース図の基本概念</h3>
                    
                    <p>ユースケース図は、UML（統一モデリング言語）の行動図の一つで、システムが提供する機能をユーザーの視点から表現するモデリング手法です。システム開発の初期段階で要件を整理し、ステークホルダー間の共通理解を形成するために使用されます。</p>

                    <div class="highlight">
                        <h5>ユースケース図が必要な理由</h5>
                        <ul>
                            <li><strong>ユーザー中心の視点：</strong>システムが「何をするか」をユーザーの目的に沿って表現</li>
                            <li><strong>機能の全体像把握：</strong>システムの機能範囲と責任境界を明確化</li>
                            <li><strong>ステークホルダーとの対話：</strong>技術的でない表現でビジネス関係者との議論が可能</li>
                            <li><strong>開発の優先順位付け：</strong>重要な機能から段階的に開発計画を立てられる</li>
                            <li><strong>テスト設計の基盤：</strong>ユースケースを基にしたテストシナリオ作成が可能</li>
                        </ul>
                    </div>

                    <h4>ユースケース図の基本要素</h4>

                    <div class="mermaid">
                    graph TB
                        subgraph "システム境界"
                            UC1["ユースケース1<br/>（楕円形）"]
                            UC2["ユースケース2<br/>（楕円形）"]
                            UC3["ユースケース3<br/>（楕円形）"]
                        end
                        
                        A1["アクター1<br/>（人型アイコン）"]
                        A2["アクター2<br/>（人型アイコン）"]
                        ES["外部システム<br/>（四角形）"]
                        
                        A1 --> UC1
                        A1 --> UC2
                        A2 --> UC2
                        A2 --> UC3
                        ES --> UC3
                    </graph>
                    </div>

                    <h3 class="section-title">5.2 アクターの識別と分類</h3>
                    
                    <p>アクターは、システムと相互作用する外部エンティティ（人、組織、他のシステム）を表します。正確なアクター識別は、システムの要件を漏れなく把握するための重要なステップです。</p>

                    <h4>アクターの種類と特徴</h4>

                    <div class="highlight">
                        <h5>1. 主アクター（Primary Actor）</h5>
                        <ul>
                            <li><strong>定義：</strong>システムに対して能動的にアクションを開始する</li>
                            <li><strong>例：</strong>顧客、管理者、運用オペレーター</li>
                            <li><strong>特徴：</strong>システムから価値を得ることが目的</li>
                        </ul>
                    </div>

                    <div class="highlight">
                        <h5>2. 副アクター（Secondary Actor）</h5>
                        <ul>
                            <li><strong>定義：</strong>主アクターのアクションに応答してサービスを提供</li>
                            <li><strong>例：</strong>決済システム、メール配信システム、外部API</li>
                            <li><strong>特徴：</strong>システムからの要求に対して情報やサービスを提供</li>
                        </ul>
                    </div>

                    <h4>アクター識別の実践的アプローチ</h4>

                    <div class="exercise-container">
                        <h5>実習 5-1: オンライン書店システムのアクター識別</h5>
                        <p>オンライン書店システムに関わるすべてのアクターを識別してみましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>ブレインストーミング：</strong>システムを利用するすべての人・システムをリストアップ</li>
                            <li><strong>役割の分析：</strong>各エンティティがシステムに対して何を期待するかを分析</li>
                            <li><strong>抽象化と統合：</strong>似た役割を持つエンティティをグループ化</li>
                            <li><strong>主副の分類：</strong>主アクターと副アクターに分類</li>
                        </ol>
                        
                        <h6>識別結果例</h6>
                        <pre class="code-block"><code>【主アクター】
・一般顧客: 本を検索・閲覧・購入したい
・会員顧客: 購入履歴確認、レビュー投稿したい
・店舗管理者: 在庫管理、売上分析したい
・カスタマーサポート: 顧客問合せ対応したい
・配送担当者: 配送状況更新したい

【副アクター】
・決済システム: クレジットカード決済処理を提供
・在庫管理システム: 在庫情報を提供
・配送業者システム: 配送状況情報を提供  
・メール配信システム: 通知メール送信を提供
・レビューシステム: レビュー・評価機能を提供</code></pre>
                        
                        <h6>期待される結果</h6>
                        <p>システムに関わる全てのステークホルダーが漏れなく識別され、適切に分類されること</p>
                    </div>

                    <h3 class="section-title">5.3 ユースケースの抽出と粒度設定</h3>
                    
                    <p>ユースケースは、アクターがシステムを使って実現したい目標を表現します。適切な粒度でユースケースを抽出することは、理解しやすく管理しやすいモデルを作成するために不可欠です。</p>

                    <h4>ユースケースの粒度レベル</h4>

                    <div class="mermaid">
                    graph TD
                        A["ビジネス目標レベル<br/>（粒度：大）"] --> B["ユーザー目標レベル<br/>（粒度：中）"]
                        B --> C["サブ機能レベル<br/>（粒度：小）"]
                        
                        A --> A1["例：オンライン販売事業を運営する"]
                        B --> B1["例：本を購入する"]
                        C --> C1["例：カートに商品を追加する"]
                    </graph>
                    </div>

                    <div class="highlight">
                        <h5>適切な粒度の判断基準</h5>
                        <ul>
                            <li><strong>ユーザー目標レベル：</strong>1つの座席で1回の作業セッションで完了できる</li>
                            <li><strong>独立した価値：</strong>単体で意味のある価値をアクターに提供する</li>
                            <li><strong>開始から終了：</strong>明確な開始条件と終了条件がある</li>
                            <li><strong>測定可能：</strong>成功・失敗が明確に判断できる</li>
                        </ul>
                    </div>

                    <h4>ユースケース命名のベストプラクティス</h4>
                    
                    <pre class="code-block"><code>【良い命名例】
・本を検索する
・注文を確定する  
・在庫を補充する
・レビューを投稿する
・配送状況を追跡する

【改善が必要な命名例】
・システムを利用する（抽象的すぎる）
・データベースにアクセスする（実装寄り）
・情報を処理する（具体性に欠ける）
・ボタンをクリックする（UIに依存）

【命名の原則】
・動詞＋目的語の形式
・アクターの目標を表現
・実装方法には言及しない
・ビジネス用語を使用</code></pre>

                    <h3 class="section-title">5.4 システム境界の定義</h3>
                    
                    <p>システム境界は、開発対象システムの責任範囲を明確に定義します。境界内がシステムが提供する機能、境界外が外部環境となります。</p>

                    <div class="warning">
                        <h5>システム境界設定の重要性</h5>
                        <p>システム境界が曖昧だと、以下の問題が発生する可能性があります：</p>
                        <ul>
                            <li>開発スコープの無制限な拡大（スコープクリープ）</li>
                            <li>外部システムとの責任分担の不明確化</li>
                            <li>見積もり精度の低下</li>
                            <li>テスト範囲の曖昧さ</li>
                        </ul>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 5-2: オンライン書店システム境界の定義</h5>
                        <p>オンライン書店システムの境界を定義し、ユースケース図を作成してみましょう。</p>
                        
                        <h6>システム境界内（開発対象）</h6>
                        <ul>
                            <li>商品カタログ管理</li>
                            <li>顧客管理</li>
                            <li>注文処理</li>
                            <li>在庫管理</li>
                            <li>レビュー・評価システム</li>
                        </ul>
                        
                        <h6>システム境界外（外部システム）</h6>
                        <ul>
                            <li>決済処理（クレジットカード会社）</li>
                            <li>配送手配（配送業者）</li>
                            <li>メール配信（外部サービス）</li>
                        </ul>
                        
                        <h6>期待される結果</h6>
                        <p>開発範囲が明確になり、外部システムとの連携ポイントが特定されること</p>
                    </div>

                    <h3 class="section-title">5.5 関係性の定義（include・extend・汎化）</h3>
                    
                    <p>ユースケース間の関係性を適切に表現することで、機能の重複を排除し、保守性の高いモデルを作成できます。</p>

                    <h4>1. include関係（包含関係）</h4>
                    
                    <div class="highlight">
                        <h5>include関係の特徴</h5>
                        <ul>
                            <li><strong>目的：</strong>共通処理の再利用と重複排除</li>
                            <li><strong>実行タイミング：</strong>必ず実行される</li>
                            <li><strong>例：</strong>「商品を購入する」→「ユーザー認証を行う」</li>
                            <li><strong>記法：</strong>点線矢印に&lt;&lt;include&gt;&gt;</li>
                        </ul>
                    </div>

                    <h4>2. extend関係（拡張関係）</h4>
                    
                    <div class="highlight">
                        <h5>extend関係の特徴</h5>
                        <ul>
                            <li><strong>目的：</strong>条件付きの機能拡張</li>
                            <li><strong>実行タイミング：</strong>特定条件下でのみ実行</li>
                            <li><strong>例：</strong>「商品を購入する」←「割引クーポンを適用する」</li>
                            <li><strong>記法：</strong>点線矢印に&lt;&lt;extend&gt;&gt;</li>
                        </ul>
                    </div>

                    <h4>3. 汎化関係（継承関係）</h4>
                    
                    <div class="highlight">
                        <h5>汎化関係の特徴</h5>
                        <ul>
                            <li><strong>目的：</strong>類似機能の階層化</li>
                            <li><strong>関係：</strong>子ユースケースは親ユースケースの特殊化</li>
                            <li><strong>例：</strong>「決済する」←「クレジットカード決済」「銀行振込決済」</li>
                            <li><strong>記法：</strong>実線矢印（白い三角形）</li>
                        </ul>
                    </div>

                    <div class="mermaid">
                    graph TB
                        subgraph "オンライン書店システム"
                            UC1[商品を購入する]
                            UC2[ユーザー認証を行う] 
                            UC3[割引クーポンを適用する]
                            UC4[決済する]
                            UC5[クレジットカード決済]
                            UC6[銀行振込決済]
                        end
                        
                        Customer[顧客]
                        
                        Customer --> UC1
                        UC1 -.-> UC2
                        UC3 -.-> UC1
                        UC1 --> UC4
                        UC4 --> UC5
                        UC4 --> UC6
                        
                        UC1 -. "<<include>>" .-> UC2
                        UC3 -. "<<extend>>" .-> UC1
                    </graph>
                    </div>

                    <h3 class="section-title">5.6 詳細なユースケース記述</h3>
                    
                    <p>ユースケース図で表現した機能を詳細に記述することで、開発チームが具体的な実装を行うための仕様書となります。</p>

                    <h4>ユースケース記述の構成要素</h4>

                    <div class="highlight">
                        <h5>基本情報</h5>
                        <ul>
                            <li><strong>ユースケース名：</strong>図に記載した名称</li>
                            <li><strong>アクター：</strong>主アクター・副アクター</li>
                            <li><strong>概要：</strong>このユースケースで実現する内容</li>
                            <li><strong>事前条件：</strong>実行開始時に満たすべき条件</li>
                            <li><strong>事後条件：</strong>正常終了時の状態</li>
                        </ul>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 5-3: 「商品を注文する」ユースケース記述</h5>
                        <p>オンライン書店の「商品を注文する」ユースケースの詳細記述を作成してみましょう。</p>
                        
                        <h6>完成例</h6>
                        <pre class="code-block"><code>【ユースケース名】商品を注文する
【主アクター】顧客
【副アクター】決済システム、在庫管理システム
【概要】顧客が希望する商品を購入し、配送を依頼する
【事前条件】
・顧客がログインしている
・注文したい商品がカートに追加されている
・商品の在庫が確保されている
【事後条件】
・注文が確定し、注文番号が発行される
・在庫数が減算される
・配送手配が開始される

【基本フロー】
1. 顧客がカート内容確認画面を表示する
2. システムが商品リスト、合計金額、配送先を表示する  
3. 顧客が配送先情報を確認・選択する
4. 顧客が決済方法を選択する
5. システムが注文確認画面を表示する
6. 顧客が注文確定ボタンを押下する
7. システムが決済システムに決済要求を送信する
8. 決済システムが決済結果を返す
9. システムが在庫管理システムに在庫減算を通知する
10. システムが注文確定画面に注文番号を表示する

【代替フロー】
A1. 決済エラーが発生した場合
  7a. 決済システムがエラーを返す
  8a. システムがエラーメッセージを表示する
  9a. 基本フロー4に戻る
  
A2. 在庫不足が発生した場合
  9a. 在庫管理システムが在庫不足エラーを返す
  10a. システムが在庫不足メッセージを表示する
  11a. 基本フローを終了する

【例外フロー】
E1. システムエラーが発生した場合
  E1a. システムがメンテナンス画面を表示する
  E1b. エラーログを記録する
  E1c. 基本フローを異常終了する</code></pre>
                        
                        <h6>期待される結果</h6>
                        <p>開発チームが実装可能な具体性を持ち、テストケース作成の基盤となる記述が完成すること</p>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>
                                <strong>主アクターと副アクターの違いを具体例を挙げて説明してください。</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：システムに対するアクションの方向性を考えてみましょう</small>
                                </div>
                            </li>
                            
                            <li>
                                <strong>以下のユースケース名の中で、適切でないものを選び、改善案を提案してください：<br/>
                                a) 商品を検索する<br/>
                                b) データベースにアクセスする<br/>
                                c) 在庫を管理する<br/>
                                d) ログイン画面を表示する</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：実装方法やUI要素に依存していないかを確認しましょう</small>
                                </div>
                            </li>
                            
                            <li>
                                <strong>include関係とextend関係の使い分けを、オンラインショッピングの例で説明してください。</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：必須処理と条件付き処理の違いを考えてみましょう</small>
                                </div>
                            </li>
                            
                            <li>
                                <strong>ユースケース記述で「事前条件」と「事後条件」を設定する目的を説明してください。</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：システムの状態管理と責任分担の観点で考えてみましょう</small>
                                </div>
                            </li>
                            
                            <li>
                                <strong>代替フローと例外フローの違いを具体例で示してください。</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：正常な業務範囲内の別パターンと、想定外のエラー状況を分けて考えましょう</small>
                                </div>
                            </li>
                        </ol>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="requirements-engineering-learning-material-04.html" class="btn btn-secondary">← 前の章: ユーザーストーリーとアジャイル要件管理</a>
                        <a href="requirements-engineering-learning-material-06.html" class="btn btn-primary">次の章: 要件分析と優先度付け技法 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>