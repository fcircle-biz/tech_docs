<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>要件工学学習教材 第4章 - ユーザーストーリーとアジャイル要件管理</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- カスタムCSS -->
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        
        .navbar {
            background-color: #9c27b0;
        }
        
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        
        .chapter-title {
            color: #9c27b0;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #9c27b0;
            padding-bottom: 0.5rem;
        }
        
        .section-title {
            color: #7b1fa2;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        
        .quiz-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }
        
        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }
        
        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }
        
        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }
        
        .code-block {
            background-color: #1e1e1e;
            color: white;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .nav-link.active {
            background-color: #9c27b0 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>要件工学学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-1.html">
                                第1章: 要件工学の基礎と重要性
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-2.html">
                                第2章: 要件獲得技法
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-3.html">
                                第3章: EARS記法による要件記述
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="requirements-engineering-learning-material-4.html">
                                第4章: ユーザーストーリーとアジャイル要件管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-5.html">
                                第5章: ユースケース図とユースケース記述
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-6.html">
                                第6章: 要件分析と優先度付け技法
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-7.html">
                                第7章: 非機能要件の定義と管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-8.html">
                                第8章: 要件の検証と妥当性確認
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-9.html">
                                第9章: 要件変更管理とトレーサビリティ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="requirements-engineering-learning-material-10.html">
                                第10章: 実践的な要件定義書作成演習
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- 章ヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第4章: ユーザーストーリーとアジャイル要件管理</h1>
                </div>

                <div id="chapter4">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">ユーザーストーリーとアジャイル要件管理</h2>
                    
                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>アジャイル開発における要件記述の特徴と従来手法との違い</li>
                            <li>ユーザーストーリーの構造と効果的な作成方法</li>
                            <li>INVEST原則に基づくユーザーストーリーの品質評価</li>
                            <li>エピックとストーリーの分割技法</li>
                            <li>受け入れ条件の定義と記述方法</li>
                            <li>プロダクトバックログの作成と管理手法</li>
                            <li>アジャイル環境での要件変更対応</li>
                        </ul>
                    </div>

                    <h3 class="section-title">4.1 アジャイル要件管理の基本思想</h3>
                    
                    <p>アジャイル開発では、従来の重厚な要件定義書ではなく、軽量で変更に柔軟な要件記述手法が重視されます。この背景には、現代のソフトウェア開発環境で直面する以下の課題があります。</p>

                    <div class="highlight">
                        <h5>なぜアジャイル要件管理が必要なのか？</h5>
                        <p><strong>従来の問題点：</strong></p>
                        <ul>
                            <li>開発開始時にすべての要件を確定するのは現実的ではない</li>
                            <li>ユーザーのニーズは開発過程で変化し続ける</li>
                            <li>詳細すぎる要件書は変更時の保守コストが高い</li>
                            <li>技術者中心の要件書はビジネス関係者には理解困難</li>
                        </ul>
                        
                        <p><strong>アジャイルのアプローチ：</strong></p>
                        <ul>
                            <li>ユーザー価値に焦点を当てた要件記述</li>
                            <li>継続的な対話によるコミュニケーション重視</li>
                            <li>短いサイクルでのフィードバックと要件見直し</li>
                            <li>実行可能なソフトウェアによる要件妥当性確認</li>
                        </ul>
                    </div>

                    <h4>アジャイル要件管理の特徴</h4>
                    
                    <div class="mermaid">
                    graph TD
                        A["従来の要件管理"] --> B["大量の詳細文書"]
                        A --> C["上流工程での確定"]
                        A --> D["変更コストの高さ"]
                        
                        E["アジャイル要件管理"] --> F["軽量な要件記述"]
                        E --> G["継続的な要件発見"]
                        E --> H["変更への柔軟性"]
                        
                        F --> I["ユーザーストーリー"]
                        G --> J["スプリントレビュー"]
                        H --> K["プロダクトバックログ"]
                    </div>

                    <h3 class="section-title">4.2 ユーザーストーリーの構造と作成方法</h3>
                    
                    <p>ユーザーストーリーは、アジャイル開発における要件記述の中核となる手法です。ユーザーの視点から「誰が」「何を」「なぜ」したいのかを簡潔に表現します。</p>

                    <h4>基本構造：As a - I want - So that形式</h4>
                    
                    <div class="highlight">
                        <h5>ユーザーストーリーの基本フォーマット</h5>
                        <pre class="code-block"><code>As a [ロール/ペルソナ]
I want [機能/行動]
So that [価値/目的]</code></pre>
                        
                        <p><strong>各要素の詳細：</strong></p>
                        <ul>
                            <li><strong>As a（ロール）：</strong>システムを利用する人やシステムの種類</li>
                            <li><strong>I want（機能）：</strong>実現したい機能や行動</li>
                            <li><strong>So that（価値）：</strong>その機能により得られる価値や目的</li>
                        </ul>
                    </div>

                    <h4>効果的なユーザーストーリーの例</h4>
                    
                    <pre class="code-block"><code>【良い例 - ECサイト】
As a 買い物客
I want 商品を買い物カートに追加したい
So that 複数の商品をまとめて購入できる

【良い例 - 在庫管理システム】
As a 倉庫管理者
I want 在庫切れアラートを受信したい
So that 適切なタイミングで商品を発注できる

【改善が必要な例】
As a ユーザー
I want ログインしたい
（価値が不明確）

【改善後】
As a リピーター顧客
I want 保存された配送先情報で素早くログインしたい
So that 購入手続きを短縮できる</code></pre>

                    <h3 class="section-title">4.3 INVEST原則による品質評価</h3>
                    
                    <p>INVEST原則は、優れたユーザーストーリーの特徴を表す6つの品質基準です。ストーリー作成時のチェックリストとして活用します。</p>

                    <div class="mermaid">
                    graph LR
                        A[INVEST原則] --> B["I - Independent<br/>独立性"]
                        A --> C["N - Negotiable<br/>交渉可能"]
                        A --> D["V - Valuable<br/>価値"]
                        A --> E["E - Estimable<br/>見積もり可能"]
                        A --> F["S - Small<br/>小さい"]
                        A --> G["T - Testable<br/>テスト可能"]
                    </graph>
                    </div>

                    <h4>各原則の詳細解説</h4>
                    
                    <div class="highlight">
                        <h5>1. Independent（独立性）</h5>
                        <p>他のストーリーに依存せず、単独で価値を提供できること</p>
                        <ul>
                            <li><strong>良い例：</strong>「商品検索機能」と「商品詳細表示機能」</li>
                            <li><strong>悪い例：</strong>「ユーザー登録Part1」「ユーザー登録Part2」（人為的な分割）</li>
                        </ul>
                    </div>

                    <div class="highlight">
                        <h5>2. Negotiable（交渉可能）</h5>
                        <p>実装方法について開発チームと議論・調整が可能であること</p>
                        <ul>
                            <li><strong>良い例：</strong>「高速な商品検索を提供したい」</li>
                            <li><strong>悪い例：</strong>「PostgreSQLのB-treeインデックスを使った検索」（実装詳細の指定）</li>
                        </ul>
                    </div>

                    <div class="highlight">
                        <h5>3. Valuable（価値）</h5>
                        <p>ビジネス価値や顧客価値を明確に提供すること</p>
                        <ul>
                            <li><strong>良い例：</strong>「売上向上」「顧客満足度向上」「業務効率化」</li>
                            <li><strong>悪い例：</strong>「データベース設計」（技術的な内容のみ）</li>
                        </ul>
                    </div>

                    <h3 class="section-title">4.4 エピックとストーリーの分割技法</h3>
                    
                    <p>エピック（Epic）は大きすぎて一度のスプリントでは完了できない要件です。これを適切なサイズのユーザーストーリーに分割する技法を学習します。</p>

                    <h4>分割パターンと実例</h4>

                    <div class="exercise-container">
                        <h5>実習 4-1: エピック分割の実践</h5>
                        <p>ECサイトの「顧客管理機能」というエピックを、実装可能なストーリーに分割してみましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>ワークフロー分割</strong>：顧客の操作フローに沿って分割</li>
                            <li><strong>データ分割</strong>：管理する顧客情報の種類で分割</li>
                            <li><strong>役割分割</strong>：利用者の役割別に分割</li>
                            <li><strong>単純→複雑分割</strong>：基本機能から高度機能へ段階分割</li>
                        </ol>
                        
                        <h6>分割例</h6>
                        <pre class="code-block"><code>【元のエピック】
顧客管理機能を実装したい

【ワークフロー分割後】
1. As a システム管理者, I want 新規顧客を登録したい, So that 顧客データベースを構築できる
2. As a システム管理者, I want 顧客情報を検索したい, So that 特定顧客の状況を素早く確認できる  
3. As a システム管理者, I want 顧客情報を更新したい, So that 最新の情報を維持できる
4. As a システム管理者, I want 顧客購入履歴を閲覧したい, So that カスタマーサポートを充実できる

【データ分割での更なる細分化】
- 基本情報の登録（氏名、連絡先）
- 配送先情報の登録（住所、配送指示）
- 決済情報の登録（クレジットカード、銀行口座）</code></pre>
                        
                        <h6>期待される結果</h6>
                        <p>各ストーリーが1-2スプリント内で完了可能な適切なサイズになり、独立して価値を提供できること</p>
                    </div>

                    <h3 class="section-title">4.5 受け入れ条件（Acceptance Criteria）の定義</h3>
                    
                    <p>受け入れ条件は、ユーザーストーリーが「完了」と判断される具体的な条件です。開発チームとプロダクトオーナーの共通理解を図る重要な要素です。</p>

                    <h4>Given-When-Then形式</h4>
                    
                    <div class="highlight">
                        <h5>受け入れ条件の記述フォーマット</h5>
                        <pre class="code-block"><code>Given [前提条件/初期状態]
When [操作/イベント]
Then [期待される結果]

And [追加条件]（必要に応じて）</code></pre>
                    </div>

                    <h4>具体的な受け入れ条件の例</h4>
                    
                    <pre class="code-block"><code>【ユーザーストーリー】
As a 買い物客, I want 商品を買い物カートに追加したい, So that 複数の商品をまとめて購入できる

【受け入れ条件】
Given ユーザーが商品詳細ページを表示している
When 「カートに追加」ボタンをクリックする
Then 商品がカートに追加される
And カート内の商品数が更新表示される
And カート追加完了のメッセージが表示される

Given カートが空の状態
When 初めて商品を追加する
Then カートアイコンに「1」のバッジが表示される

Given 在庫が0の商品
When カートに追加しようとする
Then エラーメッセージ「在庫がありません」が表示される
And 商品はカートに追加されない</code></pre>

                    <h3 class="section-title">4.6 プロダクトバックログの作成と管理</h3>
                    
                    <p>プロダクトバックログは、プロダクトに必要なすべての機能・改善・修正をユーザーストーリー形式で優先順位付けして管理するリストです。</p>

                    <h4>プロダクトバックログの構造</h4>

                    <div class="mermaid">
                    graph TD
                        A["プロダクトバックログ"] --> B["高優先度ストーリー<br/>（詳細化済み）"]
                        A --> C["中優先度ストーリー<br/>（概要レベル）"]
                        A --> D["低優先度ストーリー<br/>（ラフなアイデア）"]
                        
                        B --> E["スプリント1対象"]
                        B --> F["スプリント2対象"]
                        C --> G["今後数スプリントで対応"]
                        D --> H["将来検討"]
                    </div>

                    <div class="exercise-container">
                        <h5>実習 4-2: プロダクトバックログ作成演習</h5>
                        <p>オンライン書店システムのプロダクトバックログを作成してみましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li>主要な機能を洗い出す</li>
                            <li>各機能をユーザーストーリー形式で記述</li>
                            <li>ビジネス価値と実装難易度を考慮して優先順位付け</li>
                            <li>高優先度項目の受け入れ条件を定義</li>
                        </ol>
                        
                        <h6>バックログ例（上位10項目）</h6>
                        <pre class="code-block"><code>優先度1: 【必須機能 - MVP】
1. As a 読者, I want 本を検索したい, So that 読みたい本を素早く見つけられる
2. As a 読者, I want 本の詳細情報を見たい, So that 購入判断ができる  
3. As a 読者, I want 本を注文したい, So that 欲しい本を購入できる
4. As a 読者, I want 会員登録をしたい, So that 購入履歴や配送先を管理できる

優先度2: 【基本機能強化】
5. As a 読者, I want おすすめの本を見たい, So that 新しい本を発見できる
6. As a 読者, I want レビューを読みたい, So that 購入判断の参考にできる
7. As a 読者, I want 本のレビューを投稿したい, So that 他の読者に情報を共有できる

優先度3: 【付加価値機能】
8. As a 読者, I want お気に入りリストを作りたい, So that 後で購入を検討できる
9. As a 読者, I want 割引クーポンを利用したい, So that お得に購入できる
10. As a 店舗管理者, I want 売上レポートを見たい, So that 業績を把握できる</code></pre>
                        
                        <h6>期待される結果</h6>
                        <p>MVP（最小実行可能プロダクト）から段階的に価値を提供できるバックログ構造が完成すること</p>
                    </div>

                    <h3 class="section-title">4.7 アジャイル環境での要件変更対応</h3>
                    
                    <p>アジャイル開発では要件変更を「問題」ではなく「機会」として捉えます。変更に対する柔軟で効果的な対応方法を学習します。</p>

                    <h4>要件変更の種類と対応方針</h4>

                    <div class="highlight">
                        <h5>変更の分類と対応</h5>
                        
                        <p><strong>1. 優先度変更</strong></p>
                        <ul>
                            <li>対応：プロダクトバックログの順序変更</li>
                            <li>影響：開発計画の調整、リソース配分の見直し</li>
                        </ul>
                        
                        <p><strong>2. 機能追加・削除</strong></p>
                        <ul>
                            <li>対応：新ストーリーの追加、既存ストーリーの削除</li>
                            <li>影響：スケジュールとスコープの再評価</li>
                        </ul>
                        
                        <p><strong>3. 受け入れ条件変更</strong></p>
                        <ul>
                            <li>対応：ストーリーの再定義、テストケース更新</li>
                            <li>影響：開発中ストーリーの作業量変動</li>
                        </ul>
                    </div>

                    <h4>変更管理のベストプラクティス</h4>

                    <div class="mermaid">
                    sequenceDiagram
                        participant PO as プロダクト<br/>オーナー
                        participant ST as ステーク<br/>ホルダー
                        participant DT as 開発<br/>チーム
                        participant SM as スクラム<br/>マスター
                        
                        ST->>PO: 要件変更要求
                        PO->>PO: ビジネス価値評価
                        PO->>DT: 実装影響確認
                        DT->>PO: 工数・リスク見積もり
                        PO->>SM: 変更影響のチーム共有
                        SM->>DT: チーム全体で変更内容合意
                        PO->>PO: バックログ更新
                    </sequenceDiagram>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>
                                <strong>ユーザーストーリーの基本形式「As a - I want - So that」で、なぜ「So that」（価値）の部分が重要なのか説明してください。</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：技術的な実装と顧客価値の関係を考えてみましょう</small>
                                </div>
                            </li>
                            
                            <li>
                                <strong>INVEST原則の「Independent（独立性）」に違反するストーリーの例を挙げ、改善方法を提案してください。</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：人為的に分割されたストーリーを想像してみましょう</small>
                                </div>
                            </li>
                            
                            <li>
                                <strong>以下のエピックを適切なサイズのユーザーストーリーに分割してください：<br/>
                                「オンライン会議システムの通知機能を実装したい」</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：通知のタイミング、対象者、通知方法などで分割を検討してみましょう</small>
                                </div>
                            </li>
                            
                            <li>
                                <strong>受け入れ条件をGiven-When-Then形式で記述する利点を3つ挙げてください。</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：開発チーム、テスター、プロダクトオーナーそれぞれの視点で考えてみましょう</small>
                                </div>
                            </li>
                            
                            <li>
                                <strong>プロダクトバックログで高優先度のストーリーほど詳細化すべき理由を説明してください。</strong>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small>ヒント：アジャイルの「段階的詳細化」の原則を考えてみましょう</small>
                                </div>
                            </li>
                        </ol>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="requirements-engineering-learning-material-3.html" class="btn btn-secondary">← 前の章: EARS記法による要件記述</a>
                        <a href="requirements-engineering-learning-material-5.html" class="btn btn-primary">次の章: ユースケース図とユースケース記述 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>