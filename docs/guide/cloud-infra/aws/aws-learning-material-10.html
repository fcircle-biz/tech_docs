<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS学習教材 第10章 - ベストプラクティスとコスト最適化</title>

    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <style>
        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
            line-height: 1.8;
        }

        /* ナビゲーション - AWS Orange */
        .navbar {
            background-color: #FF9900;
        }

        /* サイドバー */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
            padding: 1rem;
        }

        /* タイトル */
        .chapter-title {
            color: #FF9900;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid #FF9900;
            padding-bottom: 0.5rem;
            font-weight: bold;
        }

        .section-title {
            color: #EC7211;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        /* コンテンツボックス */
        .quiz-container {
            background-color: #FFF3E0;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #FF9900;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #fff9e6;
            border-radius: 8px;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        /* コードハイライト */
        .code-block {
            background-color: #1e1e1e;
            color: white;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        /* ナビゲーション */
        .nav-link.active {
            background-color: #FF9900 !important;
            color: white !important;
        }

        .nav-link:hover {
            background-color: #FFF3E0;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <strong>AWS学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-1.html">
                                第1章: AWS入門とアカウント設定
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-2.html">
                                第2章: コンピューティングとネットワークの基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-3.html">
                                第3章: ストレージサービス
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-4.html">
                                第4章: データベースサービス
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-5.html">
                                第5章: ネットワークとコンテンツ配信
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-6.html">
                                第6章: セキュリティとアクセス管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-7.html">
                                第7章: 監視と運用管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-8.html">
                                第8章: サーバーレスコンピューティング
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aws-learning-material-9.html">
                                第9章: コンテナサービス
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="aws-learning-material-10.html">
                                第10章: ベストプラクティスとコスト最適化
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第10章: ベストプラクティスとコスト最適化</h1>
                </div>

                <div id="chapter10">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">Well-Architected Frameworkと実践的な設計パターン</h2>

                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>AWS Well-Architected Frameworkの6つの柱の理解</li>
                            <li>コスト最適化の具体的な手法と戦略</li>
                            <li>高可用性とディザスタリカバリのアーキテクチャ設計</li>
                            <li>パフォーマンスとスケーラビリティの最適化</li>
                            <li>実践的なアーキテクチャパターンの適用</li>
                        </ul>
                    </div>

                    <!-- セクション1: AWS Well-Architected Framework -->
                    <h3 class="section-title">10.1 AWS Well-Architected Framework</h3>

                    <h4>10.1.1 Well-Architectedフレームワークとは</h4>
                    <p>
                        <strong>AWS Well-Architected Framework</strong>は、クラウドアーキテクチャを設計・評価するための
                        ベストプラクティス集です。AWSが長年の経験から蓄積した知見を体系化したもので、
                        <strong>6つの柱</strong>で構成されています。
                    </p>

                    <div class="mermaid">
                        flowchart TD
                            WA[AWS Well-Architected<br/>Framework]
                            P1[運用の優秀性<br/>Operational Excellence]
                            P2[セキュリティ<br/>Security]
                            P3[信頼性<br/>Reliability]
                            P4[パフォーマンス効率<br/>Performance Efficiency]
                            P5[コスト最適化<br/>Cost Optimization]
                            P6[持続可能性<br/>Sustainability]

                            WA --> P1
                            WA --> P2
                            WA --> P3
                            WA --> P4
                            WA --> P5
                            WA --> P6
                    </div>

                    <h4>10.1.2 運用の優秀性（Operational Excellence）</h4>
                    <p>
                        <strong>運用の優秀性</strong>は、ビジネス価値を提供し、運用プロセスを継続的に改善する能力です。
                    </p>
                    <p>主要な設計原則：</p>
                    <ul>
                        <li><strong>Infrastructure as Code（IaC）</strong>：CloudFormation、Terraform等でインフラを コード化</li>
                        <li><strong>小規模で頻繁な変更</strong>：リスクを分散し、ロールバックを容易に</li>
                        <li><strong>運用手順の文書化</strong>：標準化されたランブックとプレイブック</li>
                        <li><strong>障害の予測と学習</strong>：ゲームデー演習、障害後の振り返り</li>
                        <li><strong>継続的改善</strong>：メトリクスに基づく改善サイクル</li>
                    </ul>

                    <h4>10.1.3 セキュリティ（Security）</h4>
                    <p>データ保護、システム保護、コンプライアンス、アクセス制御を実現する設計です。</p>
                    <p>主要な設計原則：</p>
                    <ul>
                        <li><strong>強力なアイデンティティ基盤</strong>：IAM、MFA、最小権限の原則</li>
                        <li><strong>トレーサビリティの実現</strong>：CloudTrail、Config、VPC Flow Logs</li>
                        <li><strong>多層防御</strong>：セキュリティグループ、NACL、WAF、Shield</li>
                        <li><strong>データ保護の自動化</strong>：暗号化（保存時・転送時）、バックアップ</li>
                        <li><strong>セキュリティイベントへの対応</strong>：GuardDuty、Security Hub</li>
                    </ul>

                    <h4>10.1.4 信頼性（Reliability）</h4>
                    <p>障害から回復し、需要に応じてスケールする能力です。</p>
                    <p>主要な設計原則：</p>
                    <ul>
                        <li><strong>障害からの自動復旧</strong>：Auto Scaling、ヘルスチェック、自動フェイルオーバー</li>
                        <li><strong>復旧手順のテスト</strong>：定期的なDR訓練</li>
                        <li><strong>水平スケーリング</strong>：単一の大きなリソースではなく、複数の小さなリソース</li>
                        <li><strong>キャパシティの推測不要</strong>：Auto Scalingによる自動調整</li>
                        <li><strong>変更管理の自動化</strong>：IaC、CI/CD パイプライン</li>
                    </ul>

                    <h4>10.1.5 パフォーマンス効率（Performance Efficiency）</h4>
                    <p>ワークロードの要件に合わせて、コンピューティングリソースを効率的に使用する能力です。</p>
                    <p>主要な設計原則：</p>
                    <ul>
                        <li><strong>高度な技術の民主化</strong>：マネージドサービスの活用</li>
                        <li><strong>グローバル展開</strong>：複数リージョンでの低レイテンシー</li>
                        <li><strong>サーバーレスアーキテクチャ</strong>：運用負荷の削減</li>
                        <li><strong>実験の頻度向上</strong>：容易なリソース変更とテスト</li>
                        <li><strong>メカニカル・シンパシー</strong>：技術の特性を理解した選択</li>
                    </ul>

                    <h4>10.1.6 コスト最適化（Cost Optimization）</h4>
                    <p>最低の価格でビジネス成果を達成する能力です。</p>
                    <p>主要な設計原則：</p>
                    <ul>
                        <li><strong>消費モデルの実装</strong>：実際の使用量のみ課金</li>
                        <li><strong>総所有コスト（TCO）の測定</strong>：Cost ExplorerとBudgets</li>
                        <li><strong>運用コストの削減</strong>：マネージドサービス、自動化</li>
                        <li><strong>支出の分析と配分</strong>：タグによるコスト配分</li>
                        <li><strong>適切なリソースタイプの選択</strong>：Right Sizing</li>
                    </ul>

                    <h4>10.1.7 持続可能性（Sustainability）【第6の柱】</h4>
                    <p>環境への影響を最小化する設計原則です（2021年に追加）。</p>
                    <p>主要な設計原則：</p>
                    <ul>
                        <li><strong>利用率の最大化</strong>：リソースの効率的な使用</li>
                        <li><strong>新しい効率的なハードウェア</strong>：最新世代のインスタンスタイプ</li>
                        <li><strong>マネージドサービスの使用</strong>：AWSの大規模効率性の恩恵</li>
                        <li><strong>ダウンストリーム影響の削減</strong>：データ転送の最小化</li>
                    </ul>

                    <!-- セクション2: コスト最適化戦略 -->
                    <h3 class="section-title">10.2 コスト最適化戦略</h3>

                    <h4>10.2.1 AWS Cost Explorerによる支出分析</h4>
                    <p>
                        <strong>AWS Cost Explorer</strong>は、AWSの支出を可視化し、分析するツールです。
                    </p>
                    <p>Cost Explorerでできること：</p>
                    <ul>
                        <li>サービス別、リージョン別、タグ別のコスト分析</li>
                        <li>過去13か月の支出トレンドの確認</li>
                        <li>今後12か月のコスト予測</li>
                        <li>リザーブドインスタンス（RI）とSavings Plansの推奨事項</li>
                        <li>カスタムレポートの作成</li>
                    </ul>

                    <h4>10.2.2 AWS Budgetsによる予算管理</h4>
                    <p>
                        <strong>AWS Budgets</strong>は、カスタムコスト予算とリソース使用量予算を設定し、
                        閾値を超えた場合にアラートを送信するサービスです。
                    </p>
                    <p>予算タイプ：</p>
                    <ul>
                        <li><strong>コスト予算</strong>：月次または四半期のコスト上限</li>
                        <li><strong>使用量予算</strong>：EC2時間、S3ストレージ等の使用量上限</li>
                        <li><strong>RI/SP利用率予算</strong>：予約インスタンスの活用度</li>
                        <li><strong>RI/SP適用範囲予算</strong>：どれだけのインスタンスが割引対象か</li>
                    </ul>

                    <h4>10.2.3 リザーブドインスタンスとSavings Plans</h4>
                    <p>長期コミットメントによる大幅な割引制度：</p>

                    <p><strong>リザーブドインスタンス（RI）</strong></p>
                    <ul>
                        <li>1年または3年のコミットメント</li>
                        <li>オンデマンドと比較して最大72%割引</li>
                        <li>EC2、RDS、ElastiCache、Redshift、OpenSearchで利用可能</li>
                        <li>支払いオプション：全額前払い、一部前払い、前払いなし</li>
                    </ul>

                    <p><strong>Savings Plans</strong></p>
                    <ul>
                        <li>1年または3年のコミットメント</li>
                        <li>オンデマンドと比較して最大72%割引</li>
                        <li>柔軟性が高い（インスタンスファミリー、リージョン、OSの変更可能）</li>
                        <li>Compute Savings Plans：EC2、Fargate、Lambda</li>
                        <li>EC2 Instance Savings Plans：特定のインスタンスファミリーに限定</li>
                    </ul>

                    <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th>比較項目</th>
                                <th>リザーブドインスタンス</th>
                                <th>Savings Plans</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>柔軟性</strong></td>
                                <td>低い（特定インスタンスに固定）</td>
                                <td>高い（インスタンスタイプ変更可能）</td>
                            </tr>
                            <tr>
                                <td><strong>割引率</strong></td>
                                <td>最大72%</td>
                                <td>最大72%</td>
                            </tr>
                            <tr>
                                <td><strong>適用範囲</strong></td>
                                <td>EC2、RDS等特定サービス</td>
                                <td>EC2、Fargate、Lambda</td>
                            </tr>
                            <tr>
                                <td><strong>推奨</strong></td>
                                <td>安定したワークロード</td>
                                <td>変動するワークロード</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>10.2.4 スポットインスタンスの活用</h4>
                    <p>
                        <strong>スポットインスタンス</strong>は、AWSの余剰キャパシティを利用し、
                        オンデマンド価格と比較して最大90%割引で利用できます。
                    </p>
                    <p>スポットインスタンスの特徴：</p>
                    <ul>
                        <li>最大90%割引</li>
                        <li>AWSが必要とした場合、2分前通知で中断される可能性</li>
                        <li>フォールトトレラントなワークロードに最適</li>
                        <li>ユースケース：バッチ処理、ビッグデータ分析、CI/CDパイプライン</li>
                    </ul>

                    <h4>10.2.5 適切なインスタンスサイジング（Right Sizing）</h4>
                    <p>
                        <strong>Right Sizing</strong>は、実際の使用パターンに基づいて、
                        過剰プロビジョニングされたリソースを適切なサイズに変更することです。
                    </p>
                    <p>Right Sizingのプロセス：</p>
                    <ol>
                        <li>CloudWatchでCPU、メモリ、ネットワークの使用率を監視（2週間以上）</li>
                        <li>Compute Optimizerで推奨事項を確認</li>
                        <li>過剰プロビジョニングされたリソースを特定</li>
                        <li>非本番環境で小さいインスタンスタイプをテスト</li>
                        <li>本番環境に適用</li>
                    </ol>

                    <div class="exercise-container">
                        <h5>実習 10-1: Cost ExplorerとBudgetsでコスト管理</h5>
                        <p>Cost Explorerで支出を分析し、予算アラートを設定してみましょう。</p>
                        <h6>手順</h6>
                        <ol>
                            <li>Cost Explorerコンソールにアクセス（初回は有効化が必要）</li>
                            <li>「Cost & Usage」レポートで過去3か月の支出を確認</li>
                            <li>「Service」でグループ化し、コストの高いサービスを特定</li>
                            <li>「Forecast」で今後3か月のコスト予測を確認</li>
                            <li>AWS Budgetsで「Create budget」</li>
                            <li>予算タイプ：「Cost budget」</li>
                            <li>月次予算額：例えば$100</li>
                            <li>アラート設定：実績が80%、100%で通知</li>
                            <li>SNSトピックでメール通知を設定</li>
                            <li>Cost Allocation Tagsを有効化してタグ別コスト分析</li>
                        </ol>
                        <h6>確認ポイント</h6>
                        <ul>
                            <li>サービス別のコスト内訳が確認できること</li>
                            <li>予算アラートが設定され、超過時に通知が届くこと</li>
                            <li>タグ別にコストを分析できること</li>
                        </ul>
                    </div>

                    <!-- セクション3: 高可用性とディザスタリカバリ -->
                    <h3 class="section-title">10.3 高可用性とディザスタリカバリ</h3>

                    <h4>10.3.1 マルチAZ構成とマルチリージョン構成</h4>
                    <p><strong>マルチAZ構成</strong>：同一リージョン内の複数のアベイラビリティゾーンにリソースを配置</p>
                    <ul>
                        <li>単一AZ障害に対する保護</li>
                        <li>RPO/RTOが短い（数分以内）</li>
                        <li>リージョン全体の障害には対応できない</li>
                    </ul>

                    <p><strong>マルチリージョン構成</strong>：複数のリージョンにリソースを配置</p>
                    <ul>
                        <li>リージョン全体の障害にも対応</li>
                        <li>災害対策（DR）、規制要件、レイテンシー最適化</li>
                        <li>データレプリケーション、Route 53フェイルオーバーが必要</li>
                    </ul>

                    <div class="mermaid">
                        flowchart TD
                            subgraph Region1[東京リージョン]
                                subgraph AZ1[AZ-1a]
                                    EC2_1a[EC2]
                                    RDS_1a[RDS<br/>プライマリ]
                                end
                                subgraph AZ2[AZ-1c]
                                    EC2_1c[EC2]
                                    RDS_1c[RDS<br/>スタンバイ]
                                end
                                ALB1[Application<br/>Load Balancer]
                                ALB1 --> EC2_1a
                                ALB1 --> EC2_1c
                                RDS_1a -.レプリケーション.-> RDS_1c
                            end
                            subgraph Region2[シンガポールリージョン]
                                EC2_SG[EC2]
                                RDS_SG[RDS<br/>リードレプリカ]
                            end
                            R53[Route 53<br/>フェイルオーバー] --> ALB1
                            R53 -.障害時.-> EC2_SG
                            RDS_1a -.クロスリージョン<br/>レプリケーション.-> RDS_SG
                    </div>

                    <h4>10.3.2 RPOとRTOの理解</h4>
                    <p>災害対策を計画する際の2つの重要な指標：</p>
                    <ul>
                        <li><strong>RPO（Recovery Point Objective）</strong>：許容可能なデータ損失時間
                            <ul>
                                <li>例：RPO = 1時間の場合、最大1時間分のデータ損失を許容</li>
                            </ul>
                        </li>
                        <li><strong>RTO（Recovery Time Objective）</strong>：許容可能なシステム停止時間
                            <ul>
                                <li>例：RTO = 4時間の場合、4時間以内にシステムを復旧</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>10.3.3 DRパターン</h4>
                    <p>AWSでの4つのディザスタリカバリパターン（コストと復旧時間のトレードオフ）：</p>

                    <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th>パターン</th>
                                <th>RTO</th>
                                <th>RPO</th>
                                <th>コスト</th>
                                <th>説明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Backup & Restore</strong></td>
                                <td>時間単位</td>
                                <td>時間単位</td>
                                <td>最低</td>
                                <td>定期的にバックアップを取得し、災害時に復元</td>
                            </tr>
                            <tr>
                                <td><strong>Pilot Light</strong></td>
                                <td>分～時間単位</td>
                                <td>分単位</td>
                                <td>低</td>
                                <td>最小構成を常時稼働、災害時にスケールアップ</td>
                            </tr>
                            <tr>
                                <td><strong>Warm Standby</strong></td>
                                <td>分単位</td>
                                <td>秒～分単位</td>
                                <td>中</td>
                                <td>縮小版システムを常時稼働、災害時にフル稼働</td>
                            </tr>
                            <tr>
                                <td><strong>Multi-Site Active/Active</strong></td>
                                <td>ほぼゼロ</td>
                                <td>ほぼゼロ</td>
                                <td>最高</td>
                                <td>複数サイトで常時フル稼働、負荷分散</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- セクション4: パフォーマンスとスケーラビリティ -->
                    <h3 class="section-title">10.4 パフォーマンスとスケーラビリティ</h3>

                    <h4>10.4.1 キャッシング戦略</h4>
                    <p>各レイヤーでのキャッシングにより、レイテンシーとコストを削減：</p>
                    <ul>
                        <li><strong>CloudFront</strong>：エッジロケーションでのコンテンツキャッシュ</li>
                        <li><strong>ElastiCache</strong>：インメモリキャッシュ（Redis、Memcached）
                            <ul>
                                <li>データベースクエリ結果のキャッシュ</li>
                                <li>セッションストア</li>
                            </ul>
                        </li>
                        <li><strong>DynamoDB Accelerator（DAX）</strong>：DynamoDB専用のインメモリキャッシュ</li>
                        <li><strong>API Gateway</strong>：APIレスポンスのキャッシュ</li>
                    </ul>

                    <div class="mermaid">
                        flowchart LR
                            Client[クライアント] -->|1. リクエスト| CF[CloudFront<br/>キャッシュ]
                            CF -->|2. キャッシュミス| ALB[ALB]
                            ALB --> App[アプリケーション]
                            App -->|3. データ取得| Cache[ElastiCache<br/>Redis]
                            Cache -->|4. キャッシュミス| DB[(RDS)]
                            DB -.データ.-> Cache
                            Cache -.データ.-> App
                            App -.レスポンス.-> CF
                            CF -.レスポンス.-> Client
                    </div>

                    <h4>10.4.2 読み取り/書き込みの分離</h4>
                    <p>
                        <strong>リードレプリカ</strong>を使用して、読み取りトラフィックをスケールアウトし、
                        マスターデータベースの負荷を軽減します。
                    </p>
                    <p>RDSリードレプリカの特徴：</p>
                    <ul>
                        <li>非同期レプリケーション（数秒のレプリケーションラグ）</li>
                        <li>最大15個のリードレプリカ作成可能</li>
                        <li>同一リージョンまたはクロスリージョン</li>
                        <li>リードレプリカから読み取り専用クエリを実行</li>
                    </ul>

                    <h4>10.4.3 非同期処理とキューイング</h4>
                    <p>
                        <strong>Amazon SQS</strong>と<strong>Amazon SNS</strong>を使用して、非同期処理とイベント駆動アーキテクチャを実現します。
                    </p>

                    <p><strong>SQS（Simple Queue Service）</strong></p>
                    <ul>
                        <li>フルマネージドなメッセージキューイングサービス</li>
                        <li>プロデューサーとコンシューマーの疎結合</li>
                        <li>標準キュー：高スループット、順序保証なし</li>
                        <li>FIFOキュー：順序保証、重複排除</li>
                    </ul>

                    <p><strong>SNS（Simple Notification Service）</strong></p>
                    <ul>
                        <li>フルマネージドなPub/Subメッセージングサービス</li>
                        <li>1つのメッセージを複数のサブスクライバーに配信</li>
                        <li>プッシュ型通知（Lambda、SQS、HTTP、Email、SMS）</li>
                    </ul>

                    <!-- セクション5: 実践的なアーキテクチャパターン -->
                    <h3 class="section-title">10.5 実践的なアーキテクチャパターン</h3>

                    <h4>10.5.1 3層Webアプリケーション</h4>
                    <p>最も一般的なアーキテクチャパターン：</p>
                    <ul>
                        <li><strong>プレゼンテーション層</strong>：CloudFront + S3（静的コンテンツ）</li>
                        <li><strong>アプリケーション層</strong>：ALB + EC2 Auto Scaling / ECS Fargate</li>
                        <li><strong>データ層</strong>：RDS Multi-AZ / DynamoDB</li>
                    </ul>

                    <div class="mermaid">
                        flowchart TD
                            User[ユーザー]
                            subgraph Presentation[プレゼンテーション層]
                                CF[CloudFront]
                                S3[S3<br/>静的コンテンツ]
                            end
                            subgraph Application[アプリケーション層]
                                ALB[Application<br/>Load Balancer]
                                ASG[Auto Scaling Group]
                                EC2_1[EC2]
                                EC2_2[EC2]
                            end
                            subgraph Data[データ層]
                                RDS_M[RDS Master]
                                RDS_S[RDS Standby]
                                Cache[ElastiCache]
                            end

                            User --> CF
                            CF --> S3
                            CF --> ALB
                            ALB --> ASG
                            ASG --> EC2_1
                            ASG --> EC2_2
                            EC2_1 --> Cache
                            EC2_2 --> Cache
                            Cache --> RDS_M
                            RDS_M -.レプリケーション.-> RDS_S
                    </div>

                    <h4>10.5.2 サーバーレスアーキテクチャ</h4>
                    <p>完全マネージドなサーバーレス構成：</p>
                    <ul>
                        <li><strong>フロントエンド</strong>：S3 + CloudFront</li>
                        <li><strong>バックエンドAPI</strong>：API Gateway + Lambda</li>
                        <li><strong>データベース</strong>：DynamoDB</li>
                        <li><strong>認証</strong>：Amazon Cognito</li>
                    </ul>

                    <h4>10.5.3 マイクロサービスアーキテクチャ</h4>
                    <p>コンテナベースの分散システム：</p>
                    <ul>
                        <li><strong>コンテナオーケストレーション</strong>：ECS Fargate / EKS</li>
                        <li><strong>サービスディスカバリ</strong>：AWS Cloud Map</li>
                        <li><strong>API管理</strong>：API Gateway / ALB</li>
                        <li><strong>メッセージング</strong>：SNS、SQS、EventBridge</li>
                        <li><strong>データストア</strong>：サービスごとに独立したデータベース</li>
                    </ul>

                    <h4>10.5.4 CI/CD パイプライン</h4>
                    <p>継続的インテグレーションとデプロイメント：</p>
                    <ul>
                        <li><strong>ソースコード管理</strong>：CodeCommit / GitHub</li>
                        <li><strong>ビルド</strong>：CodeBuild</li>
                        <li><strong>デプロイ</strong>：CodeDeploy</li>
                        <li><strong>パイプライン管理</strong>：CodePipeline</li>
                        <li><strong>インフラ管理</strong>：CloudFormation / Terraform</li>
                    </ul>

                    <div class="mermaid">
                        flowchart LR
                            Dev[開発者] -->|コミット| SCM[CodeCommit /<br/>GitHub]
                            SCM -->|トリガー| CP[CodePipeline]
                            CP --> Build[CodeBuild<br/>テスト・ビルド]
                            Build --> ECR[ECR<br/>イメージ保存]
                            ECR --> Deploy[CodeDeploy]
                            Deploy --> ECS[ECS/EKS<br/>本番環境]
                    </div>

                    <!-- 最終プロジェクト -->
                    <h3 class="section-title">10.6 最終プロジェクト：実践的なWebアプリケーションの構築</h3>
                    <div class="highlight">
                        <h5>プロジェクト要件</h5>
                        <p>以下の要件を満たす高可用性Webアプリケーションを設計・構築してください：</p>
                        <ul>
                            <li><strong>高可用性</strong>：マルチAZ構成、Auto Scaling</li>
                            <li><strong>パフォーマンス</strong>：CloudFrontによるコンテンツ配信、ElastiCacheによるキャッシング</li>
                            <li><strong>セキュリティ</strong>：IAMロール、セキュリティグループ、SSL/TLS証明書</li>
                            <li><strong>データ永続化</strong>：RDS Multi-AZまたはDynamoDB</li>
                            <li><strong>DNS管理</strong>：Route 53でカスタムドメイン</li>
                            <li><strong>監視</strong>：CloudWatchアラーム、ダッシュボード</li>
                            <li><strong>コスト見積もり</strong>：AWS Pricing Calculatorで月額コスト算出</li>
                            <li><strong>アーキテクチャ図</strong>：システム構成図を作成</li>
                        </ul>
                    </div>

                    <!-- 理解度確認クイズ -->
                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>
                                <strong>AWS Well-Architected Frameworkの6つの柱を挙げてください。</strong>
                                <details>
                                    <summary>解答例を表示</summary>
                                    <p>
                                        1. 運用の優秀性（Operational Excellence）<br>
                                        2. セキュリティ（Security）<br>
                                        3. 信頼性（Reliability）<br>
                                        4. パフォーマンス効率（Performance Efficiency）<br>
                                        5. コスト最適化（Cost Optimization）<br>
                                        6. 持続可能性（Sustainability）
                                    </p>
                                </details>
                            </li>
                            <li>
                                <strong>リザーブドインスタンスとSavings Plansの主な違いは何ですか？</strong>
                                <details>
                                    <summary>解答例を表示</summary>
                                    <p>
                                        リザーブドインスタンスは特定のインスタンスタイプに固定され、柔軟性が低いですが、
                                        Savings Plansはインスタンスファミリー、リージョン、OSの変更が可能で、より柔軟です。
                                        どちらも最大72%の割引率ですが、Savings Plansは変動するワークロードに適しています。
                                    </p>
                                </details>
                            </li>
                            <li>
                                <strong>RPOとRTOの違いを説明してください。</strong>
                                <details>
                                    <summary>解答例を表示</summary>
                                    <p>
                                        <strong>RPO（Recovery Point Objective）</strong>は、許容可能なデータ損失時間で、
                                        最後のバックアップからどれだけのデータを失ってもよいかを示します。<br>
                                        <strong>RTO（Recovery Time Objective）</strong>は、許容可能なシステム停止時間で、
                                        障害発生からシステムを復旧するまでの時間を示します。
                                    </p>
                                </details>
                            </li>
                            <li>
                                <strong>4つのDRパターンを、RTO/RPOが短い順に並べてください。</strong>
                                <details>
                                    <summary>解答例を表示</summary>
                                    <p>
                                        1. <strong>Multi-Site Active/Active</strong>：RTO/RPOほぼゼロ（最もコスト高）<br>
                                        2. <strong>Warm Standby</strong>：RTO分単位、RPO秒～分単位<br>
                                        3. <strong>Pilot Light</strong>：RTO分～時間単位、RPO分単位<br>
                                        4. <strong>Backup & Restore</strong>：RTO/RPO時間単位（最もコスト低）
                                    </p>
                                </details>
                            </li>
                            <li>
                                <strong>キャッシング戦略で使用できるAWSサービスを4つ挙げてください。</strong>
                                <details>
                                    <summary>解答例を表示</summary>
                                    <p>
                                        1. CloudFront：エッジロケーションでのコンテンツキャッシュ<br>
                                        2. ElastiCache：インメモリキャッシュ（Redis、Memcached）<br>
                                        3. DynamoDB Accelerator（DAX）：DynamoDB専用キャッシュ<br>
                                        4. API Gateway：APIレスポンスのキャッシュ
                                    </p>
                                </details>
                            </li>
                            <li>
                                <strong>3層Webアプリケーションアーキテクチャの各層の役割を説明してください。</strong>
                                <details>
                                    <summary>解答例を表示</summary>
                                    <p>
                                        <strong>プレゼンテーション層</strong>：CloudFront + S3で静的コンテンツを配信<br>
                                        <strong>アプリケーション層</strong>：ALB + EC2/ECSでビジネスロジックを処理<br>
                                        <strong>データ層</strong>：RDS/DynamoDBでデータを永続化
                                    </p>
                                </details>
                            </li>
                        </ol>
                    </div>

                    <!-- まとめ -->
                    <h3 class="section-title">まとめ</h3>
                    <p>この章では、AWSのベストプラクティスとコスト最適化について学習しました：</p>
                    <ul>
                        <li><strong>Well-Architected Framework</strong>：6つの柱に基づく設計原則</li>
                        <li><strong>コスト最適化</strong>：Cost Explorer、Budgets、RI/SP、スポットインスタンス、Right Sizing</li>
                        <li><strong>高可用性とDR</strong>：マルチAZ/マルチリージョン、RPO/RTO、4つのDRパターン</li>
                        <li><strong>パフォーマンス</strong>：キャッシング、リードレプリカ、非同期処理</li>
                        <li><strong>アーキテクチャパターン</strong>：3層Webアプリ、サーバーレス、マイクロサービス、CI/CD</li>
                    </ul>

                    <div class="highlight">
                        <h5>学習の完了おめでとうございます！</h5>
                        <p>
                            全10章の学習を通して、AWSの基礎から応用まで、実践的なスキルを身につけることができました。
                            次のステップとして、以下をお勧めします：
                        </p>
                        <ul>
                            <li><strong>AWS認定資格</strong>：クラウドプラクティショナー、ソリューションアーキテクト-アソシエイトの取得</li>
                            <li><strong>実践プロジェクト</strong>：実際のWebアプリケーションを構築してポートフォリオ作成</li>
                            <li><strong>コミュニティ参加</strong>：JAWS-UGなどの勉強会に参加して情報交換</li>
                            <li><strong>継続学習</strong>：新しいAWSサービスやアップデートを追いかける</li>
                        </ul>
                        <p>
                            AWSは常に進化しています。この学習で得た基礎知識をベースに、
                            実務経験を積みながら、より高度なスキルを習得していきましょう。
                        </p>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-5 mb-4">
                        <a href="aws-learning-material-9.html" class="btn btn-secondary">← 前の章：コンテナサービス</a>
                        <a href="../../../index.html" class="btn btn-success">学習完了 - トップページへ →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>

    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>
