<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>クラウドコンピューティング学習教材 第6章 - クラウドネットワーキングとセキュリティ</title>

    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
            line-height: 1.8;
        }

        .navbar {
            background: linear-gradient(135deg, #0d6efd 0%, #0dcaf0 100%);
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
        }

        .sidebar .nav-link {
            color: #495057;
            padding: 0.75rem 1rem;
            transition: all 0.3s;
        }

        .sidebar .nav-link:hover {
            background-color: #e9ecef;
            color: #0d6efd;
        }

        .sidebar .nav-link.active {
            background-color: #0d6efd !important;
            color: white !important;
        }

        .chapter-title {
            color: #0d6efd;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid #0d6efd;
            padding-bottom: 0.5rem;
            font-weight: 700;
        }

        .section-title {
            color: #0dcaf0;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .quiz-container {
            background-color: #e7f3ff;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #0d6efd;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #fff8e1;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        .info-box {
            background-color: #e8f5e9;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #4caf50;
        }

        .code-block {
            background-color: #1e1e1e;
            color: white;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .table {
            margin: 1.5rem 0;
        }

        .table thead {
            background-color: #0d6efd;
            color: white;
        }

        ul, ol {
            margin: 1rem 0;
            padding-left: 2rem;
        }

        li {
            margin: 0.5rem 0;
        }

        .btn-primary {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }

        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0a58ca;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <strong>クラウドコンピューティング学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-1.html">第1章: クラウドコンピューティングの基礎概念</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-2.html">第2章: 主要クラウドプロバイダーの比較とアカウント作成</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-3.html">第3章: AWS基礎サービス</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-4.html">第4章: Azure基礎サービス</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-5.html">第5章: GCP基礎サービス</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="cloud-computing-learning-material-6.html">第6章: クラウドネットワーキングとセキュリティ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-7.html">第7章: クラウドアーキテクチャパターンと設計原則</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-8.html">第8章: サーバーレスコンピューティングとコンテナサービス</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-9.html">第9章: クラウドコスト管理とモニタリング</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cloud-computing-learning-material-10.html">第10章: クラウドベストプラクティスと実践プロジェクト</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第6章: クラウドネットワーキングとセキュリティ</h1>
                </div>

                <div id="chapter6">
                    <h2 class="chapter-title">安全で堅牢なクラウドネットワークを構築する</h2>

                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>仮想プライベートクラウド（VPC）の概念と設計方法を理解する</li>
                            <li>サブネット、ルーティング、ゲートウェイの設定方法を習得する</li>
                            <li>セキュリティグループとネットワークACLの違いと使い分けを理解する</li>
                            <li>IAM（Identity and Access Management）による権限管理を習得する</li>
                            <li>データ暗号化（保存時・転送時）のベストプラクティスを学ぶ</li>
                            <li>監査ログとコンプライアンスの仕組みを理解する</li>
                            <li>ロードバランサーとCDNの活用方法を習得する</li>
                        </ul>
                    </div>

                    <h3 class="section-title">6.1 仮想プライベートクラウド（VPC）</h3>

                    <h4>VPCの概念</h4>
                    <p>
                        <strong>VPC（Virtual Private Cloud）は、クラウド上に構築する論理的に分離されたプライベートネットワーク空間</strong>です。オンプレミスのネットワークと同様に、IPアドレス範囲、サブネット、ルーティング、ファイアウォールを自由に設定できます。
                    </p>

                    <div class="mermaid">
                        graph TB
                            subgraph VPC["VPC (10.0.0.0/16)"]
                                subgraph PublicSubnet["パブリックサブネット<br/>10.0.1.0/24"]
                                    Web1[Webサーバー1]
                                    Web2[Webサーバー2]
                                end
                                subgraph PrivateSubnet["プライベートサブネット<br/>10.0.2.0/24"]
                                    App1[アプリサーバー1]
                                    App2[アプリサーバー2]
                                end
                                subgraph DBSubnet["データベースサブネット<br/>10.0.3.0/24"]
                                    DB1[データベース]
                                end
                            end

                            Internet[インターネット]
                            IGW[インターネットゲートウェイ]
                            NAT[NATゲートウェイ]

                            Internet --> IGW
                            IGW --> Web1
                            IGW --> Web2
                            Web1 --> App1
                            Web2 --> App2
                            App1 --> DB1
                            App2 --> DB1
                            App1 --> NAT
                            App2 --> NAT
                            NAT --> IGW
                    </div>

                    <h4>クラウドプロバイダー別のVPC</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>プロバイダー</th>
                                <th>サービス名</th>
                                <th>特徴</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>AWS</strong></td>
                                <td>Amazon VPC</td>
                                <td>リージョン内に作成。最大/16〜最小/28のCIDRブロック</td>
                            </tr>
                            <tr>
                                <td><strong>Azure</strong></td>
                                <td>Virtual Network (VNet)</td>
                                <td>リージョン内に作成。複数のアドレス空間を追加可能</td>
                            </tr>
                            <tr>
                                <td><strong>GCP</strong></td>
                                <td>Virtual Private Cloud (VPC)</td>
                                <td>グローバルリソース。サブネットがリージョン単位</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>サブネットの設計</h4>
                    <p>サブネットは、VPC内のIPアドレス範囲を分割したネットワークセグメントです。</p>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>サブネット種類</th>
                                <th>説明</th>
                                <th>用途</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>パブリックサブネット</strong></td>
                                <td>インターネットゲートウェイへのルートを持つ</td>
                                <td>Webサーバー、ロードバランサー、NATゲートウェイ</td>
                            </tr>
                            <tr>
                                <td><strong>プライベートサブネット</strong></td>
                                <td>インターネットへの直接アクセスなし</td>
                                <td>アプリケーションサーバー、データベース</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box">
                        <h6>サブネット設計のベストプラクティス</h6>
                        <ul>
                            <li><strong>3層アーキテクチャ</strong>: Web層（パブリック）、アプリ層（プライベート）、DB層（プライベート）で分離</li>
                            <li><strong>マルチAZ配置</strong>: 各層を複数のアベイラビリティゾーンに配置して高可用性を確保</li>
                            <li><strong>CIDR計画</strong>: 将来の拡張を考慮して十分なIPアドレス空間を確保</li>
                            <li><strong>セグメント分離</strong>: 本番環境と開発環境は別のVPCまたはサブネットに分離</li>
                        </ul>
                    </div>

                    <h3 class="section-title">6.2 ルーティングとゲートウェイ</h3>

                    <h4>ルーティングテーブル</h4>
                    <p>
                        <strong>ルーティングテーブルは、ネットワークトラフィックの経路を制御</strong>します。各サブネットは1つのルーティングテーブルに関連付けられます。
                    </p>

                    <h4>主要なゲートウェイ</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>ゲートウェイ</th>
                                <th>AWS</th>
                                <th>Azure</th>
                                <th>GCP</th>
                                <th>用途</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>インターネットゲートウェイ</strong></td>
                                <td>Internet Gateway (IGW)</td>
                                <td>Public IP / Load Balancer</td>
                                <td>デフォルトルート</td>
                                <td>VPCとインターネット間の通信</td>
                            </tr>
                            <tr>
                                <td><strong>NATゲートウェイ</strong></td>
                                <td>NAT Gateway</td>
                                <td>NAT Gateway</td>
                                <td>Cloud NAT</td>
                                <td>プライベートサブネットからのアウトバウンド通信</td>
                            </tr>
                            <tr>
                                <td><strong>VPNゲートウェイ</strong></td>
                                <td>Virtual Private Gateway</td>
                                <td>VPN Gateway</td>
                                <td>Cloud VPN</td>
                                <td>オンプレミスとの暗号化接続</td>
                            </tr>
                            <tr>
                                <td><strong>専用線接続</strong></td>
                                <td>AWS Direct Connect</td>
                                <td>Azure ExpressRoute</td>
                                <td>Cloud Interconnect</td>
                                <td>オンプレミスとの高速専用接続</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="section-title">6.3 セキュリティグループとネットワークACL</h3>

                    <h4>セキュリティグループ vs ネットワークACL</h4>
                    <p>
                        クラウドには、<strong>2つの主要なファイアウォール機能</strong>があり、多層防御を実現します。
                    </p>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>項目</th>
                                <th>セキュリティグループ</th>
                                <th>ネットワークACL</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>適用レベル</strong></td>
                                <td>インスタンス（ENI）レベル</td>
                                <td>サブネットレベル</td>
                            </tr>
                            <tr>
                                <td><strong>ステート</strong></td>
                                <td>ステートフル（戻りトラフィックは自動許可）</td>
                                <td>ステートレス（戻りトラフィックも明示的に許可が必要）</td>
                            </tr>
                            <tr>
                                <td><strong>ルール評価</strong></td>
                                <td>すべてのルールを評価</td>
                                <td>優先度順に評価（最初にマッチしたルールを適用）</td>
                            </tr>
                            <tr>
                                <td><strong>デフォルト</strong></td>
                                <td>すべて拒否</td>
                                <td>すべて許可（デフォルトACL）</td>
                            </tr>
                            <tr>
                                <td><strong>許可/拒否</strong></td>
                                <td>許可ルールのみ</td>
                                <td>許可・拒否の両方</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exercise-container">
                        <h5>実習 6-1: AWS VPCとセキュリティグループの設定</h5>

                        <p><strong>ステップ1: VPCの作成</strong></p>
                        <pre><code class="language-bash"># VPCの作成（10.0.0.0/16）
aws ec2 create-vpc --cidr-block 10.0.0.0/16 --tag-specifications 'ResourceType=vpc,Tags=[{Key=Name,Value=MyVPC}]'

# VPC IDを取得
VPC_ID=$(aws ec2 describe-vpcs --filters "Name=tag:Name,Values=MyVPC" --query 'Vpcs[0].VpcId' --output text)
echo "VPC ID: $VPC_ID"</code></pre>

                        <p><strong>ステップ2: サブネットの作成</strong></p>
                        <pre><code class="language-bash"># パブリックサブネットの作成（10.0.1.0/24）
aws ec2 create-subnet --vpc-id $VPC_ID --cidr-block 10.0.1.0/24 --availability-zone ap-northeast-1a --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=PublicSubnet}]'

# プライベートサブネットの作成（10.0.2.0/24）
aws ec2 create-subnet --vpc-id $VPC_ID --cidr-block 10.0.2.0/24 --availability-zone ap-northeast-1a --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=PrivateSubnet}]'</code></pre>

                        <p><strong>ステップ3: インターネットゲートウェイの作成とアタッチ</strong></p>
                        <pre><code class="language-bash"># インターネットゲートウェイの作成
aws ec2 create-internet-gateway --tag-specifications 'ResourceType=internet-gateway,Tags=[{Key=Name,Value=MyIGW}]'

# IGW IDを取得
IGW_ID=$(aws ec2 describe-internet-gateways --filters "Name=tag:Name,Values=MyIGW" --query 'InternetGateways[0].InternetGatewayId' --output text)

# VPCにアタッチ
aws ec2 attach-internet-gateway --vpc-id $VPC_ID --internet-gateway-id $IGW_ID</code></pre>

                        <p><strong>ステップ4: セキュリティグループの作成</strong></p>
                        <pre><code class="language-bash"># Webサーバー用セキュリティグループ
aws ec2 create-security-group \
    --group-name web-sg \
    --description "Security group for web servers" \
    --vpc-id $VPC_ID

# セキュリティグループIDを取得
SG_ID=$(aws ec2 describe-security-groups --filters "Name=group-name,Values=web-sg" --query 'SecurityGroups[0].GroupId' --output text)

# HTTP（80）を許可
aws ec2 authorize-security-group-ingress \
    --group-id $SG_ID \
    --protocol tcp \
    --port 80 \
    --cidr 0.0.0.0/0

# HTTPS（443）を許可
aws ec2 authorize-security-group-ingress \
    --group-id $SG_ID \
    --protocol tcp \
    --port 443 \
    --cidr 0.0.0.0/0

# SSH（22）を特定IPのみ許可
aws ec2 authorize-security-group-ingress \
    --group-id $SG_ID \
    --protocol tcp \
    --port 22 \
    --cidr YOUR_IP/32</code></pre>
                    </div>

                    <h3 class="section-title">6.4 IAM（Identity and Access Management）</h3>

                    <h4>IAMの基本概念</h4>
                    <p>
                        <strong>IAMは、クラウドリソースへのアクセスを安全に制御するための仕組み</strong>です。「誰が」「何に」「どのような操作」ができるかを定義します。
                    </p>

                    <div class="mermaid">
                        graph LR
                            A[ユーザー/サービス] --> B{認証<br/>Authentication}
                            B --> C{認可<br/>Authorization}
                            C --> D[リソースアクセス]

                            E[ユーザー] --> F[グループ]
                            F --> G[ポリシー]
                            H[ロール] --> G
                            G --> I[権限]
                    </div>

                    <h4>IAMの主要コンポーネント</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>コンポーネント</th>
                                <th>説明</th>
                                <th>用途</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ユーザー</strong></td>
                                <td>個人またはアプリケーションのIDを表す</td>
                                <td>人間のユーザーアカウント、CI/CDシステム</td>
                            </tr>
                            <tr>
                                <td><strong>グループ</strong></td>
                                <td>ユーザーをまとめて管理</td>
                                <td>開発者グループ、管理者グループ等</td>
                            </tr>
                            <tr>
                                <td><strong>ロール</strong></td>
                                <td>一時的な権限を付与するID</td>
                                <td>EC2インスタンス、Lambda関数等のサービスに権限付与</td>
                            </tr>
                            <tr>
                                <td><strong>ポリシー</strong></td>
                                <td>権限を定義したJSONドキュメント</td>
                                <td>「S3バケットの読み取り許可」等の権限定義</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>最小権限の原則</h4>
                    <div class="warning">
                        <h6>セキュリティベストプラクティス</h6>
                        <p>
                            <strong>最小権限の原則（Principle of Least Privilege）</strong>を常に適用してください。ユーザーやサービスには、<strong>必要最小限の権限のみを付与</strong>し、定期的に見直しを行います。
                        </p>
                        <ul>
                            <li>管理者権限（AdministratorAccess）は本当に必要な場合のみ付与</li>
                            <li>ワイルドカード（*）の使用は最小限に</li>
                            <li>期間限定の一時的な権限昇格を検討</li>
                            <li>未使用の権限は削除</li>
                        </ul>
                    </div>

                    <h4>IAMポリシーの例</h4>
                    <pre><code class="language-json">{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "s3:GetObject",
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::my-bucket",
        "arn:aws:s3:::my-bucket/*"
      ]
    },
    {
      "Effect": "Deny",
      "Action": "s3:DeleteBucket",
      "Resource": "*"
    }
  ]
}</code></pre>

                    <h3 class="section-title">6.5 データ暗号化</h3>

                    <h4>暗号化の2つの側面</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>暗号化種類</th>
                                <th>説明</th>
                                <th>実装例</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>保存時の暗号化<br/>(Encryption at Rest)</strong></td>
                                <td>ディスクに保存されているデータを暗号化</td>
                                <td>・EBS暗号化<br/>・S3 SSE（Server-Side Encryption）<br/>・RDS暗号化</td>
                            </tr>
                            <tr>
                                <td><strong>転送時の暗号化<br/>(Encryption in Transit)</strong></td>
                                <td>ネットワーク上を移動するデータを暗号化</td>
                                <td>・HTTPS/TLS<br/>・VPN接続<br/>・データベース接続のSSL/TLS</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>主要な暗号化サービス</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>プロバイダー</th>
                                <th>サービス名</th>
                                <th>特徴</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>AWS</strong></td>
                                <td>AWS KMS (Key Management Service)</td>
                                <td>暗号化キーの作成・管理。他のAWSサービスと統合</td>
                            </tr>
                            <tr>
                                <td><strong>Azure</strong></td>
                                <td>Azure Key Vault</td>
                                <td>キー、シークレット、証明書の管理</td>
                            </tr>
                            <tr>
                                <td><strong>GCP</strong></td>
                                <td>Cloud KMS</td>
                                <td>暗号化キー管理。デフォルトで保存時暗号化</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="section-title">6.6 監査ログとコンプライアンス</h3>

                    <h4>クラウド監査ログサービス</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>プロバイダー</th>
                                <th>サービス名</th>
                                <th>記録内容</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>AWS</strong></td>
                                <td>AWS CloudTrail</td>
                                <td>APIコール、ユーザーアクティビティ、リソース変更</td>
                            </tr>
                            <tr>
                                <td><strong>Azure</strong></td>
                                <td>Azure Monitor / Activity Log</td>
                                <td>サブスクリプションレベルのイベント、リソース変更</td>
                            </tr>
                            <tr>
                                <td><strong>GCP</strong></td>
                                <td>Cloud Audit Logs</td>
                                <td>管理アクティビティ、データアクセス、システムイベント</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box">
                        <h6>監査ログのベストプラクティス</h6>
                        <ul>
                            <li><strong>すべてのアカウントで有効化</strong>: CloudTrail等は全リージョン・全サービスで有効化</li>
                            <li><strong>ログの長期保存</strong>: S3等に保存し、ライフサイクルポリシーで低コストストレージに移行</li>
                            <li><strong>ログの改ざん防止</strong>: ログファイルの整合性検証を有効化</li>
                            <li><strong>アラート設定</strong>: 不審なアクティビティを検出したら通知</li>
                            <li><strong>定期的なレビュー</strong>: セキュリティチームによる定期的なログ分析</li>
                        </ul>
                    </div>

                    <h3 class="section-title">6.7 ロードバランサーとCDN</h3>

                    <h4>ロードバランサーの種類</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>種類</th>
                                <th>OSI層</th>
                                <th>用途</th>
                                <th>AWS</th>
                                <th>Azure</th>
                                <th>GCP</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Application LB</strong></td>
                                <td>Layer 7 (HTTP/HTTPS)</td>
                                <td>Webアプリケーション、パスベースルーティング</td>
                                <td>ALB</td>
                                <td>Application Gateway</td>
                                <td>HTTP(S) Load Balancing</td>
                            </tr>
                            <tr>
                                <td><strong>Network LB</strong></td>
                                <td>Layer 4 (TCP/UDP)</td>
                                <td>高性能、低レイテンシが必要な場合</td>
                                <td>NLB</td>
                                <td>Load Balancer</td>
                                <td>TCP/UDP Load Balancing</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>CDNサービス</h4>
                    <p>
                        <strong>CDN（Content Delivery Network）</strong>は、世界中のエッジロケーションにコンテンツをキャッシュし、ユーザーに最も近い場所から配信することで、高速化と負荷分散を実現します。
                    </p>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>プロバイダー</th>
                                <th>サービス名</th>
                                <th>エッジロケーション数</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>AWS</strong></td>
                                <td>Amazon CloudFront</td>
                                <td>400以上のPOPロケーション</td>
                            </tr>
                            <tr>
                                <td><strong>Azure</strong></td>
                                <td>Azure CDN</td>
                                <td>130以上のPOPロケーション</td>
                            </tr>
                            <tr>
                                <td><strong>GCP</strong></td>
                                <td>Cloud CDN</td>
                                <td>Googleのグローバルネットワーク活用</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>VPCとは何ですか？オンプレミスのネットワークとの違いを説明してください。</li>
                            <li>パブリックサブネットとプライベートサブネットの違いは何ですか？</li>
                            <li>セキュリティグループとネットワークACLの主な違いを3つ挙げてください。</li>
                            <li>IAMにおける「最小権限の原則」とは何ですか？なぜ重要ですか？</li>
                            <li>保存時の暗号化と転送時の暗号化の違いを説明してください。</li>
                            <li>CloudTrail（AWS）のようなログサービスが記録する情報を3つ挙げてください。</li>
                            <li>Application Load BalancerとNetwork Load Balancerの違いは何ですか？</li>
                            <li>CDNを使用する利点を3つ挙げてください。</li>
                        </ol>

                        <h6>解答のポイント</h6>
                        <details>
                            <summary>クリックして解答例を表示</summary>
                            <ol>
                                <li><strong>VPC</strong>: クラウド上の論理的に分離されたプライベートネットワーク空間。オンプレミスとの違いは物理機器が不要で柔軟にスケール可能</li>
                                <li><strong>サブネット</strong>: パブリックはインターネットゲートウェイへのルートあり、プライベートはなし</li>
                                <li><strong>SG vs ACL</strong>: (1)適用レベル：インスタンス vs サブネット、(2)ステート：ステートフル vs ステートレス、(3)ルール：許可のみ vs 許可・拒否</li>
                                <li><strong>最小権限</strong>: 必要最小限の権限のみ付与。セキュリティリスク低減と権限の誤用防止のため重要</li>
                            </ol>
                        </details>
                    </div>

                    <h3 class="section-title">6.8 本章のまとめ</h3>
                    <div class="info-box">
                        <h6>重要ポイント</h6>
                        <ul>
                            <li>VPCは論理的に分離されたプライベートネットワーク空間で、サブネット、ルーティング、ファイアウォールを柔軟に設定できる</li>
                            <li>セキュリティグループ（インスタンスレベル）とネットワークACL（サブネットレベル）で多層防御を実現</li>
                            <li>IAMで「誰が」「何に」「どのような操作」ができるかを制御し、最小権限の原則を適用</li>
                            <li>データは保存時と転送時の両方で暗号化する</li>
                            <li>監査ログを有効化し、すべてのアクティビティを記録・分析</li>
                            <li>ロードバランサーで負荷分散と高可用性を実現</li>
                            <li>CDNで世界中のユーザーに高速にコンテンツを配信</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-5 mb-4">
                        <a href="cloud-computing-learning-material-5.html" class="btn btn-secondary">← 前の章へ</a>
                        <a href="cloud-computing-learning-material-7.html" class="btn btn-primary">次の章へ →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>
