<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" id="viewport-meta">
    <title>OutSystems入門 第3章 - データを管理する</title>

    <!-- ダークモード早期適用（フラッシュ防止） -->
    <script>
        (function() {
            const saved = localStorage.getItem('darkMode');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (saved === 'dark' || (saved === null && prefersDark)) {
                document.documentElement.classList.add('dark');
            }
        })();
    </script>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans JP"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts - Noto Sans JP -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- カスタムスタイル -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="font-sans bg-slate-50 text-slate-800 antialiased">
    <!-- ヘッダー/ナビゲーションバー -->
    <header class="fixed top-0 left-0 right-0 z-50 text-white header-rich header-rich-shadow">
        <nav class="w-full px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="flex items-center justify-between py-3">
                <!-- 左側: ロゴとタイトルセクション -->
                <div class="flex items-center gap-4">
                    <!-- アイコン -->
                    <div class="relative group">
                        <div class="absolute inset-0 bg-gradient-to-br from-slate-400/30 to-slate-600/30 rounded-2xl blur-lg group-hover:blur-xl transition-all"></div>
                        <div class="relative w-14 h-14 bg-white/10 rounded-xl flex items-center justify-center backdrop-blur-sm border border-white/20">
                            <i class="fas fa-cube text-3xl icon-rotate-hover drop-shadow-lg"></i>
                        </div>
                    </div>

                    <!-- タイトルとメタ情報 -->
                    <div class="flex flex-col gap-1">
                        <div class="flex items-center gap-2">
                            <span class="text-xl font-bold tracking-wide drop-shadow-md">OutSystems入門</span>
                            <span class="hidden sm:inline-flex items-center gap-1 px-2 py-0.5 bg-white/20 rounded-md text-[10px] font-semibold uppercase tracking-wider">
                                <i class="fas fa-star text-yellow-300 text-[8px]"></i>
                                初級
                            </span>
                        </div>
                        <div class="flex items-center gap-3 text-[11px] text-white/90 font-medium">
                            <div class="flex items-center gap-1">
                                <i class="fas fa-code text-[9px]"></i>
                                <span>ローコード開発</span>
                            </div>
                            <div class="hidden sm:flex items-center gap-1">
                                <i class="fas fa-clock text-[9px]"></i>
                                <span>所要時間 約15時間</span>
                            </div>
                            <div class="hidden lg:flex items-center gap-1">
                                <i class="fas fa-language text-[9px]"></i>
                                <span>日本語</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 右側: サイドバートグルボタン -->
                <button id="sidebar-toggle-btn" class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20 transition-all active:scale-95" title="サイドバーの表示/非表示">
                    <i class="fas fa-bars text-lg"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- メインレイアウト -->
    <div class="flex min-h-screen pt-20">
        <!-- サイドバーはsidebar-content.jsで動的に生成されます -->

        <!-- メインコンテンツ -->
        <main class="flex-1 min-w-0">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-10 py-6">
                <!-- パンくずリスト -->
                <nav class="flex items-center gap-2 text-sm text-slate-500 mb-6">
                    <a href="https://fcircle-biz.github.io/tech_docs/" class="hover:text-primary-600 transition-colors">ホーム</a>
                    <i class="fas fa-chevron-right text-xs"></i>
                    <a href="README.md" class="hover:text-primary-600 transition-colors">OutSystems入門</a>
                    <i class="fas fa-chevron-right text-xs"></i>
                    <span class="text-slate-700">第3章</span>
                </nav>

                <!-- 章ヘッダー -->
                <header class="mb-6">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
                                     bg-primary-100 text-primary-700">
                            第3章
                        </span>
                        <span class="text-sm text-slate-500">
                            <i class="fas fa-clock mr-1"></i>所要時間: 1時間
                        </span>
                    </div>
                    <h1 class="text-2xl sm:text-3xl font-bold text-slate-900 mb-2">データを管理する - エンティティとアトリビュート</h1>
                    <p class="text-slate-600">アプリケーションで使うデータの保存場所「データベース」について学びます。エンティティとアトリビュートの概念を、住所録アプリを例に分かりやすく説明します。</p>
                </header>

                <!-- 学習目標カード -->
                <div class="bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200
                            rounded-xl p-5 mb-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-amber-400 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-lightbulb text-white"></i>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-amber-800 mb-3">この章で学ぶこと</h2>
                            <ul class="space-y-2">
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>データベースとは何か、アプリケーションでのデータの保存方法を理解する</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>エンティティ（データの入れ物）とアトリビュート（データの項目）の概念を理解する</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>OutSystemsでエンティティを作成し、アトリビュートを定義する方法を習得する</span>
                                </li>
                                <li class="flex items-start gap-2 text-amber-900">
                                    <i class="fas fa-check-circle text-amber-500 mt-1 flex-shrink-0"></i>
                                    <span>データ型の種類と、それぞれの使い分けを理解する</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- セクション1: データベースとは -->
                <section class="mb-10">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        3.1 データベースって何だろう？
                    </h2>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        アプリケーションを使っていると、さまざまなデータを扱います。例えば、住所録アプリなら「氏名」「電話番号」「メールアドレス」といった情報、
                        ショッピングアプリなら「商品名」「価格」「在庫数」などです。
                    </p>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        これらのデータを保存しておく場所が<strong class="text-primary-700">データベース</strong>（Database）です。
                        イメージとしては、Excelの表のような「表形式でデータを整理して保存する仕組み」と考えてください。
                    </p>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-lightbulb text-blue-600 mt-1"></i>
                            <div>
                                <p class="text-blue-900 font-medium">データベースのイメージ</p>
                                <p class="text-blue-800 text-sm mt-1">
                                    Excelで顧客リストを作るとき、1行に1人分のデータを入力して、列ごとに「氏名」「住所」「電話番号」などの項目を分けますよね。
                                    データベースも同じような構造で、データを整理して保存します。
                                </p>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-700 mt-6 mb-3">なぜデータベースが必要なのか</h3>

                    <div class="grid md:grid-cols-2 gap-4 my-6">
                        <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-4">
                            <h4 class="font-semibold text-emerald-800 mb-2 flex items-center gap-2">
                                <i class="fas fa-save text-emerald-600"></i>
                                データを永続的に保存
                            </h4>
                            <p class="text-emerald-900 text-sm">
                                アプリを閉じたり、パソコンを再起動しても、データは消えずに残ります。
                            </p>
                        </div>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <h4 class="font-semibold text-blue-800 mb-2 flex items-center gap-2">
                                <i class="fas fa-search text-blue-600"></i>
                                データを検索・抽出
                            </h4>
                            <p class="text-blue-900 text-sm">
                                大量のデータから、必要な情報だけを素早く取り出せます。
                            </p>
                        </div>
                        <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                            <h4 class="font-semibold text-purple-800 mb-2 flex items-center gap-2">
                                <i class="fas fa-users text-purple-600"></i>
                                複数ユーザーで共有
                            </h4>
                            <p class="text-purple-900 text-sm">
                                複数の人が同時にアクセスして、データの閲覧や更新ができます。
                            </p>
                        </div>
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                            <h4 class="font-semibold text-orange-800 mb-2 flex items-center gap-2">
                                <i class="fas fa-shield-alt text-orange-600"></i>
                                データの整合性を保つ
                            </h4>
                            <p class="text-orange-900 text-sm">
                                ルールを設定して、間違ったデータが入らないようにできます。
                            </p>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg p-6 my-6 overflow-x-auto">
                        <h4 class="font-semibold text-slate-800 mb-4">アプリケーションとデータベースの関係</h4>
                        <div class="mermaid">
flowchart LR
    User([ユーザー]) -->|データ入力<br/>データ閲覧| App[OutSystemsアプリ]
    App -->|データ保存<br/>データ取得| DB[(データベース)]
    DB -->|保存されたデータ| App
    App -->|画面表示| User
    style User fill:#dbeafe,stroke:#3b82f6
    style App fill:#f1f5f9,stroke:#64748b
    style DB fill:#dcfce7,stroke:#22c55e
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-700 mt-6 mb-3">OutSystemsでのデータ管理</h3>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        OutSystemsでは、<strong class="text-primary-700">エンティティ</strong>というものを作成するだけで、自動的にデータベースが作られます。
                        データベースの専門知識がなくても、視覚的な操作だけでデータ管理ができる仕組みになっています。
                    </p>

                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-star text-emerald-600 mt-1"></i>
                            <div>
                                <p class="text-emerald-900 font-medium">OutSystemsの便利な点</p>
                                <p class="text-emerald-800 text-sm mt-1">
                                    従来のシステム開発では、データベースの専門家（DBA: Database Administrator）が複雑なSQL文を書いて設定する必要がありました。
                                    OutSystemsでは、<strong>マウス操作だけでデータベースの設計から管理までできる</strong>ので、初心者でも安心です。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション2: エンティティとは -->
                <section class="mb-10">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        3.2 エンティティとは - データの入れ物
                    </h2>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong class="text-primary-700">エンティティ</strong>（Entity）は、データベースで「何について」データを保存するかを表す「データの入れ物」です。
                        Excelで言えば「シート」に相当します。
                    </p>

                    <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-6 my-6">
                        <h4 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-box text-primary-500"></i>
                            住所録アプリの例
                        </h4>
                        <p class="text-slate-600 text-sm mb-4">
                            住所録アプリを作る場合、「連絡先」というエンティティを作成します。
                            このエンティティには、一人一人の連絡先情報が保存されます。
                        </p>
                        <div class="bg-slate-50 rounded-lg p-4 border border-slate-200">
                            <p class="text-slate-700 font-medium mb-2">エンティティ名: <span class="text-primary-700">Contact</span>（連絡先）</p>
                            <p class="text-slate-600 text-sm">このエンティティには、「氏名」「電話番号」「メールアドレス」「住所」などの情報が保存されます。</p>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-700 mt-6 mb-3">エンティティの役割</h3>

                    <div class="overflow-x-auto my-6">
                        <table class="min-w-full bg-white border border-slate-200 rounded-lg">
                            <thead class="bg-slate-100">
                                <tr>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-slate-700">例</th>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-slate-700">エンティティ名</th>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-slate-700">保存する情報</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-200">
                                <tr>
                                    <td class="px-4 py-3 font-medium text-slate-700">顧客管理システム</td>
                                    <td class="px-4 py-3 text-primary-700 font-medium">Customer</td>
                                    <td class="px-4 py-3 text-slate-600">顧客名、会社名、住所、電話番号</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="px-4 py-3 font-medium text-slate-700">商品在庫管理</td>
                                    <td class="px-4 py-3 text-primary-700 font-medium">Product</td>
                                    <td class="px-4 py-3 text-slate-600">商品名、価格、在庫数、カテゴリ</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-medium text-slate-700">予約システム</td>
                                    <td class="px-4 py-3 text-primary-700 font-medium">Reservation</td>
                                    <td class="px-4 py-3 text-slate-600">予約日時、予約者名、人数、ステータス</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="px-4 py-3 font-medium text-slate-700">タスク管理</td>
                                    <td class="px-4 py-3 text-primary-700 font-medium">Task</td>
                                    <td class="px-4 py-3 text-slate-600">タスク名、期限、担当者、完了状態</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-info-circle text-blue-600 mt-1"></i>
                            <div>
                                <p class="text-blue-900 font-medium">エンティティの名前付けルール</p>
                                <p class="text-blue-800 text-sm mt-1">
                                    エンティティ名は通常、<strong>英語の単数形</strong>で付けます。例えば、複数の顧客データを保存する場合でも
                                    「Customers」ではなく「Customer」とします。これは「一人の顧客」を表すデータ構造を定義しているためです。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション3: アトリビュートとは -->
                <section class="mb-10">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        3.3 アトリビュートとは - データの項目
                    </h2>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        <strong class="text-primary-700">アトリビュート</strong>（Attribute）は、エンティティに保存する「具体的な項目」です。
                        Excelで言えば「列」に相当します。
                    </p>

                    <div class="bg-white rounded-lg p-6 my-6 overflow-x-auto">
                        <h4 class="font-semibold text-slate-800 mb-4">エンティティとアトリビュートの関係</h4>
                        <div class="mermaid">
erDiagram
    CONTACT {
      Text Id PK
      Text Name
      Text PhoneNumber
      Email EmailAddress
      Text Address
      DateTime CreatedDate
    }
                        </div>
                    </div>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        上記の図では、<strong>Contact</strong>というエンティティに、6つのアトリビュート（Id, Name, PhoneNumber, EmailAddress, Address, CreatedDate）が定義されています。
                    </p>

                    <h3 class="text-lg font-semibold text-slate-700 mt-6 mb-3">データ型の種類</h3>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        各アトリビュートには<strong class="text-primary-700">データ型</strong>（Data Type）を指定します。
                        これは「どんな種類のデータを保存するか」を決めるもので、正しく設定しないとエラーになったり、意図した動作にならないことがあります。
                    </p>

                    <div class="overflow-x-auto my-6">
                        <table class="min-w-full bg-white border border-slate-200 rounded-lg">
                            <thead class="bg-slate-100">
                                <tr>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-slate-700">データ型</th>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-slate-700">説明</th>
                                    <th class="px-4 py-3 text-left text-sm font-semibold text-slate-700">使用例</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-200">
                                <tr>
                                    <td class="px-4 py-3 font-medium text-primary-700">Text</td>
                                    <td class="px-4 py-3 text-slate-600">文字列（最大2,000文字）</td>
                                    <td class="px-4 py-3 text-slate-600">氏名、住所、メモ</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="px-4 py-3 font-medium text-primary-700">Integer</td>
                                    <td class="px-4 py-3 text-slate-600">整数（小数点なし）</td>
                                    <td class="px-4 py-3 text-slate-600">年齢、個数、人数</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-medium text-primary-700">Decimal</td>
                                    <td class="px-4 py-3 text-slate-600">小数点付き数値</td>
                                    <td class="px-4 py-3 text-slate-600">価格、割引率、重量</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="px-4 py-3 font-medium text-primary-700">Boolean</td>
                                    <td class="px-4 py-3 text-slate-600">真偽値（True/False）</td>
                                    <td class="px-4 py-3 text-slate-600">完了フラグ、公開/非公開</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-medium text-primary-700">Date</td>
                                    <td class="px-4 py-3 text-slate-600">日付（年月日）</td>
                                    <td class="px-4 py-3 text-slate-600">生年月日、予約日</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="px-4 py-3 font-medium text-primary-700">DateTime</td>
                                    <td class="px-4 py-3 text-slate-600">日付と時刻</td>
                                    <td class="px-4 py-3 text-slate-600">作成日時、更新日時</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-medium text-primary-700">Email</td>
                                    <td class="px-4 py-3 text-slate-600">メールアドレス</td>
                                    <td class="px-4 py-3 text-slate-600">連絡先メールアドレス</td>
                                </tr>
                                <tr class="bg-slate-50">
                                    <td class="px-4 py-3 font-medium text-primary-700">Phone Number</td>
                                    <td class="px-4 py-3 text-slate-600">電話番号</td>
                                    <td class="px-4 py-3 text-slate-600">携帯番号、会社電話</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-exclamation-circle text-orange-600 mt-1"></i>
                            <div>
                                <p class="text-orange-900 font-medium">データ型の選択は重要</p>
                                <p class="text-orange-800 text-sm mt-1">
                                    例えば、年齢を「Text（文字列）」で保存すると、数値として計算ができません。
                                    また、電話番号を「Integer（整数）」で保存すると、ハイフンや括弧が入力できず不便です。
                                    <strong>用途に合ったデータ型を選ぶこと</strong>が大切です。
                                </p>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-slate-700 mt-6 mb-3">主キー（Primary Key）とは</h3>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        エンティティには必ず<strong class="text-primary-700">主キー</strong>（Primary Key）というアトリビュートが必要です。
                        これは、各レコード（データの1行）を一意に識別するための「ID」のようなものです。
                    </p>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-lightbulb text-blue-600 mt-1"></i>
                            <div>
                                <p class="text-blue-900 font-medium">主キーの役割</p>
                                <p class="text-blue-800 text-sm mt-1">
                                    例えば、同じ名前の人が2人いても、主キーが違えば区別できます。
                                    OutSystemsでは、エンティティを作成すると自動的に「Id」という主キーが追加されます。
                                    この値は、データが追加されるたびに自動的にユニークな値が設定されます。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション4: 実習 - エンティティ作成 -->
                <section class="mb-10">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        3.4 実習: 住所録エンティティを作成しよう
                    </h2>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        それでは、実際にOutSystemsで住所録用のエンティティを作成してみましょう。
                        簡単な連絡先情報を保存できる「Contact」エンティティを作ります。
                    </p>

                    <!-- 実習カード: エンティティ作成 -->
                    <div class="bg-gradient-to-r from-purple-50 to-fuchsia-50 border border-purple-200
                                rounded-xl p-5 my-6 overflow-hidden">
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0 w-10 h-10 bg-purple-500 rounded-lg
                                        flex items-center justify-center">
                                <i class="fas fa-database text-white"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h3 class="text-lg font-semibold text-purple-800 mb-3">実習 3-1: Contactエンティティの作成</h3>
                                <p class="text-purple-900 mb-4">住所録用のエンティティを作成し、必要なアトリビュートを追加します。</p>

                                <h4 class="font-medium text-purple-800 mb-2">手順</h4>
                                <ol class="space-y-4 mb-4">
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">1</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">Service Studioを起動</p>
                                            <p class="text-sm">前章で作成した「HelloOutSystems」アプリを開きます。
                                            （または新しくReactive Web Appを作成してください）</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">2</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">エンティティを作成</p>
                                            <p class="text-sm">左側のツリーで「Data」タブを選択し、「Entities」フォルダを右クリックして
                                            「Add Entity」を選択します。エンティティ名に「Contact」と入力してEnterキーを押します。</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">3</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">Nameアトリビュートを追加</p>
                                            <p class="text-sm">作成されたContactエンティティを選択し、右側のプロパティパネルを確認します。
                                            デフォルトで「Id」というアトリビュートがあります。これに加えて、
                                            エンティティ上で右クリック→「Add Entity Attribute」を選択し、「Name」という名前のアトリビュートを追加します。
                                            データ型は「Text」のままでOKです。</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">4</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">PhoneNumberアトリビュートを追加</p>
                                            <p class="text-sm">同じ方法で「PhoneNumber」というアトリビュートを追加します。
                                            右側のプロパティで、Data Typeを「Phone Number」に変更します。</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">5</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">EmailAddressアトリビュートを追加</p>
                                            <p class="text-sm">「EmailAddress」というアトリビュートを追加し、
                                            Data Typeを「Email」に変更します。</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">6</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">Addressアトリビュートを追加</p>
                                            <p class="text-sm">「Address」というアトリビュートを追加します（Data Typeは「Text」）。
                                            右側のプロパティで、Lengthを「500」に設定します（長い住所にも対応できるように）。</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">7</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">公開（Publish）</p>
                                            <p class="text-sm">画面上部の「1-Click Publish」ボタンをクリックして、変更をデータベースに反映します。
                                            これで、クラウド環境にContactテーブルが作成されました。</p>
                                        </div>
                                    </li>
                                </ol>

                                <div class="bg-purple-100 rounded-lg p-4 border border-purple-200">
                                    <p class="text-purple-900 font-medium mb-2">
                                        <i class="fas fa-check-circle text-purple-600 mr-2"></i>
                                        完成イメージ
                                    </p>
                                    <p class="text-purple-800 text-sm mb-3">
                                        Contactエンティティには、以下のアトリビュートが含まれています：
                                    </p>
                                    <ul class="text-purple-800 text-sm space-y-1">
                                        <li>• <strong>Id</strong> (Text) - 主キー、自動生成</li>
                                        <li>• <strong>Name</strong> (Text) - 氏名</li>
                                        <li>• <strong>PhoneNumber</strong> (Phone Number) - 電話番号</li>
                                        <li>• <strong>EmailAddress</strong> (Email) - メールアドレス</li>
                                        <li>• <strong>Address</strong> (Text, Length: 500) - 住所</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-lightbulb text-emerald-600 mt-1"></i>
                            <div>
                                <p class="text-emerald-900 font-medium">ヒント</p>
                                <p class="text-emerald-800 text-sm mt-1">
                                    エンティティを作成すると、OutSystemsが自動的に以下のアトリビュートも追加します：<br>
                                    • <strong>CreatedBy</strong> - 作成したユーザー<br>
                                    • <strong>CreatedDate</strong> - 作成日時<br>
                                    • <strong>UpdatedBy</strong> - 最終更新ユーザー<br>
                                    • <strong>UpdatedDate</strong> - 最終更新日時<br>
                                    これらは自動的に管理されるので、気にする必要はありません。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- セクション5: 実習 - データ追加 -->
                <section class="mb-10">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        3.5 実習: サンプルデータを追加しよう
                    </h2>

                    <p class="text-slate-600 leading-relaxed mb-4">
                        エンティティを作成したら、実際にデータを追加してみましょう。
                        OutSystemsには、開発中にテストデータを簡単に追加できる機能があります。
                    </p>

                    <!-- 実習カード: データ追加 -->
                    <div class="bg-gradient-to-r from-purple-50 to-fuchsia-50 border border-purple-200
                                rounded-xl p-5 my-6 overflow-hidden">
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0 w-10 h-10 bg-purple-500 rounded-lg
                                        flex items-center justify-center">
                                <i class="fas fa-plus text-white"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h3 class="text-lg font-semibold text-purple-800 mb-3">実習 3-2: Contactデータの追加</h3>
                                <p class="text-purple-900 mb-4">エンティティにサンプルデータを追加して、動作を確認します。</p>

                                <h4 class="font-medium text-purple-800 mb-2">手順</h4>
                                <ol class="space-y-4 mb-4">
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">1</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">データタブを開く</p>
                                            <p class="text-sm">Service Studioで、左側のツリーから「Data」タブを選択し、
                                            作成した「Contact」エンティティを右クリックします。</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">2</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">View or Edit Dataを選択</p>
                                            <p class="text-sm">右クリックメニューから「View or Edit Data」を選択します。
                                            ブラウザが開き、データを入力できる画面が表示されます。</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">3</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">新しいレコードを追加</p>
                                            <p class="text-sm">「Add record」ボタンをクリックして、以下のようなサンプルデータを入力します：</p>
                                            <div class="bg-purple-100 rounded-lg p-3 mt-2 text-sm">
                                                <p><strong>Name:</strong> 山田太郎</p>
                                                <p><strong>PhoneNumber:</strong> 090-1234-5678</p>
                                                <p><strong>EmailAddress:</strong> yamada@example.com</p>
                                                <p><strong>Address:</strong> 東京都渋谷区1-2-3</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">4</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">さらにレコードを追加</p>
                                            <p class="text-sm">同じ方法で、2〜3件のサンプルデータを追加してみましょう。
                                            架空の人物で構いません。</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-3 text-purple-900">
                                        <span class="flex-shrink-0 w-6 h-6 bg-purple-200 rounded-full
                                                     flex items-center justify-center text-sm font-medium">5</span>
                                        <div class="flex-1 min-w-0">
                                            <p class="font-medium mb-1">保存を確認</p>
                                            <p class="text-sm">入力したデータは自動的に保存されます。
                                            画面をリロードしても、データが残っていることを確認してください。</p>
                                        </div>
                                    </li>
                                </ol>

                                <div class="bg-purple-100 rounded-lg p-4 border border-purple-200">
                                    <p class="text-purple-900 font-medium mb-2">
                                        <i class="fas fa-trophy text-purple-600 mr-2"></i>
                                        完了！
                                    </p>
                                    <p class="text-purple-800 text-sm">
                                        これで、Contactエンティティにデータが保存されました。
                                        次章以降では、このデータを画面に表示したり、検索したりする方法を学びます。
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-info-circle text-blue-600 mt-1"></i>
                            <div>
                                <p class="text-blue-900 font-medium">補足: 本番環境でのデータ入力</p>
                                <p class="text-blue-800 text-sm mt-1">
                                    今回は開発者用の管理画面でデータを入力しましたが、実際のアプリケーションでは、
                                    エンドユーザーがフォーム画面からデータを入力します。フォームの作り方は次章で学びます。
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 理解度確認クイズ -->
                <div class="bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200
                            rounded-xl p-5 my-6 overflow-hidden">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg
                                    flex items-center justify-center">
                            <i class="fas fa-question text-white"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-blue-800 mb-4">理解度確認クイズ</h3>
                            <ol class="space-y-4">
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2">Q1. データベースとは何ですか？簡潔に説明してください。</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3">
                                            データベースとは、アプリケーションで使用するデータを<strong>整理して保存する仕組み</strong>です。
                                            表形式でデータを管理し、検索や更新が簡単にできるようになっています。
                                            Excelの表のようなイメージです。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2">Q2. エンティティとアトリビュートの違いを説明してください。</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3">
                                            <strong>エンティティ</strong>は「データの入れ物」で、何についてのデータを保存するかを表します（Excelのシートに相当）。<br>
                                            <strong>アトリビュート</strong>は「データの項目」で、エンティティに保存する具体的な情報を表します（Excelの列に相当）。<br>
                                            例: 「Contact」エンティティに「Name」「PhoneNumber」などのアトリビュートがある。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2">Q3. 「年齢」を保存するアトリビュートに適切なデータ型はどれですか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3">
                                            <strong>Integer（整数）</strong>が適切です。<br>
                                            年齢は小数点のない数値なので、Integerを使います。
                                            Textにすると計算ができず、Decimalにすると小数点が入力できてしまい不適切です。
                                        </p>
                                    </details>
                                </li>
                                <li class="text-blue-900">
                                    <p class="font-medium mb-2">Q4. 主キー（Primary Key）の役割は何ですか？</p>
                                    <details class="mt-2">
                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-700">
                                            回答を表示
                                        </summary>
                                        <p class="mt-2 pl-4 text-blue-800 bg-blue-100 rounded-lg p-3">
                                            主キーは、<strong>各レコードを一意に識別するための値</strong>です。
                                            同じ名前の人が複数いても、主キーが違えば区別できます。
                                            OutSystemsでは、エンティティ作成時に自動的に「Id」という主キーが追加され、
                                            データが追加されるたびに自動的にユニークな値が設定されます。
                                        </p>
                                    </details>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- 章のまとめ -->
                <section class="mb-10">
                    <h2 class="flex items-center gap-3 text-xl font-semibold text-slate-800
                               border-l-4 border-primary-500 pl-4 mb-4">
                        第3章のまとめ
                    </h2>

                    <div class="bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-xl p-6">
                        <ul class="space-y-3">
                            <li class="flex items-start gap-3 text-slate-700">
                                <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                                <span><strong>データベース</strong>は、アプリケーションで使うデータを整理して保存する仕組みで、表形式でデータを管理します</span>
                            </li>
                            <li class="flex items-start gap-3 text-slate-700">
                                <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                                <span><strong>エンティティ</strong>は「データの入れ物」で、何についてのデータを保存するかを定義します（例: Contact, Product, Order）</span>
                            </li>
                            <li class="flex items-start gap-3 text-slate-700">
                                <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                                <span><strong>アトリビュート</strong>は「データの項目」で、エンティティに保存する具体的な情報を表します（例: Name, PhoneNumber, EmailAddress）</span>
                            </li>
                            <li class="flex items-start gap-3 text-slate-700">
                                <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                                <span><strong>データ型</strong>は、各アトリビュートにどんな種類のデータを保存するかを決めます（Text, Integer, Email, DateTimeなど）</span>
                            </li>
                            <li class="flex items-start gap-3 text-slate-700">
                                <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                                <span>OutSystemsでは、マウス操作だけでエンティティとアトリビュートを作成でき、自動的にデータベーステーブルが生成されます</span>
                            </li>
                            <li class="flex items-start gap-3 text-slate-700">
                                <i class="fas fa-check-circle text-emerald-500 mt-1 flex-shrink-0"></i>
                                <span><strong>主キー（Id）</strong>は各レコードを一意に識別する値で、OutSystemsが自動的に管理してくれます</span>
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- 章間ナビゲーション -->
                <nav class="flex items-center justify-between pt-6 mt-6 border-t border-slate-200">
                    <a href="outsystems-learning-material-02.html"
                       class="group flex items-center gap-3 px-4 py-3 rounded-xl
                              bg-slate-100 hover:bg-slate-200 transition-colors">
                        <i class="fas fa-arrow-left text-slate-400 group-hover:text-slate-600 transition-transform group-hover:-translate-x-1"></i>
                        <div>
                            <span class="text-xs text-slate-500 block">前の章</span>
                            <span class="text-slate-700 font-medium">第2章: 画面を作ろう</span>
                        </div>
                    </a>
                    <a href="outsystems-learning-material-04.html"
                       class="group flex items-center gap-3 px-4 py-3 rounded-xl
                              bg-primary-500 hover:bg-primary-600 text-white transition-colors">
                        <div class="text-right">
                            <span class="text-xs text-primary-100 block">次の章</span>
                            <span class="font-medium">第4章: データを表示する</span>
                        </div>
                        <i class="fas fa-arrow-right transition-transform group-hover:translate-x-1"></i>
                    </a>
                </nav>
            </div>
        </main>
    </div>

    <!-- フッター -->
    <footer class="bg-slate-800 text-slate-300">
        <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <p class="text-sm text-center md:text-left">
                    &copy; 2025 F-Circle. All rights reserved.<br>
                    本資料はAIツールを活用し、人間による編集・監修のもと作成されています。
                </p>
                <div class="flex items-center gap-4">
                    <a href="https://github.com/fcircle-biz/tech_docs" class="hover:text-white transition-colors">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- スクロールトップボタン -->
    <button id="scroll-top-btn"
            class="fixed bottom-6 right-6 w-12 h-12 bg-primary-500 text-white rounded-full
                   shadow-lg hover:bg-primary-600 transition-all duration-300
                   opacity-0 invisible translate-y-4"
            onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- サイドバー生成 -->
    <script src="sidebar-content.js"></script>

    <!-- 共通JavaScript -->
    <script src="main.js"></script>

    <!-- 描画ツール -->
    <script src="drawing-tool.js"></script>
</body>
</html>
