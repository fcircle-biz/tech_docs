<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java学習教材 第5章 - Java API基礎</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        .navbar { background-color: #f57c00; }
        .sidebar { position: sticky; top: 70px; height: calc(100vh - 70px); overflow-y: auto; }
        .chapter-title { color: #f57c00; margin-top: 1.5rem; margin-bottom: 1rem; border-bottom: 2px solid #f57c00; padding-bottom: 0.5rem; }
        .section-title { color: #ff9800; margin-top: 1.2rem; margin-bottom: 0.8rem; }
        .quiz-container { background-color: #fff3e0; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #f57c00; }
        .exercise-container { background-color: #f3e5f5; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #9c27b0; }
        .highlight { background-color: #ffecb3; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #ffc107; }
        .code-block { background-color: #1e1e1e; border-radius: 5px; padding: 1rem; margin: 1rem 0; }
        .nav-link.active { background-color: #f57c00 !important; color: white !important; }
        .info-box { background-color: #e3f2fd; border-left: 4px solid #2196f3; padding: 1rem; margin: 1rem 0; border-radius: 4px; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Java学習教材</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="../README.md">学習ガイド</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="java-learning-material-1.html">第1章: Java基礎</a></li>
                        <li class="nav-item"><a class="nav-link" href="java-learning-material-2.html">第2章: Java言語の基本</a></li>
                        <li class="nav-item"><a class="nav-link" href="java-learning-material-3.html">第3章: オブジェクト指向入門</a></li>
                        <li class="nav-item"><a class="nav-link" href="java-learning-material-4.html">第4章: オブジェクト指向応用</a></li>
                        <li class="nav-item"><a class="nav-link active" href="java-learning-material-5.html">第5章: Java API基礎</a></li>
                        <li class="nav-item"><a class="nav-link" href="java-learning-material-6.html">第6章: 例外処理</a></li>
                        <li class="nav-item"><a class="nav-link" href="java-learning-material-7.html">第7章: 入出力操作</a></li>
                        <li class="nav-item"><a class="nav-link" href="java-learning-material-8.html">第8章: コレクション応用</a></li>
                    </ul>
                </div>
            </nav>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第5章: Java API基礎</h1>
                </div>

                <div id="chapter5">
                    <h2 class="chapter-title">標準ライブラリの活用</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>String クラスによる文字列操作</li>
                            <li>Math クラスと Random クラスの数値処理</li>
                            <li>日付・時刻処理（LocalDate, LocalTime, LocalDateTime）</li>
                            <li>コレクションフレームワーク（List, Set, Map）の基本</li>
                            <li>実用的なAPIの組み合わせ方</li>
                        </ul>
                    </div>

                    <h3 class="section-title">5.1 String クラス</h3>
                    <p>Javaで最も頻繁に使用されるクラスの一つです。文字列は不変（immutable）オブジェクトであり、操作のたびに新しい文字列が作成されます。</p>

                    <div class="exercise-container">
                        <h5>実習 5-1: 文字列操作</h5>
                        <h6>StringExample.java</h6>
                        <pre class="code-block"><code class="language-java">public class StringExample {
    public static void main(String[] args) {
        String str1 = "Hello World";
        String str2 = "java programming";
        String str3 = "  Java API Learning  ";
        
        // 基本情報
        System.out.println("=== 文字列基本情報 ===");
        System.out.println("文字列: \"" + str1 + "\"");
        System.out.println("長さ: " + str1.length());
        System.out.println("空文字チェック: " + str1.isEmpty());
        
        // 文字・文字列検索
        System.out.println("\n=== 検索操作 ===");
        System.out.println("5文字目: " + str1.charAt(4));
        System.out.println("'o'の位置: " + str1.indexOf('o'));
        System.out.println("'o'の最後の位置: " + str1.lastIndexOf('o'));
        System.out.println("'World'を含む: " + str1.contains("World"));
        
        // 大文字・小文字変換
        System.out.println("\n=== 大文字・小文字変換 ===");
        System.out.println("大文字: " + str2.toUpperCase());
        System.out.println("小文字: " + str1.toLowerCase());
        
        // 部分文字列
        System.out.println("\n=== 部分文字列 ===");
        System.out.println("6文字目以降: " + str1.substring(5));
        System.out.println("2-5文字目: " + str1.substring(1, 5));
        
        // 置換
        System.out.println("\n=== 置換操作 ===");
        System.out.println("置換後: " + str1.replace("World", "Java"));
        System.out.println("最初のoだけ置換: " + str1.replaceFirst("o", "O"));
        
        // トリム（前後の空白除去）
        System.out.println("\n=== トリム操作 ===");
        System.out.println("元の文字列: \"" + str3 + "\"");
        System.out.println("トリム後: \"" + str3.trim() + "\"");
        
        // 分割
        System.out.println("\n=== 分割操作 ===");
        String[] words = str1.split(" ");
        for (int i = 0; i < words.length; i++) {
            System.out.println("単語" + (i+1) + ": " + words[i]);
        }
    }
}</code></pre>
                    </div>

                    <h3 class="section-title">5.2 Math クラスと Random クラス</h3>
                    <p>数学的計算やランダム値の生成に使用するクラスです。</p>

                    <div class="exercise-container">
                        <h5>実習 5-2: 数値処理</h5>
                        <h6>MathRandomExample.java</h6>
                        <pre class="code-block"><code class="language-java">import java.util.Random;

public class MathRandomExample {
    public static void main(String[] args) {
        // Math クラスの基本関数
        System.out.println("=== Math クラス ===");
        double x = 16.7;
        double y = -3.2;
        
        System.out.println("絶対値 |" + y + "| = " + Math.abs(y));
        System.out.println("平方根 √" + x + " = " + Math.sqrt(x));
        System.out.println("べき乗 2³ = " + Math.pow(2, 3));
        System.out.println("最大値 max(5, 8) = " + Math.max(5, 8));
        System.out.println("最小値 min(5, 8) = " + Math.min(5, 8));
        System.out.println("切り上げ ceil(" + x + ") = " + Math.ceil(x));
        System.out.println("切り捨て floor(" + x + ") = " + Math.floor(x));
        System.out.println("四捨五入 round(" + x + ") = " + Math.round(x));
        
        // 三角関数
        double angle = Math.toRadians(30); // 30度をラジアンに変換
        System.out.println("sin(30°) = " + Math.sin(angle));
        System.out.println("cos(30°) = " + Math.cos(angle));
        
        // Random クラス
        System.out.println("\n=== Random クラス ===");
        Random random = new Random();
        
        System.out.println("0.0以上1.0未満のランダム値: " + Math.random());
        System.out.println("整数ランダム値: " + random.nextInt());
        System.out.println("0-99のランダム値: " + random.nextInt(100));
        System.out.println("1-6のサイコロ: " + (random.nextInt(6) + 1));
        System.out.println("true/false: " + random.nextBoolean());
        
        // ランダム配列の生成
        System.out.println("\nランダム配列:");
        int[] randomArray = new int[5];
        for (int i = 0; i < randomArray.length; i++) {
            randomArray[i] = random.nextInt(100);
            System.out.print(randomArray[i] + " ");
        }
        System.out.println();
    }
}</code></pre>
                    </div>

                    <h3 class="section-title">5.3 日付・時刻処理</h3>
                    <p>Java 8以降の新しい日付時刻API（java.timeパッケージ）を使用します。</p>

                    <div class="exercise-container">
                        <h5>実習 5-3: 日付・時刻操作</h5>
                        <h6>DateTimeExample.java</h6>
                        <pre class="code-block"><code class="language-java">import java.time.*;
import java.time.format.DateTimeFormatter;
import java.time.temporal.ChronoUnit;

public class DateTimeExample {
    public static void main(String[] args) {
        // 現在の日付・時刻
        System.out.println("=== 現在の日付・時刻 ===");
        LocalDate today = LocalDate.now();
        LocalTime now = LocalTime.now();
        LocalDateTime dateTime = LocalDateTime.now();
        
        System.out.println("今日: " + today);
        System.out.println("現在時刻: " + now);
        System.out.println("日時: " + dateTime);
        
        // 特定の日付・時刻作成
        System.out.println("\n=== 特定日付の作成 ===");
        LocalDate birthday = LocalDate.of(1990, 5, 15);
        LocalTime meeting = LocalTime.of(14, 30, 0);
        LocalDateTime appointment = LocalDateTime.of(2024, 12, 25, 9, 0);
        
        System.out.println("誕生日: " + birthday);
        System.out.println("会議時間: " + meeting);
        System.out.println("予定: " + appointment);
        
        // 日付の操作
        System.out.println("\n=== 日付操作 ===");
        LocalDate tomorrow = today.plusDays(1);
        LocalDate nextWeek = today.plusWeeks(1);
        LocalDate nextMonth = today.plusMonths(1);
        LocalDate lastYear = today.minusYears(1);
        
        System.out.println("明日: " + tomorrow);
        System.out.println("来週: " + nextWeek);
        System.out.println("来月: " + nextMonth);
        System.out.println("去年: " + lastYear);
        
        // 日付の比較
        System.out.println("\n=== 日付比較 ===");
        System.out.println("今日は誕生日より後? " + today.isAfter(birthday));
        System.out.println("今日は明日より前? " + today.isBefore(tomorrow));
        
        // 期間計算
        long daysBetween = ChronoUnit.DAYS.between(birthday, today);
        long yearsBetween = ChronoUnit.YEARS.between(birthday, today);
        System.out.println("誕生日からの日数: " + daysBetween + "日");
        System.out.println("年齢: " + yearsBetween + "歳");
        
        // フォーマット
        System.out.println("\n=== 日付フォーマット ===");
        DateTimeFormatter formatter1 = DateTimeFormatter.ofPattern("yyyy年MM月dd日");
        DateTimeFormatter formatter2 = DateTimeFormatter.ofPattern("yyyy/MM/dd HH:mm:ss");
        
        System.out.println("和暦形式: " + today.format(formatter1));
        System.out.println("標準形式: " + dateTime.format(formatter2));
    }
}</code></pre>
                    </div>

                    <h3 class="section-title">5.4 コレクションフレームワーク基礎</h3>
                    <p>複数のオブジェクトを効率的に管理するためのフレームワークです。</p>

                    <div class="mermaid">
                        graph TD
                            A["Collection<br/>interface"] --> B["List<br/>interface"]
                            A --> C["Set<br/>interface"]
                            B --> D["ArrayList<br/>class"]
                            C --> E["HashSet<br/>class"]
                            F["Map<br/>interface"] --> G["HashMap<br/>class"]
                    </div>

                    <div class="exercise-container">
                        <h5>実習 5-4: コレクション基本操作</h5>
                        <h6>CollectionExample.java</h6>
                        <pre class="code-block"><code class="language-java">import java.util.*;

public class CollectionExample {
    public static void main(String[] args) {
        // ArrayList（可変長配列）
        System.out.println("=== ArrayList ===");
        List&lt;String&gt; fruits = new ArrayList&lt;&gt;();
        fruits.add("りんご");
        fruits.add("バナナ");
        fruits.add("オレンジ");
        fruits.add("りんご"); // 重複OK
        
        System.out.println("果物リスト: " + fruits);
        System.out.println("サイズ: " + fruits.size());
        System.out.println("2番目の果物: " + fruits.get(1));
        
        // HashSet（重複なし集合）
        System.out.println("\n=== HashSet ===");
        Set&lt;String&gt; uniqueFruits = new HashSet&lt;&gt;(fruits);
        System.out.println("重複除去後: " + uniqueFruits);
        
        uniqueFruits.add("ぶどう");
        uniqueFruits.add("りんご"); // 重複は追加されない
        System.out.println("追加後: " + uniqueFruits);
        
        // HashMap（キー・バリューペア）
        System.out.println("\n=== HashMap ===");
        Map&lt;String, Integer&gt; scores = new HashMap&lt;&gt;();
        scores.put("田中", 85);
        scores.put("佐藤", 92);
        scores.put("山田", 78);
        
        System.out.println("成績: " + scores);
        System.out.println("田中の点数: " + scores.get("田中"));
        
        // 全データの取得
        System.out.println("\n全成績一覧:");
        for (Map.Entry&lt;String, Integer&gt; entry : scores.entrySet()) {
            System.out.println(entry.getKey() + ": " + entry.getValue() + "点");
        }
        
        // コレクションの便利メソッド
        System.out.println("\n=== 便利メソッド ===");
        System.out.println("最高点: " + Collections.max(scores.values()));
        System.out.println("最低点: " + Collections.min(scores.values()));
        
        List&lt;String&gt; sortedFruits = new ArrayList&lt;&gt;(uniqueFruits);
        Collections.sort(sortedFruits);
        System.out.println("ソート後の果物: " + sortedFruits);
    }
}</code></pre>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>String オブジェクトが「不変」であることの意味と影響を説明してください。</li>
                            <li>Math.random() と Random クラスの使い分けについて説明してください。</li>
                            <li>LocalDate、LocalTime、LocalDateTime の違いを説明してください。</li>
                            <li>ArrayList と HashSet の主な違いを3つ挙げてください。</li>
                            <li>HashMap でキーが重複した場合の動作を説明してください。</li>
                        </ol>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="java-learning-material-4.html" class="btn btn-secondary">← 前の章 オブジェクト指向応用</a>
                        <a href="java-learning-material-6.html" class="btn btn-primary">次の章 → 例外処理</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>