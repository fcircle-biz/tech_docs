<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java学習教材 第8章 - コレクションフレームワーク応用</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        .navbar {
            background-color: #f57c00;
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        .chapter-title {
            color: #f57c00;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #f57c00;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ff9800;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        .quiz-container {
            background-color: #fff3e0;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #f57c00;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .nav-link.active {
            background-color: #f57c00 !important;
            color: white !important;
        }

        .collection-table {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>Java学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="java-learning-material-1.html">第1章: Java基礎</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="java-learning-material-2.html">第2章: Java言語の基本</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="java-learning-material-3.html">第3章: オブジェクト指向プログラミング入門</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="java-learning-material-4.html">第4章: オブジェクト指向プログラミング応用</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="java-learning-material-5.html">第5章: Java API基礎</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="java-learning-material-6.html">第6章: 例外処理</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="java-learning-material-7.html">第7章: 入出力操作</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="java-learning-material-8.html">第8章: コレクションフレームワーク応用</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第8章: コレクションフレームワーク応用</h1>
                </div>

                <div id="chapter8">
                    <h2 class="chapter-title">現代的なJavaプログラミングをマスターする</h2>

                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>イテレータを使った安全なコレクション操作を習得する</li>
                            <li>ジェネリクスによる型安全なプログラミングを理解する</li>
                            <li>比較インターフェース（Comparable、Comparator）の活用法を学ぶ</li>
                            <li>ラムダ式による関数型プログラミングの基礎をマスターする</li>
                            <li>Stream APIを使った効率的なデータ処理を実践する</li>
                            <li>Optionalクラスによるnull安全なプログラミングを身につける</li>
                        </ul>
                    </div>

                    <!-- 8.1 イテレータ -->
                    <h3 class="section-title">8.1 イテレータ（Iterator）</h3>
                    <p><strong>イテレータ</strong>は、コレクション内の要素を順番に処理するための統一的なインターフェースです。拡張for文（for-each文）の内部でも使用されており、コレクションの種類に関係なく同じ方法で要素にアクセスできます。</p>


                    <h4>イテレータの主要メソッド</h4>
                    <div class="collection-table">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>メソッド</th>
                                    <th>説明</th>
                                    <th>戻り値</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>hasNext()</td>
                                    <td>次の要素があるかどうかを確認</td>
                                    <td>boolean</td>
                                </tr>
                                <tr>
                                    <td>next()</td>
                                    <td>次の要素を取得して、カーソルを進める</td>
                                    <td>E（要素の型）</td>
                                </tr>
                                <tr>
                                    <td>remove()</td>
                                    <td>現在の要素を削除（オプション操作）</td>
                                    <td>void</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 8-1: イテレータの基本的な使用</h5>
                        <p>イテレータを使ってコレクションの要素を順番に処理しましょう。</p>

                        <pre class="code-block"><code class="language-java">import java.util.*;

public class IteratorExample {
    public static void main(String[] args) {
        List&lt;String&gt; fruits = Arrays.asList("りんご", "バナナ", "オレンジ");
        
        // イテレータを使った要素の取得
        Iterator&lt;String&gt; iterator = fruits.iterator();
        while (iterator.hasNext()) {
            String fruit = iterator.next();
            System.out.println("果物: " + fruit);
        }
    }
}</code></pre>
                    </div>

                    <!-- 8.2 ジェネリクス -->
                    <h3 class="section-title">8.2 ジェネリクス（Generics）</h3>
                    <p><strong>ジェネリクス</strong>は、クラスやメソッドで使用する型をパラメータ化する仕組みです。コンパイル時の型安全性を提供し、キャストの必要性を排除します。</p>

                    <div class="highlight">
                        <h6>ジェネリクスの利点</h6>
                        <ul>
                            <li><strong>型安全性</strong>：コンパイル時に型の不整合を検出</li>
                            <li><strong>キャスト不要</strong>：明示的なキャストが不要</li>
                            <li><strong>コードの再利用</strong>：異なる型で同じ処理ロジックを使用</li>
                            <li><strong>性能向上</strong>：不要なボクシング/アンボクシングを回避</li>
                        </ul>
                    </div>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 8-2: ジェネリクスの基本的な使用</h5>
                        <p>ジェネリックコレクションを使って型安全なプログラムを作成しましょう。</p>

                        <pre class="code-block"><code class="language-java">import java.util.*;

public class GenericsExample {
    public static void main(String[] args) {
        // 文字列のリスト
        List&lt;String&gt; names = new ArrayList&lt;&gt;();
        names.add("田中");
        names.add("佐藤");
        names.add("鈴木");
        
        // 整数のリスト
        List&lt;Integer&gt; scores = new ArrayList&lt;&gt;();
        scores.add(85);
        scores.add(92);
        scores.add(78);
        
        // 結果表示
        for (String name : names) {
            System.out.println("名前: " + name);
        }
        
        for (Integer score : scores) {
            System.out.println("点数: " + score);
        }
    }
}</code></pre>
                    </div>

                    <!-- 8.3 ラムダ式とStream API -->
                    <h3 class="section-title">8.3 ラムダ式とStream API</h3>
                    <p><strong>ラムダ式</strong>はJava 8で導入された関数型プログラミングの要素で、匿名関数を簡潔に記述できます。<strong>Stream API</strong>と組み合わせることで、コレクションの操作を宣言的かつ効率的に行えます。</p>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 8-3: ラムダ式とStream APIの基本</h5>
                        <p>ラムダ式とStream APIを使って、シンプルなデータ処理を体験しましょう。</p>

                        <pre class="code-block"><code class="language-java">import java.util.*;
import java.util.stream.*;

public class LambdaStreamExample {
    public static void main(String[] args) {
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5);
        
        // 偶数だけを抽出して表示
        numbers.stream()
               .filter(n -&gt; n % 2 == 0)
               .forEach(System.out::println);
        
        // 全ての数値を2倍にした結果を取得
        List&lt;Integer&gt; doubled = numbers.stream()
                                     .map(n -&gt; n * 2)
                                     .collect(Collectors.toList());
        
        System.out.println("2倍にした結果: " + doubled);
    }
}</code></pre>
                    </div>

                    <!-- 8.4 Optional -->
                    <h3 class="section-title">8.4 Optional</h3>
                    <p><strong>Optional</strong>は、null値を安全に扱うためのコンテナクラスです。null参照によるNullPointerExceptionを防ぎ、より読みやすく安全なコードを書くことができます。</p>

                    <div class="highlight">
                        <h6>Optional の利点</h6>
                        <ul>
                            <li><strong>null安全性</strong>：NullPointerExceptionの発生を防ぐ</li>
                            <li><strong>明示的な意図</strong>：値が存在しない可能性を型で表現</li>
                            <li><strong>読みやすさ</strong>：null チェックのボイラープレートコードを削減</li>
                        </ul>
                    </div>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 8-4: Optional による null 安全なプログラミング</h5>
                        <p>Optional クラスを活用して、null安全で読みやすいコードを作成しましょう。</p>

                        <pre class="code-block"><code class="language-java">import java.util.*;

public class OptionalExample {
    public static void main(String[] args) {
        // Optionalの基本的な使用
        Optional&lt;String&gt; optional1 = Optional.of("Hello");
        Optional&lt;String&gt; optional2 = Optional.empty();
        
        // 値が存在するかチェック
        if (optional1.isPresent()) {
            System.out.println("値: " + optional1.get());
        }
        
        // より安全な取得方法
        String value = optional2.orElse("デフォルト値");
        System.out.println("結果: " + value);
    }
}</code></pre>
                    </div>

                    <!-- 章のまとめ -->
                    <h3 class="section-title">章のまとめ</h3>
                    <p>この最終章では、現代的なJavaプログラミングの核心となる高度な機能について学習しました：</p>

                    <ul>
                        <li><strong>イテレータ</strong>：安全で統一的なコレクション要素の走査と操作</li>
                        <li><strong>ジェネリクス</strong>：コンパイル時の型安全性と型パラメータ化</li>
                        <li><strong>ラムダ式とStream API</strong>：関数型プログラミングによる宣言的データ処理</li>
                        <li><strong>Optional</strong>：null安全なプログラミングと明示的な値の不在表現</li>
                    </ul>

                    <div class="highlight">
                        <h6>学習の成果</h6>
                        <p>これらの機能をマスターすることで、より安全で保守しやすく、表現力豊かなJavaコードが書けるようになります。これで基本的なJava学習は完了です。実際のプロジェクトで積極的に活用していきましょう。</p>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="java-learning-material-7.html" class="btn btn-secondary">← 前の章: 入出力処理</a>
                        <span class="btn btn-outline-secondary disabled">学習完了！</span>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <!-- フッター -->
    <footer class="bg-dark text-white text-center py-3 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <p>&copy; 2024 Java学習ガイド. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>

    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>
