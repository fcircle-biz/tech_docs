<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struts 1.xå­¦ç¿’æ•™æ ç¬¬6ç«  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- ã‚«ã‚¹ã‚¿ãƒ CSS -->
    <style>
        /* ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .navbar {
            background-color: #f57c00;
        }

        /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        /* ã‚¿ã‚¤ãƒˆãƒ« */
        .chapter-title {
            color: #f57c00;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #f57c00;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ff9800;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒœãƒƒã‚¯ã‚¹ */
        .quiz-container {
            background-color: #fff3e0;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #f57c00;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        .info {
            background-color: #e3f2fd;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #2196f3;
        }

        /* ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆ */
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .nav-link.active {
            background-color: #f57c00 !important;
            color: white !important;
        }

        /* ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« */
        .btn-orange {
            background-color: #f57c00;
            border-color: #f57c00;
            color: white;
        }

        .btn-orange:hover {
            background-color: #e65100;
            border-color: #e65100;
            color: white;
        }

        /* ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .validation-card {
            border: 2px solid #4caf50;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .validation-card .card-header {
            background-color: #e8f5e8;
            border-bottom: 1px solid #4caf50;
            font-weight: bold;
            color: #2e7d32;
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .fade-in {
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand text-white fw-bold" href="#main-content">âœ… Struts 1.x å­¦ç¿’æ•™æ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="../README.md">ğŸ“š Strutsã‚¬ã‚¤ãƒ‰</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="struts1-learning-material-5.html">â¬…ï¸ ç¬¬5ç« </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="struts1-learning-material-7.html">â¡ï¸ ç¬¬7ç« </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <div class="container-fluid">
        <div class="row">
            <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading px-3 mt-4 mb-1 text-muted">
                        <span>ç¬¬6ç« ã®å†…å®¹</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="#intro">âœ… ã¯ã˜ã‚ã«</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#overview">ğŸ¯ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®é‡è¦æ€§</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#actionform-validation">ğŸ“‹ ActionFormã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#validator-framework">ğŸ”§ Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#validation-xml">ğŸ“„ validation.xmlè¨­å®š</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#custom-validation">ğŸ”¨ ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#error-handling">âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#best-practices">ğŸ’¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#exercise">ğŸ’» å®Ÿç¿’èª²é¡Œ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#quiz">ğŸ“ ç†è§£åº¦ç¢ºèª</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" id="main-content">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
                    <h1 class="chapter-title">ç¬¬6ç«  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</h1>
                </div>

                <!-- å­¦ç¿’ç›®æ¨™ -->
                <div class="highlight">
                    <h3>ğŸ¯ ã“ã®ç« ã®å­¦ç¿’ç›®æ¨™</h3>
                    <ul>
                        <li>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã‘ã‚‹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®é‡è¦æ€§ã‚’ç†è§£ã™ã‚‹</li>
                        <li>ActionFormã§ã®åŸºæœ¬çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…æ–¹æ³•ã‚’ç¿’å¾—ã™ã‚‹</li>
                        <li>Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ãŸå®£è¨€çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å­¦ã¶</li>
                        <li>ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…æ–¹æ³•ã‚’ç†è§£ã™ã‚‹</li>
                        <li>é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šã®ãŸã‚ã®æ‰‹æ³•ã‚’å­¦ç¿’ã™ã‚‹</li>
                    </ul>
                </div>

                <!-- ã¯ã˜ã‚ã« -->
                <section id="intro">
                    <h2 class="section-title">âœ… ã¯ã˜ã‚ã«</h2>
                    
                    <p>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã„ã¦ã€<strong>ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå…¥åŠ›æ¤œè¨¼ï¼‰</strong>ã¯æ¥µã‚ã¦é‡è¦ãªæ©Ÿèƒ½ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ãŒé©åˆ‡ãªå½¢å¼ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èª¤å‹•ä½œã‚„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œã‚’é˜²ãå½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚</p>

                    <div class="highlight">
                        <h4>ğŸ’¡ ãªãœãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªã®ã‹ï¼Ÿ</h4>
                        <p>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ã•ã¾ã–ã¾ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å¤šæ§˜ãªå…¥åŠ›ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ­£ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã™ã‚‹ã¨ã¯é™ã‚Šã¾ã›ã‚“ï¼š</p>
                        
                        <ul>
                            <li><strong>å…¥åŠ›ãƒŸã‚¹</strong>ï¼šãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨˜è¿°é–“é•ã„ã€å¿…é ˆé …ç›®ã®æœªå…¥åŠ›</li>
                            <li><strong>æ‚ªæ„ã®ã‚ã‚‹å…¥åŠ›</strong>ï¼šSQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã€XSSæ”»æ’ƒãªã©ã‚’ç‹™ã£ãŸä¸æ­£ãªãƒ‡ãƒ¼ã‚¿</li>
                            <li><strong>ã‚·ã‚¹ãƒ†ãƒ åˆ¶é™</strong>ï¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é•·ã‚’è¶…ãˆã‚‹å…¥åŠ›</li>
                            <li><strong>æ¥­å‹™ãƒ«ãƒ¼ãƒ«é•å</strong>ï¼šå¹´é½¢åˆ¶é™ã€åœ¨åº«æ•°è¶…éãªã©æ¥­å‹™å›ºæœ‰ã®åˆ¶ç´„</li>
                        </ul>
                        
                        <p><strong>ä¾‹ãˆï¼š</strong> ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€Œç©ºæ¸¯ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã€ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ã™ã¹ã¦ã®è·ç‰©ï¼ˆå…¥åŠ›ãƒ‡ãƒ¼ã‚¿ï¼‰ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€å±é™ºç‰©ï¼ˆä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ï¼‰ã‚„åˆ¶é™ã‚’è¶…ãˆã‚‹ã‚‚ã®ï¼ˆå½¢å¼é•åï¼‰ã‚’äº‹å‰ã«ç™ºè¦‹ã—ã¦ã€é£›è¡Œæ©Ÿï¼ˆã‚·ã‚¹ãƒ†ãƒ ï¼‰ã®å®‰å…¨ãªé‹èˆªã‚’ä¿è¨¼ã—ã¾ã™ã€‚</p>
                    </div>

                    <div class="mermaid">
                        graph LR
                            A[ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›] --> B[ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†]
                            B --> C{å…¥åŠ›ãƒã‚§ãƒƒã‚¯}
                            C -->|OK| D[æ¥­å‹™å‡¦ç†å®Ÿè¡Œ]
                            C -->|NG| E[ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º]
                            D --> F[æˆåŠŸç”»é¢]
                            E --> G[å…¥åŠ›ç”»é¢ã«æˆ»ã‚‹]
                            
                            style A fill:#e3f2fd
                            style B fill:#e8f5e8
                            style C fill:#fff3e0
                            style D fill:#e8f5e8
                            style E fill:#ffebee
                            style F fill:#e8f5e8
                            style G fill:#fff3e0
                    </div>
                </section>

                <!-- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®é‡è¦æ€§ -->
                <section id="overview">
                    <h2 class="section-title">ğŸ¯ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã‘ã‚‹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®é‡è¦æ€§</h2>
                    
                    <p>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ã€è¤‡æ•°ã®è¦³ç‚¹ã‹ã‚‰é‡è¦æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="card validation-card h-100">
                                <div class="card-header">
                                    ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ä¿è­·
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ”»æ’ƒã®é˜²æ­¢</li>
                                        <li>ã‚¯ãƒ­ã‚¹ã‚µã‚¤ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒ†ã‚£ãƒ³ã‚°ï¼ˆXSSï¼‰å¯¾ç­–</li>
                                        <li>ä¸æ­£ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®é˜²æ­¢</li>
                                        <li>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ã®å¼·åˆ¶</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <div class="card validation-card h-100">
                                <div class="card-header">
                                    ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ç¶­æŒ
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ¶ç´„é•åã®é˜²æ­¢</li>
                                        <li>ãƒ‡ãƒ¼ã‚¿å‹ã®é©åˆæ€§ç¢ºä¿</li>
                                        <li>å¿…é ˆé …ç›®ã®å…¥åŠ›ä¿è¨¼</li>
                                        <li>ä¸€æ„åˆ¶ç´„ã®ç¢ºèª</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="card validation-card h-100">
                                <div class="card-header">
                                    ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Š
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>ã‚ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æä¾›</li>
                                        <li>å…¥åŠ›å€¤ã®ä¿æŒï¼ˆå†å…¥åŠ›ã®æ‰‹é–“è»½æ¸›ï¼‰</li>
                                        <li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œè¨¼ã«ã‚ˆã‚‹UXå‘ä¸Š</li>
                                        <li>é©åˆ‡ãªå…¥åŠ›å½¢å¼ã®æ¡ˆå†…</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <div class="card validation-card h-100">
                                <div class="card-header">
                                    ğŸ’¼ æ¥­å‹™ãƒ«ãƒ¼ãƒ«ã®ç¢ºä¿
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>å¹´é½¢åˆ¶é™ã‚„æœŸé™ã®ç¢ºèª</li>
                                        <li>åœ¨åº«æ•°ã‚„äºˆç®—åˆ¶é™ã®ãƒã‚§ãƒƒã‚¯</li>
                                        <li>æ¨©é™ã«åŸºã¥ãå…¥åŠ›åˆ¶é™</li>
                                        <li>è¤‡é›‘ãªæ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ã®é©ç”¨</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h3>ğŸ“Š ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡ã¨å®Ÿè£…ãƒ¬ã‚¤ãƒ¤ãƒ¼</h3>
                    
                    <div class="info">
                        <h4>ğŸ” ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ vs ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</h4>
                        
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ç¨®é¡</th>
                                    <th>å®Ÿè£…å ´æ‰€</th>
                                    <th>åˆ©ç‚¹</th>
                                    <th>æ³¨æ„ç‚¹</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰</strong></td>
                                    <td>JavaScript<br>ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰</td>
                                    <td>å³åº§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯<br>ã‚µãƒ¼ãƒãƒ¼è² è·è»½æ¸›</td>
                                    <td>ç°¡å˜ã«å›é¿å¯èƒ½<br>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é¢ã§ä¸ååˆ†</td>
                                </tr>
                                <tr>
                                    <td><strong>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰</strong></td>
                                    <td>Java<br>ï¼ˆStrutsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰</td>
                                    <td>ç¢ºå®Ÿãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£<br>å›é¿ä¸å¯èƒ½</td>
                                    <td>ã‚µãƒ¼ãƒãƒ¼å¾€å¾©ãŒå¿…è¦<br>ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®é…å»¶</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <p><strong>é‡è¦:</strong> ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç†ç”±ã‹ã‚‰ã€<strong>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯å¿…é ˆ</strong>ã§ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šã®ãŸã‚ã®è£œåŠ©çš„ãªæ©Ÿèƒ½ã¨ã—ã¦ä½ç½®ã¥ã‘ã‚‹ã¹ãã§ã™ã€‚</p>
                    </div>
                </section>

                <!-- ActionFormã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                <section id="actionform-validation">
                    <h2 class="section-title">ğŸ“‹ ActionFormã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…</h2>
                    
                    <p>Struts 1.xã§ã¯ã€<strong>ActionForm</strong>ã‚¯ãƒ©ã‚¹ã®<code>validate()</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ã“ã¨ã§ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚</p>

                    <h3>ğŸ” åŸºæœ¬çš„ãªvalidateãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…</h3>
                    
                    <pre class="code-block"><code class="language-java">public class UserForm extends ActionForm {
    private String username;
    private String email;
    private String password;
    private int age;
    
    // getter/setterãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆçœç•¥ï¼‰
    
    @Override
    public ActionErrors validate(ActionMapping mapping, 
                                HttpServletRequest request) {
        
        ActionErrors errors = new ActionErrors();
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼åã®å¿…é ˆãƒã‚§ãƒƒã‚¯
        if (username == null || username.trim().length() == 0) {
            errors.add("username", new ActionMessage("error.required", "ãƒ¦ãƒ¼ã‚¶ãƒ¼å"));
        } else if (username.length() > 20) {
            errors.add("username", new ActionMessage("error.maxlength", "ãƒ¦ãƒ¼ã‚¶ãƒ¼å", "20"));
        }
        
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãƒã‚§ãƒƒã‚¯
        if (email != null && !email.trim().isEmpty()) {
            if (!isValidEmail(email)) {
                errors.add("email", new ActionMessage("error.email", "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"));
            }
        } else {
            errors.add("email", new ActionMessage("error.required", "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"));
        }
        
        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å¼·åº¦ãƒã‚§ãƒƒã‚¯
        if (password == null || password.length() < 8) {
            errors.add("password", new ActionMessage("error.password.minlength", "8"));
        }
        
        // å¹´é½¢ã®ç¯„å›²ãƒã‚§ãƒƒã‚¯
        if (age < 0 || age > 150) {
            errors.add("age", new ActionMessage("error.range", "å¹´é½¢", "0", "150"));
        }
        
        return errors;
    }
    
    // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ãƒã‚§ãƒƒã‚¯ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰
    private boolean isValidEmail(String email) {
        String emailPattern = "^[A-Za-z0-9+_.-]+@([A-Za-z0-9.-]+\\.[A-Za-z]{2,})$";
        return email.matches(emailPattern);
    }
}</code></pre>

                    <div class="highlight">
                        <h4>ğŸ“ validateãƒ¡ã‚½ãƒƒãƒ‰ã®ä»•çµ„ã¿</h4>
                        
                        <ol>
                            <li><strong>ActionErrorsã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿæˆ</strong>ï¼šã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’æ ¼ç´ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆ</li>
                            <li><strong>å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ¤œè¨¼</strong>ï¼šæ¥­å‹™ãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦å…¥åŠ›å€¤ã‚’ãƒã‚§ãƒƒã‚¯</li>
                            <li><strong>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¿½åŠ </strong>ï¼šå•é¡ŒãŒã‚ã‚‹å ´åˆã¯ActionMessageã‚’ä½œæˆã—ã¦ActionErrorsã«è¿½åŠ </li>
                            <li><strong>çµæœã®è¿”å´</strong>ï¼šã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹ã‹ã©ã†ã‹ã«é–¢ã‚ã‚‰ãšActionErrorsã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”å´</li>
                        </ol>
                        
                        <p><strong>é‡è¦:</strong> ActionErrorsãŒç©ºã§ãªã„å ´åˆã€Strutsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯è‡ªå‹•çš„ã«Actionå‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã€inputå±æ€§ã§æŒ‡å®šã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã«é·ç§»ã—ã¾ã™ã€‚</p>
                    </div>

                    <h3>ğŸ”„ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†ã®æµã‚Œ</h3>
                    
                    <div class="mermaid">
                        sequenceDiagram
                            participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼
                            participant Browser as ãƒ–ãƒ©ã‚¦ã‚¶
                            participant Struts as Strutsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
                            participant Form as ActionForm
                            participant Action as Action
                            
                            User->>Browser: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
                            Browser->>Struts: HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆ
                            Struts->>Form: ActionFormã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
                            Struts->>Form: ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
                            
                            alt validate="true"ã®å ´åˆ
                                Struts->>Form: validate()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè¡Œ
                                Form->>Struts: ActionErrorsè¿”å´
                                
                                alt ã‚¨ãƒ©ãƒ¼ã‚ã‚Šã®å ´åˆ
                                    Struts->>Browser: inputå±æ€§ã®ãƒšãƒ¼ã‚¸ã«é·ç§»
                                    Browser->>User: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
                                else ã‚¨ãƒ©ãƒ¼ãªã—ã®å ´åˆ
                                    Struts->>Action: execute()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè¡Œ
                                    Action->>Struts: æ­£å¸¸å‡¦ç†çµæœ
                                    Struts->>Browser: æˆåŠŸãƒšãƒ¼ã‚¸ã«é·ç§»
                                end
                            else validate="false"ã®å ´åˆ
                                Struts->>Action: validate()ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦execute()å®Ÿè¡Œ
                            end
                    </div>

                    <h3>ğŸ’¬ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚½ãƒ¼ã‚¹ã®è¨­å®š</h3>
                    
                    <p>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã€<strong>MessageResources.properties</strong>ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã—ã¾ã™ï¼š</p>

                    <pre class="code-block"><code class="language-ini"># åŸºæœ¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
error.required = {0}ã¯å¿…é ˆé …ç›®ã§ã™ã€‚
error.maxlength = {0}ã¯{1}æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
error.minlength = {0}ã¯{1}æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
error.email = {0}ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚
error.range = {0}ã¯{1}ã‹ã‚‰{2}ã®ç¯„å›²ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚

# ç‰¹å®šé …ç›®ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
error.password.minlength = ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯{0}æ–‡å­—ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
error.username.duplicate = ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</code></pre>

                    <div class="info">
                        <h4>ğŸ“± ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åˆ©ç‚¹</h4>
                        <ul>
                            <li><strong>å†åˆ©ç”¨æ€§</strong>ï¼šåŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼ã‚’è¤‡æ•°ã®é …ç›®ã§ä½¿ç”¨å¯èƒ½</li>
                            <li><strong>å›½éš›åŒ–å¯¾å¿œ</strong>ï¼šè¨€èªã”ã¨ã«ç•°ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã™ã‚‹ã ã‘ã§å¤šè¨€èªå¯¾å¿œ</li>
                            <li><strong>ä¿å®ˆæ€§</strong>ï¼šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¤‰æ›´æ™‚ã«ã‚³ãƒ¼ãƒ‰ä¿®æ­£ãŒä¸è¦</li>
                            <li><strong>çµ±ä¸€æ€§</strong>ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã§ä¸€è²«ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼</li>
                        </ul>
                    </div>
                </section>

                <!-- Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ -->
                <section id="validator-framework">
                    <h2 class="section-title">ğŸ”§ Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®æ´»ç”¨</h2>
                    
                    <p>ActionFormã®validateãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ã‚ˆã‚ŠåŠ¹ç‡çš„ã§ä¿å®ˆæ€§ã®é«˜ã„æ–¹æ³•ã¨ã—ã¦ã€<strong>Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</strong>ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯å®£è¨€çš„ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã§ãã‚‹ä»•çµ„ã¿ã§ã™ã€‚</p>

                    <div class="highlight">
                        <h4>âš–ï¸ ActionFormã®validate vs Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</h4>
                        
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>é …ç›®</th>
                                    <th>ActionForm validate()</th>
                                    <th>Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>è¨˜è¿°æ–¹æ³•</strong></td>
                                    <td>Javaã‚³ãƒ¼ãƒ‰</td>
                                    <td>XMLè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«</td>
                                </tr>
                                <tr>
                                    <td><strong>ä¿å®ˆæ€§</strong></td>
                                    <td>ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒå¿…è¦</td>
                                    <td>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã®ã¿</td>
                                </tr>
                                <tr>
                                    <td><strong>å†åˆ©ç”¨æ€§</strong></td>
                                    <td>ã‚¯ãƒ©ã‚¹ã”ã¨ã«å€‹åˆ¥å®Ÿè£…</td>
                                    <td>å…±é€šãƒ«ãƒ¼ãƒ«ã®å†åˆ©ç”¨å¯èƒ½</td>
                                </tr>
                                <tr>
                                    <td><strong>è¤‡é›‘åº¦</strong></td>
                                    <td>è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚‚è‡ªç”±ã«å®Ÿè£…</td>
                                    <td>åŸºæœ¬çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«å‘ã</td>
                                </tr>
                                <tr>
                                    <td><strong>JavaScriptç”Ÿæˆ</strong></td>
                                    <td>æ‰‹å‹•å®Ÿè£…</td>
                                    <td>è‡ªå‹•ç”Ÿæˆå¯èƒ½</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>ğŸ› ï¸ Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®åŸºæœ¬è¨­å®š</h3>

                    <h4>1ï¸âƒ£ struts-config.xmlã§ã®è¨­å®š</h4>
                    
                    <pre class="code-block"><code class="language-xml">&lt;struts-config&gt;
    
    &lt;!-- Validatorãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨­å®š --&gt;
    &lt;plug-in className="org.apache.struts.validator.ValidatorPlugIn"&gt;
        &lt;set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml"/&gt;
    &lt;/plug-in&gt;
    
    &lt;!-- ValidatorActionFormã®ä½¿ç”¨ --&gt;
    &lt;form-beans&gt;
        &lt;form-bean name="userForm" type="org.apache.struts.validator.ValidatorActionForm"/&gt;
    &lt;/form-beans&gt;
    
&lt;/struts-config&gt;</code></pre>

                    <h4>2ï¸âƒ£ æ¨™æº–ãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆvalidator-rules.xmlï¼‰</h4>
                    
                    <p>Strutsã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ¨™æº–çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ãŒäºˆã‚å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ï¼š</p>

                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>ãƒ«ãƒ¼ãƒ«å</th>
                                <th>èª¬æ˜</th>
                                <th>ç”¨é€”ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>required</code></td>
                                <td>å¿…é ˆå…¥åŠ›ãƒã‚§ãƒƒã‚¯</td>
                                <td>åå‰ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</td>
                            </tr>
                            <tr>
                                <td><code>mask</code></td>
                                <td>æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒã‚§ãƒƒã‚¯</td>
                                <td>éƒµä¾¿ç•ªå·ã€é›»è©±ç•ªå·</td>
                            </tr>
                            <tr>
                                <td><code>email</code></td>
                                <td>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ãƒã‚§ãƒƒã‚¯</td>
                                <td>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</td>
                            </tr>
                            <tr>
                                <td><code>minlength</code></td>
                                <td>æœ€å°æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯</td>
                                <td>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</td>
                            </tr>
                            <tr>
                                <td><code>maxlength</code></td>
                                <td>æœ€å¤§æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯</td>
                                <td>ã‚³ãƒ¡ãƒ³ãƒˆã€èª¬æ˜æ–‡</td>
                            </tr>
                            <tr>
                                <td><code>range</code></td>
                                <td>æ•°å€¤ç¯„å›²ãƒã‚§ãƒƒã‚¯</td>
                                <td>å¹´é½¢ã€ä¾¡æ ¼</td>
                            </tr>
                            <tr>
                                <td><code>date</code></td>
                                <td>æ—¥ä»˜å½¢å¼ãƒã‚§ãƒƒã‚¯</td>
                                <td>ç”Ÿå¹´æœˆæ—¥</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- validation.xmlè¨­å®š -->
                <section id="validation-xml">
                    <h2 class="section-title">ğŸ“„ validation.xmlã§ã®ãƒ«ãƒ¼ãƒ«å®šç¾©</h2>
                    
                    <p><strong>validation.xml</strong>ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€å„ãƒ•ã‚©ãƒ¼ãƒ ã«å¯¾ã™ã‚‹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚</p>

                    <h3>ğŸ“ åŸºæœ¬çš„ãªvalidation.xmlã®ä¾‹</h3>
                    
                    <pre class="code-block"><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE form-validation PUBLIC
    "-//Apache Software Foundation//DTD Commons Validator Rules Configuration 1.3.0//EN"
    "http://jakarta.apache.org/commons/dtds/validator_1_3_0.dtd"&gt;

&lt;form-validation&gt;
    
    &lt;!-- ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã®å®šç¾© --&gt;
    &lt;global&gt;
        &lt;constant&gt;
            &lt;constant-name&gt;zip&lt;/constant-name&gt;
            &lt;constant-value&gt;^\d{3}-\d{4}$&lt;/constant-value&gt;
        &lt;/constant&gt;
        &lt;constant&gt;
            &lt;constant-name&gt;phone&lt;/constant-name&gt;
            &lt;constant-value&gt;^\d{2,4}-\d{2,4}-\d{4}$&lt;/constant-value&gt;
        &lt;/constant&gt;
    &lt;/global&gt;
    
    &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ --&gt;
    &lt;formset&gt;
        &lt;form name="/userRegister"&gt;
            
            &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼šå¿…é ˆã€æœ€å¤§20æ–‡å­— --&gt;
            &lt;field property="username" depends="required,maxlength"&gt;
                &lt;arg0 key="label.username"/&gt;
                &lt;arg1 name="maxlength" key="${var:maxlength}" resource="false"/&gt;
                &lt;var&gt;
                    &lt;var-name&gt;maxlength&lt;/var-name&gt;
                    &lt;var-value&gt;20&lt;/var-value&gt;
                &lt;/var&gt;
            &lt;/field&gt;
            
            &lt;!-- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼šå¿…é ˆã€å½¢å¼ãƒã‚§ãƒƒã‚¯ --&gt;
            &lt;field property="email" depends="required,email"&gt;
                &lt;arg0 key="label.email"/&gt;
            &lt;/field&gt;
            
            &lt;!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼šå¿…é ˆã€æœ€å°8æ–‡å­— --&gt;
            &lt;field property="password" depends="required,minlength"&gt;
                &lt;arg0 key="label.password"/&gt;
                &lt;arg1 name="minlength" key="${var:minlength}" resource="false"/&gt;
                &lt;var&gt;
                    &lt;var-name&gt;minlength&lt;/var-name&gt;
                    &lt;var-value&gt;8&lt;/var-value&gt;
                &lt;/var&gt;
            &lt;/field&gt;
            
            &lt;!-- å¹´é½¢ï¼šå¿…é ˆã€ç¯„å›²ãƒã‚§ãƒƒã‚¯ï¼ˆ0-150ï¼‰ --&gt;
            &lt;field property="age" depends="required,intRange"&gt;
                &lt;arg0 key="label.age"/&gt;
                &lt;arg1 name="intRange" key="${var:min}" resource="false"/&gt;
                &lt;arg2 name="intRange" key="${var:max}" resource="false"/&gt;
                &lt;var&gt;
                    &lt;var-name&gt;min&lt;/var-name&gt;
                    &lt;var-value&gt;0&lt;/var-value&gt;
                &lt;/var&gt;
                &lt;var&gt;
                    &lt;var-name&gt;max&lt;/var-name&gt;
                    &lt;var-value&gt;150&lt;/var-value&gt;
                &lt;/var&gt;
            &lt;/field&gt;
            
            &lt;!-- éƒµä¾¿ç•ªå·ï¼šãƒ‘ã‚¿ãƒ¼ãƒ³ãƒã‚§ãƒƒã‚¯ï¼ˆä»»æ„é …ç›®ï¼‰ --&gt;
            &lt;field property="zipCode" depends="mask"&gt;
                &lt;arg0 key="label.zipcode"/&gt;
                &lt;var&gt;
                    &lt;var-name&gt;mask&lt;/var-name&gt;
                    &lt;var-value&gt;${zip}&lt;/var-value&gt;
                &lt;/var&gt;
            &lt;/field&gt;
            
        &lt;/form&gt;
    &lt;/formset&gt;
    
&lt;/form-validation&gt;</code></pre>

                    <div class="highlight">
                        <h4>ğŸ” validation.xmlã®è¦ç´ èª¬æ˜</h4>
                        
                        <ul>
                            <li><strong>&lt;global&gt;</strong>ï¼šå…¨ä½“ã§å…±é€šä½¿ç”¨ã™ã‚‹å®šæ•°ã‚„è¨­å®š</li>
                            <li><strong>&lt;formset&gt;</strong>ï¼šãƒ•ã‚©ãƒ¼ãƒ ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆå›½éš›åŒ–å¯¾å¿œæ™‚ã«localeåˆ¥ã‚‚å¯èƒ½ï¼‰</li>
                            <li><strong>&lt;form name="/actionPath"&gt;</strong>ï¼šã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ‘ã‚¹ã«å¯¾å¿œã™ã‚‹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©</li>
                            <li><strong>&lt;field&gt;</strong>ï¼šå€‹åˆ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š</li>
                            <li><strong>dependså±æ€§</strong>ï¼šé©ç”¨ã™ã‚‹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§è¤‡æ•°æŒ‡å®šå¯èƒ½ï¼‰</li>
                            <li><strong>&lt;arg&gt;</strong>ï¼šã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li>
                            <li><strong>&lt;var&gt;</strong>ï¼šãƒ«ãƒ¼ãƒ«å›ºæœ‰ã®å¤‰æ•°ï¼ˆmaxlengthã€minlengthç­‰ï¼‰</li>
                        </ul>
                    </div>

                    <h3>ğŸŒ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®è‡ªå‹•ç”Ÿæˆ</h3>
                    
                    <p>Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã¯ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ãƒ«ãƒ¼ãƒ«å®šç¾©ã‹ã‚‰è‡ªå‹•çš„ã«JavaScriptã‚’ç”Ÿæˆã§ãã¾ã™ï¼š</p>

                    <pre class="code-block"><code class="language-jsp">&lt;%@ taglib uri="/WEB-INF/struts-html.tld" prefix="html" %&gt;

&lt;html:html&gt;
&lt;head&gt;
    &lt;title&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²&lt;/title&gt;
    
    &lt;!-- ValidatorãŒç”Ÿæˆã™ã‚‹JavaScript --&gt;
    &lt;html:javascript formName="userForm"/&gt;
&lt;/head&gt;
&lt;body&gt;
    
    &lt;!-- onsubmitå±æ€§ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ --&gt;
    &lt;html:form action="/userRegister" onsubmit="return validateUserForm(this)"&gt;
        &lt;!-- ãƒ•ã‚©ãƒ¼ãƒ å†…å®¹ --&gt;
    &lt;/html:form&gt;
    
&lt;/body&gt;
&lt;/html:html&gt;</code></pre>

                    <div class="info">
                        <h4>âš¡ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ©ç‚¹</h4>
                        <ul>
                            <li><strong>å³åº§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯</strong>ï¼šã‚µãƒ¼ãƒãƒ¼é€šä¿¡ãªã—ã§ã‚¨ãƒ©ãƒ¼ã‚’é€šçŸ¥</li>
                            <li><strong>ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š</strong>ï¼šå…¥åŠ›ä¸­ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒã‚§ãƒƒã‚¯</li>
                            <li><strong>ã‚µãƒ¼ãƒãƒ¼è² è·è»½æ¸›</strong>ï¼šæ˜ã‚‰ã‹ãªã‚¨ãƒ©ãƒ¼ã‚’äº‹å‰ã«é™¤å»</li>
                            <li><strong>è‡ªå‹•ç”Ÿæˆ</strong>ï¼šã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ«ãƒ¼ãƒ«ã¨ä¸€è‡´ã™ã‚‹JavaScriptã‚’è‡ªå‹•ä½œæˆ</li>
                        </ul>
                        
                        <p><strong>æ³¨æ„:</strong> ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯è£œåŠ©çš„ãªæ©Ÿèƒ½ã§ã™ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç†ç”±ã‹ã‚‰ã€å¿…ãšã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã‚‚åŒã˜ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚</p>
                    </div>
                </section>

                <!-- ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                <section id="custom-validation">
                    <h2 class="section-title">ğŸ”¨ ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…</h2>
                    
                    <p>æ¨™æº–çš„ãªValidatorãƒ«ãƒ¼ãƒ«ã§ã¯å¯¾å¿œã§ããªã„è¤‡é›‘ãªæ¥­å‹™ãƒ«ãƒ¼ãƒ«ã«ã¤ã„ã¦ã¯ã€ç‹¬è‡ªã®ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚</p>

                    <h3>ğŸ› ï¸ ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚¿ã®ä½œæˆæ‰‹é †</h3>

                    <h4>1ï¸âƒ£ ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã®å®Ÿè£…</h4>
                    
                    <pre class="code-block"><code class="language-java">package com.example.validator;

import org.apache.commons.validator.Field;
import org.apache.commons.validator.ValidatorAction;
import org.apache.commons.validator.ValidatorException;
import org.apache.struts.action.ActionMessages;
import org.apache.struts.validator.Resources;

import javax.servlet.http.HttpServletRequest;

public class CustomValidator {
    
    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼åã®é‡è¤‡ãƒã‚§ãƒƒã‚¯
     * ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«åŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™
     */
    public static boolean validateUniqueUsername(Object bean,
                                               ValidatorAction va,
                                               Field field,
                                               ActionMessages errors,
                                               HttpServletRequest request) {
        
        String value = (String) field.getProperty(bean);
        
        if (value == null || value.trim().isEmpty()) {
            return true; // ç©ºæ–‡å­—ã®å ´åˆã¯requiredãƒ«ãƒ¼ãƒ«ã«ä»»ã›ã‚‹
        }
        
        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯ï¼ˆå®Ÿéš›ã®DAOã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ï¼‰
        try {
            UserDAO userDAO = new UserDAO();
            if (userDAO.existsByUsername(value)) {
                errors.add(field.getKey(), Resources.getActionMessage(
                    request, va, field));
                return false;
            }
        } catch (Exception e) {
            // ãƒ­ã‚°å‡ºåŠ›
            System.err.println("Database error during username validation: " + e.getMessage());
            return false;
        }
        
        return true;
    }
    
    /**
     * æ—¥ä»˜ã®è«–ç†ãƒã‚§ãƒƒã‚¯ï¼ˆé–‹å§‹æ—¥ <= çµ‚äº†æ—¥ï¼‰
     */
    public static boolean validateDateRange(Object bean,
                                          ValidatorAction va,
                                          Field field,
                                          ActionMessages errors,
                                          HttpServletRequest request) {
        
        // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¤‰æ•°ã‹ã‚‰é–‹å§‹æ—¥ãƒ»çµ‚äº†æ—¥ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã‚’å–å¾—
        String startDateProperty = field.getVarValue("startDate");
        String endDateProperty = field.getVarValue("endDate");
        
        try {
            // BeanUtilsã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å€¤ã‚’å–å¾—
            String startDateStr = BeanUtils.getProperty(bean, startDateProperty);
            String endDateStr = BeanUtils.getProperty(bean, endDateProperty);
            
            if (startDateStr != null && endDateStr != null && 
                !startDateStr.isEmpty() && !endDateStr.isEmpty()) {
                
                SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
                Date startDate = sdf.parse(startDateStr);
                Date endDate = sdf.parse(endDateStr);
                
                if (startDate.after(endDate)) {
                    errors.add(field.getKey(), Resources.getActionMessage(
                        request, va, field));
                    return false;
                }
            }
            
        } catch (Exception e) {
            errors.add(field.getKey(), Resources.getActionMessage(
                request, va, field));
            return false;
        }
        
        return true;
    }
}</code></pre>

                    <h4>2ï¸âƒ£ validator-rules.xmlã¸ã®è¿½åŠ </h4>
                    
                    <pre class="code-block"><code class="language-xml">&lt;validator name="uniqueUsername"
           classname="com.example.validator.CustomValidator"
           method="validateUniqueUsername"
           methodParams="java.lang.Object,
                        org.apache.commons.validator.ValidatorAction,
                        org.apache.commons.validator.Field,
                        org.apache.struts.action.ActionMessages,
                        javax.servlet.http.HttpServletRequest"
           msg="errors.username.duplicate"/&gt;

&lt;validator name="dateRange"
           classname="com.example.validator.CustomValidator"
           method="validateDateRange"
           methodParams="java.lang.Object,
                        org.apache.commons.validator.ValidatorAction,
                        org.apache.commons.validator.Field,
                        org.apache.struts.action.ActionMessages,
                        javax.servlet.http.HttpServletRequest"
           msg="errors.date.range"/&gt;</code></pre>

                    <h4>3ï¸âƒ£ validation.xmlã§ã®ä½¿ç”¨</h4>
                    
                    <pre class="code-block"><code class="language-xml">&lt;field property="username" depends="required,maxlength,uniqueUsername"&gt;
    &lt;arg0 key="label.username"/&gt;
    &lt;arg1 name="maxlength" key="${var:maxlength}" resource="false"/&gt;
    &lt;var&gt;
        &lt;var-name&gt;maxlength&lt;/var-name&gt;
        &lt;var-value&gt;20&lt;/var-value&gt;
    &lt;/var&gt;
&lt;/field&gt;

&lt;field property="dummy" depends="dateRange"&gt;
    &lt;arg0 key="label.date.period"/&gt;
    &lt;var&gt;
        &lt;var-name&gt;startDate&lt;/var-name&gt;
        &lt;var-value&gt;startDate&lt;/var-value&gt;
    &lt;/var&gt;
    &lt;var&gt;
        &lt;var-name&gt;endDate&lt;/var-name&gt;
        &lt;var-value&gt;endDate&lt;/var-value&gt;
    &lt;/var&gt;
&lt;/field&gt;</code></pre>

                    <div class="warning">
                        <h4>âš ï¸ ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚¿å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹</h4>
                        <ul>
                            <li><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</strong>ï¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãªã©é‡ã„å‡¦ç†ã¯å¿…è¦æœ€å°é™ã«</li>
                            <li><strong>ä¾‹å¤–å‡¦ç†</strong>ï¼šå¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã¯é©åˆ‡ãªä¾‹å¤–å‡¦ç†ã‚’å®Ÿè£…</li>
                            <li><strong>nullå®‰å…¨æ€§</strong>ï¼šå…¥åŠ›å€¤ãŒnullã‚„ç©ºæ–‡å­—ã®å ´åˆã®å‡¦ç†ã‚’è€ƒæ…®</li>
                            <li><strong>åˆ†é›¢åŸå‰‡</strong>ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†ã«ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ··å…¥ã•ã›ãªã„</li>
                        </ul>
                    </div>
                </section>

                <!-- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° -->
                <section id="error-handling">
                    <h2 class="section-title">âš ï¸ åŠ¹æœçš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</h2>
                    
                    <p>ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸéš›ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã«å¤§ããå½±éŸ¿ã—ã¾ã™ã€‚é©åˆ‡ãªã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ãŒé‡è¦ã§ã™ã€‚</p>

                    <h3>ğŸ¨ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼è¡¨ç¤º</h3>

                    <h4>ğŸ“‹ åŸºæœ¬çš„ãªã‚¨ãƒ©ãƒ¼è¡¨ç¤ºãƒ‘ã‚¿ãƒ¼ãƒ³</h4>
                    
                    <pre class="code-block"><code class="language-jsp">&lt;%-- å…¨ä½“ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º --%&gt;
&lt;logic:messagesPresent&gt;
    &lt;div class="alert alert-danger"&gt;
        &lt;h4&gt;å…¥åŠ›å†…å®¹ã«å•é¡ŒãŒã‚ã‚Šã¾ã™&lt;/h4&gt;
        &lt;ul&gt;
            &lt;html:messages id="error"&gt;
                &lt;li&gt;&lt;bean:write name="error"/&gt;&lt;/li&gt;
            &lt;/html:messages&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/logic:messagesPresent&gt;

&lt;html:form action="/userRegister"&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼å:&lt;/td&gt;
            &lt;td&gt;
                &lt;html:text property="username"/&gt;
                &lt;!-- ç‰¹å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤º --&gt;
                &lt;logic:messagesPresent property="username"&gt;
                    &lt;div class="field-error"&gt;
                        &lt;html:messages id="error" property="username"&gt;
                            &lt;span class="error-text"&gt;&lt;bean:write name="error"/&gt;&lt;/span&gt;
                        &lt;/html:messages&gt;
                    &lt;/div&gt;
                &lt;/logic:messagesPresent&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;!-- ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ --&gt;
    &lt;/table&gt;
&lt;/html:form&gt;</code></pre>

                    <h4>ğŸ¯ ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</h4>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header bg-success text-white">
                                    âœ… æ¨å¥¨ã•ã‚Œã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>å…·ä½“çš„ã§å®Ÿè¡Œå¯èƒ½ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</li>
                                        <li>ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã®æ˜ç¢ºãªæŒ‡ç¤º</li>
                                        <li>å…¥åŠ›å€¤ã®ä¿æŒ</li>
                                        <li>è¦–è¦šçš„ã«åˆ†ã‹ã‚Šã‚„ã™ã„è¡¨ç¤º</li>
                                        <li>æ­£ã—ã„å…¥åŠ›ä¾‹ã®æç¤º</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header bg-danger text-white">
                                    âŒ é¿ã‘ã‚‹ã¹ãã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>æŠ€è¡“çš„ã™ãã‚‹ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</li>
                                        <li>ã€Œã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€ã®ã‚ˆã†ãªæ›–æ˜§ãªè¡¨ç¾</li>
                                        <li>å…¥åŠ›å€¤ã®ã‚¯ãƒªã‚¢</li>
                                        <li>ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ãŒåˆ†ã‹ã‚‰ãªã„è¡¨ç¤º</li>
                                        <li>è§£æ±ºæ–¹æ³•ã®èª¬æ˜ä¸è¶³</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h3>ğŸ”„ Actionå‡¦ç†ã§ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</h3>
                    
                    <p>ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ä»¥å¤–ã«ã‚‚ã€Actionå‡¦ç†ä¸­ã«æ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼š</p>

                    <pre class="code-block"><code class="language-java">public ActionForward execute(ActionMapping mapping, ActionForm form,
                            HttpServletRequest request, HttpServletResponse response)
                            throws Exception {
    
    UserForm userForm = (UserForm) form;
    ActionMessages errors = new ActionMessages();
    
    try {
        // æ¥­å‹™å‡¦ç†ã®å®Ÿè¡Œ
        UserService userService = new UserService();
        userService.registerUser(userForm.getUsername(), 
                               userForm.getEmail(), 
                               userForm.getPassword());
        
        // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¨­å®š
        ActionMessages messages = new ActionMessages();
        messages.add(ActionMessages.GLOBAL_MESSAGE, 
                    new ActionMessage("message.user.register.success"));
        saveMessages(request, messages);
        
        return mapping.findForward("success");
        
    } catch (DuplicateUserException e) {
        // é‡è¤‡ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ©ãƒ¼
        errors.add("username", new ActionMessage("error.username.duplicate"));
        saveErrors(request, errors);
        return mapping.getInputForward();
        
    } catch (InvalidEmailException e) {
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚¨ãƒ©ãƒ¼
        errors.add("email", new ActionMessage("error.email.invalid"));
        saveErrors(request, errors);
        return mapping.getInputForward();
        
    } catch (SystemException e) {
        // ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼
        log.error("System error during user registration", e);
        errors.add(ActionMessages.GLOBAL_MESSAGE, 
                  new ActionMessage("error.system.general"));
        saveErrors(request, errors);
        return mapping.findForward("error");
    }
}</code></pre>

                    <div class="info">
                        <h4>ğŸ’¡ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æˆ¦ç•¥</h4>
                        <ul>
                            <li><strong>ä¾‹å¤–ã®åˆ†é¡</strong>ï¼šæ¥­å‹™ä¾‹å¤–ã¨ã‚·ã‚¹ãƒ†ãƒ ä¾‹å¤–ã‚’æ˜ç¢ºã«åˆ†é›¢</li>
                            <li><strong>é©åˆ‡ãªé·ç§»å…ˆ</strong>ï¼šã‚¨ãƒ©ãƒ¼ç¨®é¡ã«å¿œã˜ãŸé©åˆ‡ãªãƒšãƒ¼ã‚¸ã«é·ç§»</li>
                            <li><strong>ãƒ­ã‚°ã®è¨˜éŒ²</strong>ï¼šãƒ‡ãƒãƒƒã‚°ã«å¿…è¦ãªæƒ…å ±ã‚’é©åˆ‡ã«ãƒ­ã‚°å‡ºåŠ›</li>
                            <li><strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</strong>ï¼šæŠ€è¡“çš„ãªè©³ç´°ã‚’éš ã—ãŸåˆ†ã‹ã‚Šã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</li>
                        </ul>
                    </div>
                </section>

                <!-- ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ -->
                <section id="best-practices">
                    <h2 class="section-title">ğŸ’¡ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</h2>

                    <div class="highlight">
                        <h4>âœ… è¨­è¨ˆãƒ»å®Ÿè£…ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</h4>
                        <ul>
                            <li><strong>å¤šå±¤é˜²å¾¡</strong>ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒãƒ¼å´ã®ä¸¡æ–¹ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…</li>
                            <li><strong>æ—©æœŸãƒã‚§ãƒƒã‚¯</strong>ï¼šå¯èƒ½ãªé™ã‚Šæ—©ã„æ®µéšã§ã®ã‚¨ãƒ©ãƒ¼æ¤œå‡º</li>
                            <li><strong>é©åˆ‡ãªåˆ†é›¢</strong>ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†é›¢</li>
                            <li><strong>å†åˆ©ç”¨æ€§</strong>ï¼šå…±é€šçš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã®éƒ¨å“åŒ–</li>
                            <li><strong>ä¿å®ˆæ€§</strong>ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹å®£è¨€çš„ãªãƒ«ãƒ¼ãƒ«å®šç¾©</li>
                        </ul>
                    </div>

                    <div class="warning">
                        <h4>âš ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …</h4>
                        <ul>
                            <li><strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯è£œåŠ©çš„</strong>ï¼šå¿…ãšã‚µãƒ¼ãƒãƒ¼å´ã§ã‚‚åŒæ§˜ã®ãƒã‚§ãƒƒã‚¯å®Ÿè£…</li>
                            <li><strong>å…¥åŠ›å€¤ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚º</strong>ï¼šHTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãªã©ã®é©åˆ‡ãªå‡¦ç†</li>
                            <li><strong>SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–</strong>ï¼šãƒ—ãƒªãƒšã‚¢ãƒ‰ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®ä½¿ç”¨</li>
                            <li><strong>ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</strong>ï¼šãƒ•ã‚¡ã‚¤ãƒ«ç¨®é¡ãƒ»ã‚µã‚¤ã‚ºã®å³æ ¼ãªãƒã‚§ãƒƒã‚¯</li>
                        </ul>
                    </div>

                    <h3>ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–</h3>
                    
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>é …ç›®</th>
                                <th>æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</th>
                                <th>ç†ç”±</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹</td>
                                <td>å¿…è¦æœ€å°é™ã«æŠ‘åˆ¶</td>
                                <td>ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†ã®é«˜é€ŸåŒ–</td>
                            </tr>
                            <tr>
                                <td>æ­£è¦è¡¨ç¾</td>
                                <td>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å†åˆ©ç”¨</td>
                                <td>CPUä½¿ç”¨ç‡ã®å‰Šæ¸›</td>
                            </tr>
                            <tr>
                                <td>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</td>
                                <td>MessageResourcesã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨</td>
                                <td>ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š</td>
                            </tr>
                            <tr>
                                <td>ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é †åº</td>
                                <td>è»½ã„ãƒã‚§ãƒƒã‚¯ã‹ã‚‰é‡ã„ãƒã‚§ãƒƒã‚¯ã¸</td>
                                <td>æ—©æœŸã‚¨ãƒ©ãƒ¼æ¤œå‡ºã«ã‚ˆã‚‹å‡¦ç†çŸ­ç¸®</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- å®Ÿç¿’èª²é¡Œ -->
                <section id="exercise">
                    <div class="exercise-container">
                        <h2>ğŸ’» å®Ÿç¿’èª²é¡Œ</h2>
                        
                        <h3>ğŸ“‹ èª²é¡Œ1: ActionFormã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…</h3>
                        <p>ä»¥ä¸‹ã®ä»•æ§˜ã«å¾“ã£ã¦ã€å•†å“ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</p>
                        
                        <div class="highlight">
                            <h4>ğŸ¯ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¦ä»¶</h4>
                            <ul>
                                <li><strong>å•†å“å</strong>ï¼šå¿…é ˆã€æœ€å¤§50æ–‡å­—</li>
                                <li><strong>ä¾¡æ ¼</strong>ï¼šå¿…é ˆã€æ­£ã®æ•´æ•°ã€æœ€å¤§999,999å††</li>
                                <li><strong>ã‚«ãƒ†ã‚´ãƒªID</strong>ï¼šå¿…é ˆã€1-10ã®ç¯„å›²</li>
                                <li><strong>å•†å“èª¬æ˜</strong>ï¼šä»»æ„ã€æœ€å¤§500æ–‡å­—</li>
                                <li><strong>ç™ºå£²æ—¥</strong>ï¼šå¿…é ˆã€YYYY-MM-DDå½¢å¼ã€ä»Šæ—¥ä»¥é™ã®æ—¥ä»˜</li>
                            </ul>
                        </div>

                        <h4>ğŸ’¡ è§£ç­”ã®ãƒã‚¤ãƒ³ãƒˆ</h4>
                        <details>
                            <summary>ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ’ãƒ³ãƒˆã‚’è¡¨ç¤º</summary>
                            <div class="info">
                                <ul>
                                    <li>ActionFormã®validateãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰</li>
                                    <li>å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒã‚§ãƒƒã‚¯å‡¦ç†ã‚’é †æ¬¡å®Ÿè£…</li>
                                    <li>æ—¥ä»˜å½¢å¼ãƒã‚§ãƒƒã‚¯ã«ã¯SimpleDateFormatã‚’ä½¿ç”¨</li>
                                    <li>é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¼ã‚’ä½¿ç”¨</li>
                                </ul>
                            </div>
                        </details>

                        <h3>ğŸ“‹ èª²é¡Œ2: Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯è¨­å®š</h3>
                        <p>èª²é¡Œ1ã¨åŒã˜è¦ä»¶ã‚’Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</p>
                        
                        <div class="highlight">
                            <h4>ğŸ¯ ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«</h4>
                            <ul>
                                <li>validation.xmlï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«å®šç¾©</li>
                                <li>MessageResources.propertiesï¼šã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å®šç¾©</li>
                                <li>JSPãƒšãƒ¼ã‚¸ï¼šã‚¨ãƒ©ãƒ¼è¡¨ç¤ºå¯¾å¿œ</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- ç†è§£åº¦ç¢ºèªã‚¯ã‚¤ã‚º -->
                <section id="quiz">
                    <div class="quiz-container">
                        <h2>ğŸ“ ç†è§£åº¦ç¢ºèªã‚¯ã‚¤ã‚º</h2>

                        <div class="quiz-item">
                            <h4>â“ å•é¡Œ1</h4>
                            <p>ActionFormã®<strong>validate()</strong>ãƒ¡ã‚½ãƒƒãƒ‰ãŒ<code>null</code>ã¾ãŸã¯ç©ºã®ActionErrorsã‚’è¿”ã—ãŸå ´åˆã€Strutsã¯ã©ã®ã‚ˆã†ãªå‹•ä½œã‚’ã—ã¾ã™ã‹ï¼Ÿ</p>
                            
                            <div class="quiz-options">
                                <label><input type="radio" name="q1" value="a"> a) ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã«é·ç§»ã™ã‚‹</label><br>
                                <label><input type="radio" name="q1" value="b"> b) Actionã‚¯ãƒ©ã‚¹ã®execute()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹</label><br>
                                <label><input type="radio" name="q1" value="c"> c) inputå±æ€§ã®ãƒšãƒ¼ã‚¸ã«é·ç§»ã™ã‚‹</label><br>
                                <label><input type="radio" name="q1" value="d"> d) å‡¦ç†ã‚’åœæ­¢ã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’å‡ºåŠ›ã™ã‚‹</label>
                            </div>
                            
                            <div class="quiz-answer" style="display: none;">
                                <strong>æ­£è§£: b) Actionã‚¯ãƒ©ã‚¹ã®execute()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹</strong><br>
                                ActionErrorsãŒç©ºï¼ˆã‚¨ãƒ©ãƒ¼ãªã—ï¼‰ã®å ´åˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæˆåŠŸã—ãŸã¨ã¿ãªã•ã‚Œã€é€šå¸¸é€šã‚ŠActionã‚¯ãƒ©ã‚¹ã®å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
                            </div>
                        </div>

                        <div class="quiz-item">
                            <h4>â“ å•é¡Œ2</h4>
                            <p>Validatorãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã€è¤‡æ•°ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã‚’ä¸€ã¤ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«é©ç”¨ã™ã‚‹å ´åˆã€<code>depends</code>å±æ€§ã«ã¯ã©ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã‹ï¼Ÿ</p>
                            
                            <div class="quiz-options">
                                <label><input type="radio" name="q2" value="a"> a) depends="required AND maxlength"</label><br>
                                <label><input type="radio" name="q2" value="b"> b) depends="required,maxlength"</label><br>
                                <label><input type="radio" name="q2" value="c"> c) depends="required|maxlength"</label><br>
                                <label><input type="radio" name="q2" value="d"> d) depends="required;maxlength"</label>
                            </div>
                            
                            <div class="quiz-answer" style="display: none;">
                                <strong>æ­£è§£: b) depends="required,maxlength"</strong><br>
                                è¤‡æ•°ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã¯ã€ã‚«ãƒ³ãƒï¼ˆ,ï¼‰ã§åŒºåˆ‡ã£ã¦æŒ‡å®šã—ã¾ã™ã€‚è¨˜è¼‰ã•ã‚ŒãŸé †åºã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
                            </div>
                        </div>

                        <div class="quiz-item">
                            <h4>â“ å•é¡Œ3</h4>
                            <p>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è¦³ç‚¹ã‹ã‚‰æ­£ã—ã„è¨˜è¿°ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</p>
                            
                            <div class="quiz-options">
                                <label><input type="radio" name="q3" value="a"> a) ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã¿ã§ååˆ†</label><br>
                                <label><input type="radio" name="q3" value="b"> b) ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã¿ã§ååˆ†</label><br>
                                <label><input type="radio" name="q3" value="c"> c) å¿…ãšã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã‚‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚‹</label><br>
                                <label><input type="radio" name="q3" value="d"> d) ã©ã¡ã‚‰ã‹ä¸€æ–¹ãŒã‚ã‚Œã°ã‚ˆã„</label>
                            </div>
                            
                            <div class="quiz-answer" style="display: none;">
                                <strong>æ­£è§£: c) å¿…ãšã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã‚‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚‹</strong><br>
                                ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ç°¡å˜ã«å›é¿ã§ãã‚‹ãŸã‚ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç†ç”±ã‹ã‚‰å¿…ãšã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã‚‚åŒæ§˜ã®ãƒã‚§ãƒƒã‚¯ãŒå¿…è¦ã§ã™ã€‚
                            </div>
                        </div>

                        <button type="button" class="btn btn-orange mt-3" onclick="showAllAnswers()">è§£ç­”ã‚’è¡¨ç¤º</button>
                    </div>
                </section>

                <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
                <div class="d-flex justify-content-between mt-4">
                    <a href="struts1-learning-material-5.html" class="btn btn-outline-secondary">â¬…ï¸ ç¬¬5ç« ã«æˆ»ã‚‹</a>
                    <a href="struts1-learning-material-7.html" class="btn btn-orange">ç¬¬7ç« ã«é€²ã‚€ â¡ï¸</a>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap 5 JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // Highlight.jsåˆæœŸåŒ–
            hljs.highlightAll();
            
            // Mermaid.jsåˆæœŸåŒ–
            mermaid.initialize({
                startOnLoad: true,
                theme: 'default'
            });
            
            // ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒªãƒ³ã‚¯æ›´æ–°
            const observerOptions = {
                root: null,
                rootMargin: '0px 0px -80% 0px',
                threshold: 0.1
            };
            
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        const activeLink = document.querySelector(`a[href="#${id}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                        }
                    }
                });
            }, observerOptions);
            
            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¦ç´ ã‚’ç›£è¦–å¯¾è±¡ã«è¿½åŠ 
            document.querySelectorAll('section[id]').forEach(section => {
                observer.observe(section);
            });
        });
        
        // ã‚¯ã‚¤ã‚ºè§£ç­”è¡¨ç¤ºæ©Ÿèƒ½
        function showAllAnswers() {
            document.querySelectorAll('.quiz-answer').forEach(answer => {
                answer.style.display = 'block';
            });
        }
    </script>
</body>
</html>