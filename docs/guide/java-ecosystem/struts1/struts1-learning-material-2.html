<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struts 1.x学習教材 第2章 - 環境構築とプロジェクト作成</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- カスタムCSS -->
    <style>
        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ナビゲーション */
        .navbar {
            background-color: #f57c00;
        }

        /* サイドバー */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        /* タイトル */
        .chapter-title {
            color: #f57c00;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #f57c00;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ff9800;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* コンテンツボックス */
        .quiz-container {
            background-color: #fff3e0;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #f57c00;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        /* コードハイライト */
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* ナビゲーション */
        .nav-link.active {
            background-color: #f57c00 !important;
            color: white !important;
        }

        .nav-link:hover {
            background-color: #ff9800;
            color: white;
        }

        /* 理論説明ボックス */
        .theory-box {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #4caf50;
        }

        /* 歴史的背景ボックス */
        .history-box {
            background-color: #f0f8ff;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #1976d2;
        }

        /* 技術詳細ボックス */
        .tech-detail-box {
            background-color: #fafafa;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #607d8b;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>Struts 1.x学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-1.html">
                                第1章: 基本概念とMVCアーキテクチャ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="struts1-learning-material-2.html">
                                第2章: 環境構築とプロジェクト作成
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-3.html">
                                第3章: ActionクラスとActionForm
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-4.html">
                                第4章: struts-config.xmlの設定と管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-5.html">
                                第5章: JSPとの連携とTagライブラリ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-6.html">
                                第6章: バリデーション機能とエラーハンドリング
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-7.html">
                                第7章: セッション管理とセキュリティ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-8.html">
                                第8章: 国際化（i18n）とプロパティファイル
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-9.html">
                                第9章: データベース連携と実践的開発
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="struts1-learning-material-10.html">
                                第10章: デバッグ・テスト・デプロイメント
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- 章ヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第2章: 環境構築とプロジェクト作成</h1>
                </div>

                <div id="chapter2">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">なぜ開発環境が重要なのか？Struts開発の基盤を理解する</h2>
                    
                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>Web開発環境の役割と各コンポーネントの必要性</li>
                            <li>Java Web開発における標準的なツールチェーンの理解</li>
                            <li>IDE（統合開発環境）の価値とその選択基準</li>
                            <li>アプリケーションサーバーとWebサーバーの違い</li>
                            <li>ビルドツールの役割と依存関係管理の重要性</li>
                            <li>Struts 1.x特有の設定要件と注意点</li>
                        </ul>
                    </div>

                    <!-- 開発環境の理論的理解 -->
                    <div class="theory-box">
                        <h5>🏗️ 開発環境とは何か？なぜ重要なのか？</h5>
                        
                        <p>開発環境とは、<strong>「ソフトウェアを効率的かつ確実に開発するための道具と仕組みの集合体」</strong>です。</p>
                        
                        <h6>開発環境の重要性：</h6>
                        <ol>
                            <li><strong>効率性の向上</strong>
                                <ul>
                                    <li>コード補完、デバッグ機能により開発速度が大幅に向上</li>
                                    <li>自動化されたビルドプロセスによる手作業の削減</li>
                                    <li>統合されたツールによるシームレスな開発フロー</li>
                                </ul>
                            </li>
                            
                            <li><strong>品質の保証</strong>
                                <ul>
                                    <li>構文チェック、静的解析によるバグの早期発見</li>
                                    <li>一貫したコーディングスタイルの維持</li>
                                    <li>テスト環境との統合による品質確保</li>
                                </ul>
                            </li>
                            
                            <li><strong>チーム開発の促進</strong>
                                <ul>
                                    <li>標準化された開発環境による作業の統一</li>
                                    <li>バージョン管理システムとの統合</li>
                                    <li>共通設定による環境差異の削減</li>
                                </ul>
                            </li>
                        </ol>
                        
                        <p><strong>比喩で理解：</strong>開発環境は「職人の工房」のようなものです。適切な道具（IDE）、作業台（OS）、材料管理システム（ビルドツール）、品質検査装置（テストツール）が揃って初めて、良い製品（ソフトウェア）を効率的に作ることができます。</p>
                    </div>

                    <h3 class="section-title">2.1 Struts 1.x開発に必要なコンポーネントの理解</h3>
                    
                    <p>Struts 1.xアプリケーションを開発するためには、複数のコンポーネントが連携して動作する環境が必要です。まず、なぜこれらのコンポーネントが必要なのかを理解しましょう。</p>

                    <!-- 開発環境構成図 -->
                    <div class="mermaid">
                        flowchart TD
                            subgraph "開発者のPC環境"
                                IDE["💻 IDE<br/>(Eclipse/IntelliJ IDEA)<br/>コード作成・デバッグ"]
                                JDK["☕ JDK<br/>Javaコンパイラ<br/>実行環境"]
                                Build["🔧 ビルドツール<br/>(Maven/Ant)<br/>依存関係管理"]
                            end

                            subgraph "実行環境"
                                Server["🖥️ アプリケーションサーバー<br/>(Tomcat)<br/>Webアプリケーション実行"]
                                Browser["🌐 Webブラウザ<br/>ユーザーインターフェース<br/>テスト環境"]
                            end

                            subgraph "Strutsアプリケーション"
                                Struts["📦 Struts 1.x<br/>フレームワークライブラリ<br/>MVC実装"]
                                Config["⚙️ 設定ファイル<br/>(web.xml, struts-config.xml)<br/>アプリケーション構成"]
                            end

                            IDE --> Build
                            Build --> JDK
                            JDK --> Server
                            Server --> Browser
                            Build --> Struts
                            Struts --> Config
                            Config --> Server

                            style IDE fill:#e3f2fd
                            style JDK fill:#fff3e0
                            style Build fill:#e8f5e8
                            style Server fill:#f3e5f5
                            style Struts fill:#ffecb3
                    </div>

                    <div class="tech-detail-box">
                        <h5>🔍 各コンポーネントの役割詳細</h5>
                        
                        <h6>1. JDK (Java Development Kit) - Javaの基盤</h6>
                        <ul>
                            <li><strong>役割</strong>：Javaアプリケーションの開発・実行に必要な基本ツール群</li>
                            <li><strong>含まれるもの</strong>：
                                <ul>
                                    <li>javac（コンパイラ）- .javaファイルを.classファイルに変換</li>
                                    <li>java（実行環境）- バイトコードを実行</li>
                                    <li>jar（アーカイブツール）- ライブラリの作成・管理</li>
                                    <li>javadoc（ドキュメント生成）- API文書の自動生成</li>
                                </ul>
                            </li>
                            <li><strong>なぜ必要？</strong>：Strutsも含め、すべてのJavaアプリケーションの土台となるため</li>
                            <li><strong>Struts 1.x推奨バージョン</strong>：JDK 1.4以上（当時の要件）</li>
                        </ul>
                        
                        <h6>2. IDE (Integrated Development Environment) - 開発の中心</h6>
                        <ul>
                            <li><strong>役割</strong>：ソースコード編集、デバッグ、プロジェクト管理を統合した開発環境</li>
                            <li><strong>主要機能</strong>：
                                <ul>
                                    <li>シンタックスハイライト - コードの可読性向上</li>
                                    <li>コード補完 - 開発効率とタイプミス削減</li>
                                    <li>リファクタリング支援 - 安全なコード構造変更</li>
                                    <li>デバッガー統合 - ブレークポイント、変数監視</li>
                                    <li>プロジェクト管理 - ファイル構造の整理</li>
                                </ul>
                            </li>
                            <li><strong>なぜ必要？</strong>：Strutsの複雑な設定とファイル間の関係を効率的に管理するため</li>
                        </ul>
                        
                        <h6>3. アプリケーションサーバー（Tomcat）- 実行環境</h6>
                        <ul>
                            <li><strong>役割</strong>：Webアプリケーションを実行し、HTTPリクエストを処理</li>
                            <li><strong>主要機能</strong>：
                                <ul>
                                    <li>Servlet Container - Servlet/JSPの実行環境</li>
                                    <li>HTTP処理 - リクエスト/レスポンスの管理</li>
                                    <li>セッション管理 - ユーザー状態の維持</li>
                                    <li>リソース管理 - メモリ、データベース接続の管理</li>
                                </ul>
                            </li>
                            <li><strong>なぜ必要？</strong>：Strutsアプリケーションは Servlet/JSP 技術の上に構築されているため</li>
                        </ul>
                    </div>

                    <h3 class="section-title">2.2 ビルドツールの理解 - Maven vs Ant</h3>
                    
                    <p>ビルドツールは、<strong>「ソースコードから実行可能なアプリケーションを作成するための自動化ツール」</strong>です。Struts 1.x時代には主にAntが、現代ではMavenが主流です。</p>

                    <div class="theory-box">
                        <h5>🏗️ ビルドツールが解決する問題</h5>
                        
                        <h6>手動ビルドの問題点：</h6>
                        <ul>
                            <li><strong>複雑性</strong>：多数のJavaファイル、設定ファイル、ライブラリの管理</li>
                            <li><strong>エラーの発生</strong>：コンパイル順序、クラスパスの設定ミス</li>
                            <li><strong>効率の悪さ</strong>：毎回すべてを手動で実行する必要</li>
                            <li><strong>一貫性の欠如</strong>：開発者によって異なるビルド手順</li>
                        </ul>
                        
                        <h6>ビルドツールの価値：</h6>
                        <ol>
                            <li><strong>依存関係管理</strong>：必要なライブラリの自動ダウンロード・配置</li>
                            <li><strong>ビルド自動化</strong>：コンパイル、テスト、パッケージングの自動実行</li>
                            <li><strong>標準化</strong>：チーム全体で統一されたビルドプロセス</li>
                            <li><strong>継続的統合</strong>：自動テスト、自動デプロイとの連携</li>
                        </ol>
                    </div>

                    <!-- ビルドツール比較図 -->
                    <div class="mermaid">
                        flowchart TD
                            subgraph "Apache Ant (Struts 1.x時代の主流)"
                                A1["📋 build.xml<br/>手動でタスク定義"]
                                A2["📚 lib/フォルダ<br/>手動でJAR管理"]
                                A3["🔨 ant コマンド<br/>タスク実行"]
                                
                                A1 --> A3
                                A2 --> A3
                                
                                style A1 fill:#ffebee
                                style A2 fill:#ffebee
                                style A3 fill:#ffebee
                            end

                            subgraph "Apache Maven (現代的アプローチ)"
                                M1["📋 pom.xml<br/>宣言的な設定"]
                                M2["🌐 中央リポジトリ<br/>自動依存関係解決"]
                                M3["🔨 maven コマンド<br/>標準ライフサイクル"]
                                
                                M1 --> M3
                                M2 --> M3
                                
                                style M1 fill:#e8f5e8
                                style M2 fill:#e8f5e8
                                style M3 fill:#e8f5e8
                            end
                    </div>

                    <div class="tech-detail-box">
                        <h5>⚖️ Ant vs Maven 比較分析</h5>
                        
                        <table class="table table-bordered">
                            <thead class="table-dark">
                                <tr>
                                    <th>観点</th>
                                    <th>Apache Ant</th>
                                    <th>Apache Maven</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>設定方法</th>
                                    <td>build.xml（手続き型）</td>
                                    <td>pom.xml（宣言型）</td>
                                </tr>
                                <tr>
                                    <th>依存管理</th>
                                    <td>手動でJARを管理</td>
                                    <td>自動ダウンロード・バージョン管理</td>
                                </tr>
                                <tr>
                                    <th>学習コスト</th>
                                    <td>低い（XMLタスクの記述）</td>
                                    <td>中程度（規約の理解が必要）</td>
                                </tr>
                                <tr>
                                    <th>柔軟性</th>
                                    <td>高い（何でも記述可能）</td>
                                    <td>中程度（規約に従う）</td>
                                </tr>
                                <tr>
                                    <th>保守性</th>
                                    <td>中程度（設定が複雑化しやすい）</td>
                                    <td>高い（標準的な構造）</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3 class="section-title">2.3 IDEの選択と特徴理解</h3>
                    
                    <p>IDE選択は、<strong>開発効率と学習体験に大きく影響する重要な決定</strong>です。各IDEの特徴と、なぜそれぞれが異なる価値を提供するのかを理解しましょう。</p>

                    <!-- IDE比較図 -->
                    <div class="mermaid">
                        flowchart TD
                            subgraph "Eclipse (オープンソース)"
                                E1["🆓 無料・オープンソース"]
                                E2["🔌 豊富なプラグイン"]
                                E3["🏢 エンタープライズ支援"]
                                E4["📚 大規模なコミュニティ"]
                                
                                style E1 fill:#e3f2fd
                                style E2 fill:#e3f2fd
                                style E3 fill:#e3f2fd
                                style E4 fill:#e3f2fd
                            end

                            subgraph "IntelliJ IDEA (商用・高機能)"
                                I1["🎯 高度なコード解析"]
                                I2["🚀 優れたパフォーマンス"]
                                I3["🔍 強力なリファクタリング"]
                                I4["🎨 洗練されたUI/UX"]
                                
                                style I1 fill:#e8f5e8
                                style I2 fill:#e8f5e8
                                style I3 fill:#e8f5e8
                                style I4 fill:#e8f5e8
                            end
                    </div>

                    <div class="theory-box">
                        <h5>🎯 IDE選択の判断基準</h5>
                        
                        <h6>1. Eclipse - コミュニティとプラグインエコシステム重視</h6>
                        <p><strong>適している人：</strong></p>
                        <ul>
                            <li>初心者から中級者（無料で始めたい）</li>
                            <li>エンタープライズ環境での開発者</li>
                            <li>様々なプラグインを活用したい人</li>
                            <li>チーム開発でコスト抑制が必要</li>
                        </ul>
                        
                        <p><strong>Struts開発での利点：</strong></p>
                        <ul>
                            <li>WTPプラグインによるWeb開発支援</li>
                            <li>Tomcatとの統合が容易</li>
                            <li>豊富なStruts関連プラグイン</li>
                            <li>XMLエディタが充実</li>
                        </ul>
                        
                        <h6>2. IntelliJ IDEA - 生産性と品質重視</h6>
                        <p><strong>適している人：</strong></p>
                        <ul>
                            <li>生産性を最重視する開発者</li>
                            <li>高品質なコードを書きたい人</li>
                            <li>モダンなIDEエクスペリエンスを求める人</li>
                            <li>複雑なリファクタリングを頻繁に行う人</li>
                        </ul>
                        
                        <p><strong>Struts開発での利点：</strong></p>
                        <ul>
                            <li>XML設定ファイルの高度な支援</li>
                            <li>Javaコードとの関連性表示</li>
                            <li>強力なデバッグ機能</li>
                            <li>優れたコード補完</li>
                        </ul>
                        
                        <h6>判断のポイント：</h6>
                        <ul>
                            <li><strong>予算</strong>：Eclipse（無料） vs IDEA（有料、ただしCommunity版は無料）</li>
                            <li><strong>チーム方針</strong>：組織の標準に合わせる</li>
                            <li><strong>個人の好み</strong>：UI/UXの好みと使いやすさ</li>
                            <li><strong>プロジェクト規模</strong>：大規模プロジェクトでは IDEA が有利な場合が多い</li>
                        </ul>
                    </div>

                    <h3 class="section-title">2.4 プロジェクト構造の理解 - 規約による開発</h3>
                    
                    <p>Struts 1.xプロジェクトには、<strong>標準的なディレクトリ構造と配置規約</strong>があります。これらの規約を理解することは、効率的な開発とメンテナンスに不可欠です。</p>

                    <!-- プロジェクト構造図 -->
                    <div class="mermaid">
                        flowchart TD
                            subgraph "Struts 1.x プロジェクト構造"
                                Root["📁 プロジェクトルート"]
                                
                                Src["📁 src/<br/>Javaソースコード"]
                                WebContent["📁 WebContent/<br/>Web資源"]
                                Lib["📁 lib/<br/>外部ライブラリ"]
                                
                                Root --> Src
                                Root --> WebContent
                                Root --> Lib
                                
                                subgraph "src/ の構成"
                                    ActionPkg["📦 com.example.action/<br/>Actionクラス"]
                                    FormPkg["📦 com.example.form/<br/>ActionFormクラス"]
                                    ServicePkg["📦 com.example.service/<br/>ビジネスロジック"]
                                    DaoPkg["📦 com.example.dao/<br/>データアクセス"]
                                    
                                    Src --> ActionPkg
                                    Src --> FormPkg
                                    Src --> ServicePkg
                                    Src --> DaoPkg
                                end
                                
                                subgraph "WebContent/ の構成"
                                    WEB_INF["📁 WEB-INF/<br/>Web設定"]
                                    JSP_Pages["📄 JSPページ<br/>(.jsp)"]
                                    CSS_JS["📁 css/, js/<br/>静的資源"]
                                    
                                    WebContent --> WEB_INF
                                    WebContent --> JSP_Pages
                                    WebContent --> CSS_JS
                                    
                                    subgraph "WEB-INF/ の構成"
                                        Web_XML["📄 web.xml<br/>Web設定"]
                                        Struts_Config["📄 struts-config.xml<br/>Struts設定"]
                                        Classes["📁 classes/<br/>コンパイル済みクラス"]
                                        WEB_Lib["📁 lib/<br/>Webアプリライブラリ"]
                                        
                                        WEB_INF --> Web_XML
                                        WEB_INF --> Struts_Config
                                        WEB_INF --> Classes
                                        WEB_INF --> WEB_Lib
                                    end
                                end
                                
                                style Root fill:#fff3e0
                                style Src fill:#e8f5e8
                                style WebContent fill:#e3f2fd
                                style WEB_INF fill:#f3e5f5
                            end
                    </div>

                    <div class="theory-box">
                        <h5>📋 プロジェクト構造の設計思想</h5>
                        
                        <h6>なぜこのような構造なのか？</h6>
                        <ol>
                            <li><strong>関心の分離</strong>
                                <ul>
                                    <li>Javaコード（src/）とWeb資源（WebContent/）を分離</li>
                                    <li>パッケージごとに役割を明確化（action, form, service, dao）</li>
                                    <li>設定ファイルを専用ディレクトリ（WEB-INF/）に集約</li>
                                </ul>
                            </li>
                            
                            <li><strong>セキュリティ</strong>
                                <ul>
                                    <li>WEB-INF/配下はブラウザから直接アクセス不可</li>
                                    <li>設定ファイルやコンパイル済みクラスを保護</li>
                                    <li>機密情報（データベース設定等）の安全性確保</li>
                                </ul>
                            </li>
                            
                            <li><strong>デプロイメント効率</strong>
                                <ul>
                                    <li>WARファイル作成時の標準化された構造</li>
                                    <li>アプリケーションサーバーでの認識・展開の効率化</li>
                                    <li>クラスローダーでの適切なロード順序</li>
                                </ul>
                            </li>
                            
                            <li><strong>開発効率</strong>
                                <ul>
                                    <li>IDEでの自動認識とサポート機能</li>
                                    <li>チーム開発でのファイル場所の統一</li>
                                    <li>ビルドツールでの処理自動化</li>
                                </ul>
                            </li>
                        </ol>
                    </div>

                    <h3 class="section-title">2.5 必要なライブラリとその役割</h3>
                    
                    <p>Struts 1.xアプリケーションには、<strong>フレームワーク本体に加えて複数の依存ライブラリ</strong>が必要です。各ライブラリの役割と必要性を理解しましょう。</p>

                    <div class="tech-detail-box">
                        <h5>📚 Struts 1.x 主要ライブラリ解説</h5>
                        
                        <h6>コアライブラリ（必須）</h6>
                        <ul>
                            <li><strong>struts.jar</strong>
                                <ul>
                                    <li>役割：Strutsフレームワークの中核機能</li>
                                    <li>含まれる主要クラス：ActionServlet, Action, ActionForm等</li>
                                    <li>なぜ必要：MVCアーキテクチャの実装基盤</li>
                                </ul>
                            </li>
                            
                            <li><strong>commons-beanutils.jar</strong>
                                <ul>
                                    <li>役割：JavaBeanのプロパティ操作ユーティリティ</li>
                                    <li>機能：リフレクションを使った動的プロパティアクセス</li>
                                    <li>なぜ必要：HTMLフォームデータの自動バインディングに使用</li>
                                </ul>
                            </li>
                            
                            <li><strong>commons-collections.jar</strong>
                                <ul>
                                    <li>役割：拡張されたコレクション機能</li>
                                    <li>機能：高性能な Map, List, Set の実装</li>
                                    <li>なぜ必要：Struts内部でのデータ管理に使用</li>
                                </ul>
                            </li>
                            
                            <li><strong>commons-digester.jar</strong>
                                <ul>
                                    <li>役割：XMLファイルのパース機能</li>
                                    <li>機能：XMLをJavaオブジェクトに変換</li>
                                    <li>なぜ必要：struts-config.xmlの読み込みに使用</li>
                                </ul>
                            </li>
                            
                            <li><strong>commons-logging.jar</strong>
                                <ul>
                                    <li>役割：ログ出力の抽象化レイヤー</li>
                                    <li>機能：様々なログライブラリの統一インターフェース</li>
                                    <li>なぜ必要：Struts内部でのログ出力に使用</li>
                                </ul>
                            </li>
                        </ul>
                        
                        <h6>タグライブラリ（推奨）</h6>
                        <ul>
                            <li><strong>struts-html.tld, struts-bean.tld, struts-logic.tld</strong>
                                <ul>
                                    <li>役割：JSPでのStrutsタグライブラリ定義</li>
                                    <li>機能：HTMLフォーム生成、データ表示、条件分岐</li>
                                    <li>なぜ必要：JSPでのMVC連携を実現</li>
                                </ul>
                            </li>
                        </ul>
                        
                        <h6>バリデーション（オプション）</h6>
                        <ul>
                            <li><strong>commons-validator.jar</strong>
                                <ul>
                                    <li>役割：入力検証フレームワーク</li>
                                    <li>機能：XML設定による宣言的バリデーション</li>
                                    <li>なぜ必要：フォーム入力の検証自動化</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <h3 class="section-title">2.6 設定ファイルの役割と重要性</h3>
                    
                    <p>Struts 1.xでは、<strong>XMLベースの設定ファイルがアプリケーションの動作を制御</strong>します。これらの設定ファイルの役割と相互関係を理解することが重要です。</p>

                    <!-- 設定ファイル関係図 -->
                    <div class="mermaid">
                        flowchart TD
                            subgraph "設定ファイルの階層関係"
                                WebXML["📄 web.xml<br/>Web アプリケーション記述子<br/>サーブレット設定の最上位"]
                                StrutsConfig["📄 struts-config.xml<br/>Struts フレームワーク設定<br/>MVC コンポーネント定義"]
                                ValidationXML["📄 validation.xml<br/>入力検証ルール<br/>フォーム検証設定"]
                                MessageProperties["📄 MessageResources.properties<br/>メッセージ定義<br/>国際化対応"]
                                
                                WebXML --> StrutsConfig
                                StrutsConfig --> ValidationXML
                                StrutsConfig --> MessageProperties
                                
                                style WebXML fill:#ffebee
                                style StrutsConfig fill:#e3f2fd
                                style ValidationXML fill:#e8f5e8
                                style MessageProperties fill:#fff3e0
                            end

                            subgraph "実行時の読み込み順序"
                                Step1["1️⃣ サーバー起動時<br/>web.xml 読み込み"]
                                Step2["2️⃣ ActionServlet 初期化時<br/>struts-config.xml 読み込み"]
                                Step3["3️⃣ 必要に応じて<br/>validation.xml, properties 読み込み"]
                                
                                Step1 --> Step2
                                Step2 --> Step3
                            end
                    </div>

                    <div class="theory-box">
                        <h5>⚙️ 設定ファイルの設計思想</h5>
                        
                        <h6>なぜXMLベースの設定なのか？</h6>
                        <ol>
                            <li><strong>宣言的プログラミング</strong>
                                <ul>
                                    <li>「どのように」ではなく「何を」したいかを記述</li>
                                    <li>コンパイル不要で設定変更が可能</li>
                                    <li>ビジネスロジックと設定の分離</li>
                                </ul>
                            </li>
                            
                            <li><strong>外部化による柔軟性</strong>
                                <ul>
                                    <li>環境（開発・テスト・本番）ごとの設定変更が容易</li>
                                    <li>コードの再コンパイルなしに動作変更が可能</li>
                                    <li>設定の一元管理による保守性向上</li>
                                </ul>
                            </li>
                            
                            <li><strong>標準化とツール支援</strong>
                                <ul>
                                    <li>XMLスキーマによる設定の検証</li>
                                    <li>IDEでのXMLエディタ支援（補完、検証）</li>
                                    <li>設定ファイルの可読性とドキュメント化</li>
                                </ul>
                            </li>
                        </ol>
                        
                        <h6>設定ファイルの責任分担：</h6>
                        <ul>
                            <li><strong>web.xml</strong>：Webアプリケーション全体の基本設定</li>
                            <li><strong>struts-config.xml</strong>：Struts固有のMVCマッピング</li>
                            <li><strong>validation.xml</strong>：入力検証ルール</li>
                            <li><strong>*.properties</strong>：メッセージと国際化設定</li>
                        </ul>
                    </div>

                    <!-- 実習課題 -->
                    <div class="exercise-container">
                        <h5>実習 2-1: 開発環境の理解と計画</h5>
                        <p>この実習では、実際のインストール前に、開発環境の構成と各コンポーネントの関係を理解します。</p>
                        
                        <h6>課題：自分の開発環境を設計する</h6>
                        <p>以下の要件に基づいて、最適な開発環境を設計してください。</p>
                        
                        <h6>想定シナリオ</h6>
                        <ul>
                            <li>3人チームでのWebアプリケーション開発</li>
                            <li>予算制約がある（できるだけ無料ツールを使用）</li>
                            <li>既存のStruts 1.xアプリケーションの保守も含む</li>
                            <li>Windows環境での開発</li>
                        </ul>
                        
                        <h6>設計項目</h6>
                        <ol>
                            <li><strong>JDK選択とバージョン決定</strong>
                                <ul>
                                    <li>なぜそのバージョンを選択するのか理由を説明</li>
                                    <li>Struts 1.xとの互換性を考慮</li>
                                </ul>
                            </li>
                            
                            <li><strong>IDE選択</strong>
                                <ul>
                                    <li>Eclipse vs IntelliJ IDEA の判断基準</li>
                                    <li>チーム開発における統一の重要性</li>
                                </ul>
                            </li>
                            
                            <li><strong>ビルドツール選択</strong>
                                <ul>
                                    <li>Maven vs Ant の選択理由</li>
                                    <li>依存関係管理の方針</li>
                                </ul>
                            </li>
                            
                            <li><strong>アプリケーションサーバー設定</strong>
                                <ul>
                                    <li>Tomcatのバージョンと設定方針</li>
                                    <li>開発時とデプロイ時の環境差異への対策</li>
                                </ul>
                            </li>
                        </ol>
                        
                        <h6>期待される結果</h6>
                        <p>各コンポーネントの選択理由が明確で、チーム開発に適した一貫性のある環境設計ができること。次回の実際のセットアップ時に、スムーズに環境構築ができる準備が整うこと。</p>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 2-2: プロジェクト構造の設計</h5>
                        <p>Strutsアプリケーション「図書管理システム」のプロジェクト構造を設計してください。</p>
                        
                        <h6>機能要件</h6>
                        <ul>
                            <li>図書の登録・更新・削除・検索</li>
                            <li>利用者の登録・認証</li>
                            <li>貸出・返却管理</li>
                        </ul>
                        
                        <h6>設計項目</h6>
                        <ol>
                            <li><strong>パッケージ構造の設計</strong>
                                <ul>
                                    <li>機能別のパッケージ分割</li>
                                    <li>層別のクラス配置（Action, Form, Service, DAO）</li>
                                </ul>
                            </li>
                            
                            <li><strong>設定ファイルの役割分担</strong>
                                <ul>
                                    <li>各XML設定ファイルで管理する内容</li>
                                    <li>プロパティファイルの分割方針</li>
                                </ul>
                            </li>
                            
                            <li><strong>JSPページの配置方針</strong>
                                <ul>
                                    <li>機能別ディレクトリ構造</li>
                                    <li>共通部品の配置場所</li>
                                </ul>
                            </li>
                        </ol>
                        
                        <h6>期待される結果</h6>
                        <p>保守しやすく、拡張性のあるプロジェクト構造が設計できること。MVCの各層が適切に分離され、責任が明確になっていること。</p>
                    </div>

                    <!-- 理解度確認クイズ -->
                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li><strong>なぜWebアプリケーション開発にIDEが重要なのですか？従来のテキストエディタとの違いを3つ以上挙げて説明してください。</strong></li>
                            
                            <li><strong>ビルドツール（Maven/Ant）が解決する問題は何ですか？手動ビルドの課題と合わせて説明してください。</strong></li>
                            
                            <li><strong>WEB-INF ディレクトリの役割は何ですか？なぜこのディレクトリがセキュリティ上重要なのか説明してください。</strong></li>
                            
                            <li><strong>Struts 1.x で commons-beanutils.jar が必要な理由は何ですか？このライブラリがない場合、どのような問題が発生するか説明してください。</strong></li>
                            
                            <li><strong>XML設定ファイルベースのアプローチの利点と欠点をそれぞれ3つ挙げ、現代のアノテーションベース設定と比較してください。</strong></li>
                            
                            <li><strong>プロジェクト構造を設計する際、どのような原則に従うべきですか？「関心の分離」の観点から説明してください。</strong></li>
                        </ol>
                        
                        <div class="mt-3">
                            <h6>解答のヒント：</h6>
                            <ul>
                                <li>各質問は本章で説明した技術的背景に基づいて答えてください</li>
                                <li>「なぜそれが必要なのか」「どのような問題を解決するのか」を重視してください</li>
                                <li>具体例を交えることで理解が深まります</li>
                                <li>現代の開発環境との比較も考慮してください</li>
                            </ul>
                        </div>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="struts1-learning-material-1.html" class="btn btn-secondary">← 前の章：基本概念とMVCアーキテクチャ</a>
                        <a href="struts1-learning-material-3.html" class="btn btn-primary">次の章：ActionクラスとActionForm →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2025 F-Circle All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>