<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struts 1.xå­¦ç¿’æ•™æ ç¬¬9ç«  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã¨å®Ÿè·µçš„é–‹ç™º</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- ã‚«ã‚¹ã‚¿ãƒ CSS -->
    <style>
        /* ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .navbar {
            background-color: #f57c00;
        }

        /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        /* ã‚¿ã‚¤ãƒˆãƒ« */
        .chapter-title {
            color: #f57c00;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #f57c00;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ff9800;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒœãƒƒã‚¯ã‚¹ */
        .quiz-container {
            background-color: #fff3e0;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #f57c00;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        .info {
            background-color: #e3f2fd;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #2196f3;
        }

        /* ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆ */
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .nav-link.active {
            background-color: #f57c00 !important;
            color: white !important;
        }

        /* ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« */
        .btn-orange {
            background-color: #f57c00;
            border-color: #f57c00;
            color: white;
        }

        .btn-orange:hover {
            background-color: #e65100;
            border-color: #e65100;
            color: white;
        }

        /* DBé–¢é€£ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .db-card {
            border: 2px solid #4caf50;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .db-card .card-header {
            background-color: #e8f5e8;
            border-bottom: 1px solid #4caf50;
            font-weight: bold;
            color: #2e7d32;
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .fade-in {
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand text-white fw-bold" href="#main-content">ğŸ—„ï¸ Struts 1.x å­¦ç¿’æ•™æ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="../README.md">ğŸ“š Strutsã‚¬ã‚¤ãƒ‰</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="struts1-learning-material-8.html">â¬…ï¸ ç¬¬8ç« </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="struts1-learning-material-10.html">â¡ï¸ ç¬¬10ç« </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <div class="container-fluid">
        <div class="row">
            <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading px-3 mt-4 mb-1 text-muted">
                        <span>ç¬¬9ç« ã®å†…å®¹</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="#intro">ğŸ—„ï¸ ã¯ã˜ã‚ã«</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#database-basics">ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã®åŸºç¤</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#jdbc-connection">ğŸ”Œ JDBCæ¥ç¶šç®¡ç†</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#dao-pattern">ğŸ—ï¸ DAOãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#crud-operations">âœï¸ CRUDæ“ä½œã®å®Ÿè£…</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#transaction">âš¡ ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#practical-app">ğŸ’¼ å®Ÿè·µçš„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#exercise">ğŸ’» å®Ÿç¿’èª²é¡Œ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#quiz">ğŸ“ ç†è§£åº¦ç¢ºèª</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" id="main-content">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
                    <h1 class="chapter-title">ç¬¬9ç«  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã¨å®Ÿè·µçš„é–‹ç™º</h1>
                </div>

                <!-- å­¦ç¿’ç›®æ¨™ -->
                <div class="highlight">
                    <h3>ğŸ¯ ã“ã®ç« ã®å­¦ç¿’ç›®æ¨™</h3>
                    <ul>
                        <li>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã‘ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã®é‡è¦æ€§ã‚’ç†è§£ã™ã‚‹</li>
                        <li>JDBCã‚’ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã¨åŸºæœ¬æ“ä½œã‚’ç¿’å¾—ã™ã‚‹</li>
                        <li>DAOãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹åŠ¹æœçš„ãªãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ã®è¨­è¨ˆã‚’å­¦ã¶</li>
                        <li>CRUDæ“ä½œã®å®‰å…¨ã§åŠ¹ç‡çš„ãªå®Ÿè£…æ–¹æ³•ã‚’ç†è§£ã™ã‚‹</li>
                        <li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã¨ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ç¢ºä¿æ–¹æ³•ã‚’ç¿’å¾—ã™ã‚‹</li>
                        <li>å®Ÿç”¨çš„ãªæ¥­å‹™ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™ºæ‰‹æ³•ã‚’å­¦ç¿’ã™ã‚‹</li>
                    </ul>
                </div>

                <!-- ã¯ã˜ã‚ã« -->
                <section id="intro">
                    <h2 class="section-title">ğŸ—„ï¸ ã¯ã˜ã‚ã«</h2>
                    
                    <p>å®Ÿç”¨çš„ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€<strong>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº</strong>ãŒä¸å¯æ¬ ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±ã€æ¥­å‹™ãƒ‡ãƒ¼ã‚¿ã€è¨­å®šæƒ…å ±ãªã©ã€æ§˜ã€…ãªãƒ‡ãƒ¼ã‚¿ã‚’æ°¸ç¶šåŒ–ã—ã€åŠ¹ç‡çš„ã«ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Struts 1.xã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã‘ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã®å®Ÿè£…æ–¹æ³•ã‚’å­¦ç¿’ã—ã¾ã™ã€‚</p>

                    <div class="highlight">
                        <h4>ğŸ’¡ ãªãœãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºãŒé‡è¦ãªã®ã‹ï¼Ÿ</h4>
                        <p>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨é€£æºã™ã‚‹ç†ç”±ï¼š</p>
                        
                        <ul>
                            <li><strong>ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–</strong>ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†èµ·å‹•å¾Œã‚‚ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒ</li>
                            <li><strong>ãƒ‡ãƒ¼ã‚¿å…±æœ‰</strong>ï¼šè¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã§ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰</li>
                            <li><strong>ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§</strong>ï¼šACIDç‰¹æ€§ã«ã‚ˆã‚‹ä¿¡é ¼æ€§ã®é«˜ã„ãƒ‡ãƒ¼ã‚¿ç®¡ç†</li>
                            <li><strong>é«˜æ€§èƒ½</strong>ï¼šã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚„ã‚¯ã‚¨ãƒªæœ€é©åŒ–ã«ã‚ˆã‚‹é«˜é€Ÿãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹</li>
                            <li><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</strong>ï¼šã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã¨ç›£æŸ»æ©Ÿèƒ½</li>
                        </ul>
                        
                        <p><strong>ä¾‹ãˆï¼š</strong> ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ã€Œä¼æ¥­ã®æ›¸åº«ã‚·ã‚¹ãƒ†ãƒ ã€ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚é‡è¦ãªæ›¸é¡ï¼ˆãƒ‡ãƒ¼ã‚¿ï¼‰ã‚’æ•´ç†æ•´é “ã—ã¦ä¿ç®¡ã—ã€å¿…è¦ãªæ™‚ã«ç´ æ—©ãæ¤œç´¢ãƒ»å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã—ã€è¤‡æ•°ã®éƒ¨ç½²ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰ãŒå®‰å…¨ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ç®¡ç†ã—ã¾ã™ã€‚</p>
                    </div>

                    <div class="mermaid">
                        graph LR
                            A[Webãƒ–ãƒ©ã‚¦ã‚¶] --> B[Strutsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³]
                            B --> C[Actionå±¤]
                            C --> D[Serviceå±¤]
                            D --> E[DAOå±¤]
                            E --> F[ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹]
                            
                            F --> G[(ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«)]
                            F --> H[(å•†å“ãƒ†ãƒ¼ãƒ–ãƒ«)]
                            F --> I[(æ³¨æ–‡ãƒ†ãƒ¼ãƒ–ãƒ«)]
                            
                            style A fill:#e3f2fd
                            style B fill:#fff3e0
                            style C fill:#fff3e0
                            style D fill:#e8f5e8
                            style E fill:#e8f5e8
                            style F fill:#ffecb3
                    </div>
                </section>

                <!-- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã®åŸºç¤ -->
                <section id="database-basics">
                    <h2 class="section-title">ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã®åŸºç¤æ¦‚å¿µ</h2>
                    
                    <p>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã§ã¯ã€é©åˆ‡ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p>

                    <h3>ğŸ—ï¸ å¤šå±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¡ç”¨</h3>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="card db-card h-100">
                                <div class="card-header">
                                    ğŸ–¥ï¸ ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>JSPã€Strutsã‚¿ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</li>
                                        <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</li>
                                        <li>å…¥åŠ›æ¤œè¨¼ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰</li>
                                        <li>ç”»é¢é·ç§»åˆ¶å¾¡</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <div class="card db-card h-100">
                                <div class="card-header">
                                    âš™ï¸ ãƒ“ã‚¸ãƒã‚¹å±¤ï¼ˆServiceå±¤ï¼‰
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>æ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…</li>
                                        <li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†</li>
                                        <li>å…¥åŠ›æ¤œè¨¼ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰</li>
                                        <li>è¤‡æ•°DAOã®å”èª¿åˆ¶å¾¡</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="card db-card h-100">
                                <div class="card-header">
                                    ğŸ”„ Actionå±¤ï¼ˆControllerå±¤ï¼‰
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†</li>
                                        <li>ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›</li>
                                        <li>Serviceå±¤ã¸ã®å§”è­²</li>
                                        <li>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <div class="card db-card h-100">
                                <div class="card-header">
                                    ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ï¼ˆDAOå±¤ï¼‰
                                </div>
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹</li>
                                        <li>SQLå®Ÿè¡Œã¨ãƒãƒƒãƒ”ãƒ³ã‚°</li>
                                        <li>ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†</li>
                                        <li>ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h3>ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã®è€ƒæ…®äº‹é …</h3>
                    
                    <div class="info">
                        <h4>ğŸ¯ åŠ¹æœçš„ãªãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ</h4>
                        <ul>
                            <li><strong>æ­£è¦åŒ–</strong>ï¼šãƒ‡ãƒ¼ã‚¿ã®é‡è¤‡ã‚’é¿ã‘ã€æ•´åˆæ€§ã‚’ä¿ã¤</li>
                            <li><strong>ä¸»ã‚­ãƒ¼è¨­è¨ˆ</strong>ï¼šä¸€æ„æ€§ã¨åŠ¹ç‡æ€§ã‚’è€ƒæ…®ã—ãŸä¸»ã‚­ãƒ¼é¸æŠ</li>
                            <li><strong>å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„</strong>ï¼šå‚ç…§æ•´åˆæ€§ã®ç¢ºä¿</li>
                            <li><strong>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹</strong>ï¼šã‚¯ã‚¨ãƒªæ€§èƒ½ã‚’å‘ä¸Šã•ã›ã‚‹é©åˆ‡ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ</li>
                            <li><strong>ãƒ‡ãƒ¼ã‚¿å‹é¸æŠ</strong>ï¼šé©åˆ‡ãªãƒ‡ãƒ¼ã‚¿å‹ã«ã‚ˆã‚‹æ€§èƒ½ã¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®æœ€é©åŒ–</li>
                        </ul>
                    </div>

                    <h4>ğŸ“‹ ã‚µãƒ³ãƒ—ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆä¾‹</h4>
                    
                    <pre class="code-block"><code class="language-sql">-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚¹ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE users (
    user_id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    salt VARCHAR(32) NOT NULL,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    birth_date DATE,
    gender CHAR(1),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_active BOOLEAN DEFAULT TRUE
);

-- å•†å“ãƒã‚¹ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE products (
    product_id INT PRIMARY KEY AUTO_INCREMENT,
    product_name VARCHAR(100) NOT NULL,
    description TEXT,
    price DECIMAL(10,2) NOT NULL,
    category_id INT,
    stock_quantity INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_active BOOLEAN DEFAULT TRUE,
    INDEX idx_category (category_id),
    INDEX idx_price (price)
);

-- æ³¨æ–‡ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE orders (
    order_id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    total_amount DECIMAL(10,2) NOT NULL,
    status VARCHAR(20) DEFAULT 'PENDING',
    shipping_address TEXT,
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);</code></pre>
                </section>

                <!-- JDBCæ¥ç¶šç®¡ç† -->
                <section id="jdbc-connection">
                    <h2 class="section-title">ğŸ”Œ JDBCæ¥ç¶šç®¡ç†ã¨ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«</h2>
                    
                    <p>åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã«ã¯ã€é©åˆ‡ãªJDBCæ¥ç¶šç®¡ç†ãŒä¸å¯æ¬ ã§ã™ã€‚ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã‚’æœ€é©åŒ–ã§ãã¾ã™ã€‚</p>

                    <h3>ğŸ”§ åŸºæœ¬çš„ãªJDBCæ¥ç¶š</h3>
                    
                    <pre class="code-block"><code class="language-java">// åŸºæœ¬çš„ãªJDBCæ¥ç¶šã‚¯ãƒ©ã‚¹
public class DatabaseUtil {
    
    private static final String JDBC_URL = "jdbc:mysql://localhost:3306/myapp";
    private static final String USERNAME = "appuser";
    private static final String PASSWORD = "password";
    
    static {
        try {
            // JDBCãƒ‰ãƒ©ã‚¤ãƒã®ç™»éŒ²
            Class.forName("com.mysql.cj.jdbc.Driver");
        } catch (ClassNotFoundException e) {
            throw new RuntimeException("Failed to load JDBC driver", e);
        }
    }
    
    /**
     * ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚’å–å¾—
     */
    public static Connection getConnection() throws SQLException {
        return DriverManager.getConnection(JDBC_URL, USERNAME, PASSWORD);
    }
    
    /**
     * ãƒªã‚½ãƒ¼ã‚¹ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
     */
    public static void closeResources(Connection conn, PreparedStatement stmt, ResultSet rs) {
        if (rs != null) {
            try { rs.close(); } catch (SQLException e) { /* ãƒ­ã‚°å‡ºåŠ› */ }
        }
        if (stmt != null) {
            try { stmt.close(); } catch (SQLException e) { /* ãƒ­ã‚°å‡ºåŠ› */ }
        }
        if (conn != null) {
            try { conn.close(); } catch (SQLException e) { /* ãƒ­ã‚°å‡ºåŠ› */ }
        }
    }
}</code></pre>

                    <h3>ğŸŠ ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«ã®å®Ÿè£…</h3>
                    
                    <pre class="code-block"><code class="language-java">import javax.sql.DataSource;
import org.apache.commons.dbcp2.BasicDataSource;

// ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«ç®¡ç†ã‚¯ãƒ©ã‚¹
public class ConnectionPoolManager {
    
    private static BasicDataSource dataSource;
    
    static {
        dataSource = new BasicDataSource();
        
        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šè¨­å®š
        dataSource.setDriverClassName("com.mysql.cj.jdbc.Driver");
        dataSource.setUrl("jdbc:mysql://localhost:3306/myapp?useSSL=false&serverTimezone=UTC");
        dataSource.setUsername("appuser");
        dataSource.setPassword("password");
        
        // ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«è¨­å®š
        dataSource.setInitialSize(5);          // åˆæœŸã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³æ•°
        dataSource.setMaxTotal(20);            // æœ€å¤§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³æ•°
        dataSource.setMaxIdle(10);             // ã‚¢ã‚¤ãƒ‰ãƒ«çŠ¶æ…‹ã®æœ€å¤§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³æ•°
        dataSource.setMinIdle(5);              // ã‚¢ã‚¤ãƒ‰ãƒ«çŠ¶æ…‹ã®æœ€å°ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³æ•°
        dataSource.setMaxWaitMillis(10000);    // ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³å–å¾—ã®æœ€å¤§å¾…æ©Ÿæ™‚é–“
        
        // æ¤œè¨¼ã‚¯ã‚¨ãƒªã®è¨­å®š
        dataSource.setValidationQuery("SELECT 1");
        dataSource.setTestOnBorrow(true);
        dataSource.setTestWhileIdle(true);
        dataSource.setTimeBetweenEvictionRunsMillis(30000);
    }
    
    public static DataSource getDataSource() {
        return dataSource;
    }
    
    public static Connection getConnection() throws SQLException {
        return dataSource.getConnection();
    }
    
    public static void shutdown() {
        try {
            if (dataSource != null) {
                dataSource.close();
            }
        } catch (SQLException e) {
            System.err.println("Error closing data source: " + e.getMessage());
        }
    }
}</code></pre>

                    <div class="warning">
                        <h4>âš ï¸ JDBCä½¿ç”¨æ™‚ã®æ³¨æ„ç‚¹</h4>
                        <ul>
                            <li><strong>ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†</strong>ï¼šConnectionã€Statementã€ResultSetã¯å¿…ãšã‚¯ãƒ­ãƒ¼ã‚ºã™ã‚‹</li>
                            <li><strong>SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–</strong>ï¼šPreparedStatementã‚’ä½¿ç”¨ã—ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’é©åˆ‡ã«è¨­å®š</li>
                            <li><strong>ä¾‹å¤–å‡¦ç†</strong>ï¼šSQLExceptionã‚’é©åˆ‡ã«ã‚­ãƒ£ãƒƒãƒã—ã€ãƒ­ã‚°ã«è¨˜éŒ²</li>
                            <li><strong>ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«</strong>ï¼šæ€§èƒ½å‘ä¸Šã®ãŸã‚ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«ã‚’æ´»ç”¨</li>
                        </ul>
                    </div>
                </section>

                <!-- DAOãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£… -->
                <section id="dao-pattern">
                    <h2 class="section-title">ğŸ—ï¸ DAOãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…</h2>
                    
                    <p><strong>DAOï¼ˆData Access Objectï¼‰ãƒ‘ã‚¿ãƒ¼ãƒ³</strong>ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‹ã‚‰åˆ†é›¢ã—ã€ä¿å®ˆæ€§ã¨å†åˆ©ç”¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚</p>

                    <h3>ğŸ“‹ DAOã®åŸºæœ¬æ§‹é€ </h3>
                    
                    <pre class="code-block"><code class="language-java">// Userã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹
public class User {
    private int userId;
    private String username;
    private String email;
    private String passwordHash;
    private String salt;
    private String firstName;
    private String lastName;
    private Date birthDate;
    private char gender;
    private Date createdAt;
    private Date updatedAt;
    private boolean active;
    
    // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
    public User() {}
    
    public User(String username, String email, String passwordHash) {
        this.username = username;
        this.email = email;
        this.passwordHash = passwordHash;
        this.active = true;
        this.createdAt = new Date();
        this.updatedAt = new Date();
    }
    
    // getter/setterãƒ¡ã‚½ãƒƒãƒ‰...
}

// UserDAO ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
public interface UserDAO {
    
    // CRUDåŸºæœ¬æ“ä½œ
    void create(User user) throws DAOException;
    User findById(int userId) throws DAOException;
    User findByUsername(String username) throws DAOException;
    User findByEmail(String email) throws DAOException;
    List&lt;User&gt; findAll() throws DAOException;
    void update(User user) throws DAOException;
    void delete(int userId) throws DAOException;
    
    // æ¥­å‹™å›ºæœ‰ã®ã‚¯ã‚¨ãƒª
    List&lt;User&gt; findActiveUsers() throws DAOException;
    List&lt;User&gt; searchUsers(String keyword, int limit) throws DAOException;
    boolean existsByUsername(String username) throws DAOException;
    boolean existsByEmail(String email) throws DAOException;
    int countUsers() throws DAOException;
}</code></pre>

                    <h3>ğŸ”¨ DAOå®Ÿè£…ã‚¯ãƒ©ã‚¹</h3>
                    
                    <pre class="code-block"><code class="language-java">public class UserDAOImpl implements UserDAO {
    
    @Override
    public void create(User user) throws DAOException {
        String sql = "INSERT INTO users (username, email, password_hash, salt, first_name, last_name, birth_date, gender) "
                   + "VALUES (?, ?, ?, ?, ?, ?, ?, ?)";
        
        Connection conn = null;
        PreparedStatement stmt = null;
        
        try {
            conn = ConnectionPoolManager.getConnection();
            stmt = conn.prepareStatement(sql, PreparedStatement.RETURN_GENERATED_KEYS);
            
            stmt.setString(1, user.getUsername());
            stmt.setString(2, user.getEmail());
            stmt.setString(3, user.getPasswordHash());
            stmt.setString(4, user.getSalt());
            stmt.setString(5, user.getFirstName());
            stmt.setString(6, user.getLastName());
            stmt.setDate(7, user.getBirthDate() != null ? new java.sql.Date(user.getBirthDate().getTime()) : null);
            stmt.setString(8, String.valueOf(user.getGender()));
            
            int rowsAffected = stmt.executeUpdate();
            if (rowsAffected == 0) {
                throw new DAOException("Creating user failed, no rows affected.");
            }
            
            // ç”Ÿæˆã•ã‚ŒãŸIDã‚’å–å¾—
            ResultSet generatedKeys = stmt.getGeneratedKeys();
            if (generatedKeys.next()) {
                user.setUserId(generatedKeys.getInt(1));
            }
            
        } catch (SQLException e) {
            throw new DAOException("Error creating user: " + e.getMessage(), e);
        } finally {
            DatabaseUtil.closeResources(conn, stmt, null);
        }
    }
    
    @Override
    public User findById(int userId) throws DAOException {
        String sql = "SELECT * FROM users WHERE user_id = ?";
        
        Connection conn = null;
        PreparedStatement stmt = null;
        ResultSet rs = null;
        
        try {
            conn = ConnectionPoolManager.getConnection();
            stmt = conn.prepareStatement(sql);
            stmt.setInt(1, userId);
            
            rs = stmt.executeQuery();
            
            if (rs.next()) {
                return mapResultSetToUser(rs);
            }
            return null;
            
        } catch (SQLException e) {
            throw new DAOException("Error finding user by ID: " + e.getMessage(), e);
        } finally {
            DatabaseUtil.closeResources(conn, stmt, rs);
        }
    }
    
    @Override
    public List&lt;User&gt; findAll() throws DAOException {
        String sql = "SELECT * FROM users ORDER BY created_at DESC";
        List&lt;User&gt; users = new ArrayList&lt;&gt;();
        
        Connection conn = null;
        PreparedStatement stmt = null;
        ResultSet rs = null;
        
        try {
            conn = ConnectionPoolManager.getConnection();
            stmt = conn.prepareStatement(sql);
            rs = stmt.executeQuery();
            
            while (rs.next()) {
                users.add(mapResultSetToUser(rs));
            }
            
            return users;
            
        } catch (SQLException e) {
            throw new DAOException("Error finding all users: " + e.getMessage(), e);
        } finally {
            DatabaseUtil.closeResources(conn, stmt, rs);
        }
    }
    
    @Override
    public void update(User user) throws DAOException {
        String sql = "UPDATE users SET username=?, email=?, first_name=?, last_name=?, "
                   + "birth_date=?, gender=?, updated_at=CURRENT_TIMESTAMP WHERE user_id=?";
        
        Connection conn = null;
        PreparedStatement stmt = null;
        
        try {
            conn = ConnectionPoolManager.getConnection();
            stmt = conn.prepareStatement(sql);
            
            stmt.setString(1, user.getUsername());
            stmt.setString(2, user.getEmail());
            stmt.setString(3, user.getFirstName());
            stmt.setString(4, user.getLastName());
            stmt.setDate(5, user.getBirthDate() != null ? new java.sql.Date(user.getBirthDate().getTime()) : null);
            stmt.setString(6, String.valueOf(user.getGender()));
            stmt.setInt(7, user.getUserId());
            
            int rowsAffected = stmt.executeUpdate();
            if (rowsAffected == 0) {
                throw new DAOException("Updating user failed, no rows affected.");
            }
            
        } catch (SQLException e) {
            throw new DAOException("Error updating user: " + e.getMessage(), e);
        } finally {
            DatabaseUtil.closeResources(conn, stmt, null);
        }
    }
    
    // ResultSetã‹ã‚‰Userã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãƒãƒƒãƒ”ãƒ³ã‚°
    private User mapResultSetToUser(ResultSet rs) throws SQLException {
        User user = new User();
        user.setUserId(rs.getInt("user_id"));
        user.setUsername(rs.getString("username"));
        user.setEmail(rs.getString("email"));
        user.setPasswordHash(rs.getString("password_hash"));
        user.setSalt(rs.getString("salt"));
        user.setFirstName(rs.getString("first_name"));
        user.setLastName(rs.getString("last_name"));
        user.setBirthDate(rs.getDate("birth_date"));
        
        String genderStr = rs.getString("gender");
        user.setGender(genderStr != null && !genderStr.isEmpty() ? genderStr.charAt(0) : ' ');
        
        user.setCreatedAt(rs.getTimestamp("created_at"));
        user.setUpdatedAt(rs.getTimestamp("updated_at"));
        user.setActive(rs.getBoolean("is_active"));
        
        return user;
    }
}</code></pre>

                    <div class="highlight">
                        <h4>ğŸ’¡ DAOãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹</h4>
                        <ul>
                            <li><strong>é–¢å¿ƒã®åˆ†é›¢</strong>ï¼šãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢</li>
                            <li><strong>ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§</strong>ï¼šãƒ¢ãƒƒã‚¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã‚‹å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“</li>
                            <li><strong>ä¿å®ˆæ€§</strong>ï¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚ã®å½±éŸ¿ã‚’å±€æ‰€åŒ–</li>
                            <li><strong>å†åˆ©ç”¨æ€§</strong>ï¼šè¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã‹ã‚‰åŒã˜DAOã‚’åˆ©ç”¨å¯èƒ½</li>
                        </ul>
                    </div>
                </section>

                <!-- CRUDæ“ä½œã®å®Ÿè£… -->
                <section id="crud-operations">
                    <h2 class="section-title">âœï¸ å®Ÿè·µçš„ãªCRUDæ“ä½œã®å®Ÿè£…</h2>
                    
                    <p>å®Ÿç”¨çš„ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€åŸºæœ¬çš„ãªCRUDæ“ä½œã«åŠ ãˆã¦ã€æ¤œç´¢ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã€ã‚½ãƒ¼ãƒˆãªã©ã®é«˜åº¦ãªæ©Ÿèƒ½ãŒå¿…è¦ã§ã™ã€‚</p>

                    <h3>ğŸ” é«˜åº¦ãªæ¤œç´¢æ©Ÿèƒ½ã®å®Ÿè£…</h3>
                    
                    <pre class="code-block"><code class="language-java">// æ¤œç´¢æ¡ä»¶ã‚¯ãƒ©ã‚¹
public class UserSearchCriteria {
    private String usernamePattern;
    private String emailPattern;
    private String namePattern;
    private Character gender;
    private Date birthDateFrom;
    private Date birthDateTo;
    private Boolean active;
    private String sortBy = "created_at";
    private String sortOrder = "DESC";
    private int offset = 0;
    private int limit = 20;
    
    // getter/setterãƒ¡ã‚½ãƒƒãƒ‰...
}

// UserDAOã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«è¿½åŠ 
public interface UserDAO {
    // ... æ—¢å­˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ ...
    
    List&lt;User&gt; searchUsers(UserSearchCriteria criteria) throws DAOException;
    int countSearchUsers(UserSearchCriteria criteria) throws DAOException;
}

// æ¤œç´¢æ©Ÿèƒ½ã®å®Ÿè£…
public class UserDAOImpl implements UserDAO {
    
    @Override
    public List&lt;User&gt; searchUsers(UserSearchCriteria criteria) throws DAOException {
        StringBuilder sql = new StringBuilder("SELECT * FROM users WHERE 1=1");
        List&lt;Object&gt; parameters = new ArrayList&lt;&gt;();
        
        // å‹•çš„WHEREå¥ã®æ§‹ç¯‰
        appendSearchConditions(sql, parameters, criteria);
        
        // ã‚½ãƒ¼ãƒˆå¥ã®è¿½åŠ 
        sql.append(" ORDER BY ").append(criteria.getSortBy())
           .append(" ").append(criteria.getSortOrder());
        
        // ãƒšãƒ¼ã‚¸ãƒ³ã‚°å¥ã®è¿½åŠ 
        sql.append(" LIMIT ? OFFSET ?");
        parameters.add(criteria.getLimit());
        parameters.add(criteria.getOffset());
        
        Connection conn = null;
        PreparedStatement stmt = null;
        ResultSet rs = null;
        List&lt;User&gt; users = new ArrayList&lt;&gt;();
        
        try {
            conn = ConnectionPoolManager.getConnection();
            stmt = conn.prepareStatement(sql.toString());
            
            // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¨­å®š
            for (int i = 0; i < parameters.size(); i++) {
                stmt.setObject(i + 1, parameters.get(i));
            }
            
            rs = stmt.executeQuery();
            
            while (rs.next()) {
                users.add(mapResultSetToUser(rs));
            }
            
            return users;
            
        } catch (SQLException e) {
            throw new DAOException("Error searching users: " + e.getMessage(), e);
        } finally {
            DatabaseUtil.closeResources(conn, stmt, rs);
        }
    }
    
    private void appendSearchConditions(StringBuilder sql, List&lt;Object&gt; parameters, 
                                      UserSearchCriteria criteria) {
        
        if (criteria.getUsernamePattern() != null && !criteria.getUsernamePattern().trim().isEmpty()) {
            sql.append(" AND username LIKE ?");
            parameters.add("%" + criteria.getUsernamePattern() + "%");
        }
        
        if (criteria.getEmailPattern() != null && !criteria.getEmailPattern().trim().isEmpty()) {
            sql.append(" AND email LIKE ?");
            parameters.add("%" + criteria.getEmailPattern() + "%");
        }
        
        if (criteria.getNamePattern() != null && !criteria.getNamePattern().trim().isEmpty()) {
            sql.append(" AND (first_name LIKE ? OR last_name LIKE ?)");
            String namePattern = "%" + criteria.getNamePattern() + "%";
            parameters.add(namePattern);
            parameters.add(namePattern);
        }
        
        if (criteria.getGender() != null) {
            sql.append(" AND gender = ?");
            parameters.add(String.valueOf(criteria.getGender()));
        }
        
        if (criteria.getBirthDateFrom() != null) {
            sql.append(" AND birth_date >= ?");
            parameters.add(new java.sql.Date(criteria.getBirthDateFrom().getTime()));
        }
        
        if (criteria.getBirthDateTo() != null) {
            sql.append(" AND birth_date <= ?");
            parameters.add(new java.sql.Date(criteria.getBirthDateTo().getTime()));
        }
        
        if (criteria.getActive() != null) {
            sql.append(" AND is_active = ?");
            parameters.add(criteria.getActive());
        }
    }
}</code></pre>

                    <h3>ğŸ“Š Serviceã‚¯ãƒ©ã‚¹ã§ã®æ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…</h3>
                    
                    <pre class="code-block"><code class="language-java">public class UserService {
    
    private UserDAO userDAO = new UserDAOImpl();
    
    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²å‡¦ç†
     */
    public User registerUser(String username, String email, String password, 
                           String firstName, String lastName) throws ServiceException {
        
        try {
            // é‡è¤‡ãƒã‚§ãƒƒã‚¯
            if (userDAO.existsByUsername(username)) {
                throw new ServiceException("Username already exists: " + username);
            }
            
            if (userDAO.existsByEmail(email)) {
                throw new ServiceException("Email already exists: " + email);
            }
            
            // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
            String salt = PasswordUtil.generateSalt();
            String hashedPassword = PasswordUtil.hashPassword(password, salt);
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
            User user = new User(username, email, hashedPassword);
            user.setSalt(salt);
            user.setFirstName(firstName);
            user.setLastName(lastName);
            
            // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜
            userDAO.create(user);
            
            return user;
            
        } catch (DAOException e) {
            throw new ServiceException("Failed to register user", e);
        }
    }
    
    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼å‡¦ç†
     */
    public User authenticateUser(String username, String password) throws ServiceException {
        try {
            User user = userDAO.findByUsername(username);
            
            if (user == null || !user.isActive()) {
                return null; // èªè¨¼å¤±æ•—
            }
            
            // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼
            if (PasswordUtil.verifyPassword(password, user.getPasswordHash(), user.getSalt())) {
                return user; // èªè¨¼æˆåŠŸ
            }
            
            return null; // èªè¨¼å¤±æ•—
            
        } catch (DAOException e) {
            throw new ServiceException("Authentication failed", e);
        }
    }
    
    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢å‡¦ç†
     */
    public SearchResult&lt;User&gt; searchUsers(UserSearchCriteria criteria) throws ServiceException {
        try {
            List&lt;User&gt; users = userDAO.searchUsers(criteria);
            int totalCount = userDAO.countSearchUsers(criteria);
            
            return new SearchResult&lt;&gt;(users, totalCount, criteria.getOffset(), criteria.getLimit());
            
        } catch (DAOException e) {
            throw new ServiceException("Failed to search users", e);
        }
    }
}</code></pre>
                </section>

                <!-- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç† -->
                <section id="transaction">
                    <h2 class="section-title">âš¡ ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã¨ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§</h2>
                    
                    <p>è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¾ãŸãŒã‚‹æ“ä½œã‚„ã€ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãŒé‡è¦ãªå‡¦ç†ã§ã¯ã€é©åˆ‡ãª<strong>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†</strong>ãŒå¿…è¦ã§ã™ã€‚</p>

                    <h3>ğŸ”’ åŸºæœ¬çš„ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³åˆ¶å¾¡</h3>
                    
                    <pre class="code-block"><code class="language-java">// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
public class TransactionManager {
    
    public static &lt;T&gt; T executeInTransaction(TransactionCallback&lt;T&gt; callback) throws ServiceException {
        Connection conn = null;
        try {
            conn = ConnectionPoolManager.getConnection();
            conn.setAutoCommit(false);
            
            T result = callback.execute(conn);
            
            conn.commit();
            return result;
            
        } catch (Exception e) {
            if (conn != null) {
                try {
                    conn.rollback();
                } catch (SQLException rollbackEx) {
                    // ãƒ­ã‚°ã«è¨˜éŒ²
                    System.err.println("Rollback failed: " + rollbackEx.getMessage());
                }
            }
            throw new ServiceException("Transaction failed", e);
            
        } finally {
            if (conn != null) {
                try {
                    conn.setAutoCommit(true);
                    conn.close();
                } catch (SQLException e) {
                    // ãƒ­ã‚°ã«è¨˜éŒ²
                    System.err.println("Failed to close connection: " + e.getMessage());
                }
            }
        }
    }
    
    // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
    public interface TransactionCallback&lt;T&gt; {
        T execute(Connection conn) throws Exception;
    }
}

// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸè¤‡åˆæ“ä½œ
public class OrderService {
    
    private UserDAO userDAO = new UserDAOImpl();
    private ProductDAO productDAO = new ProductDAOImpl();
    private OrderDAO orderDAO = new OrderDAOImpl();
    
    /**
     * æ³¨æ–‡å‡¦ç†ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä½¿ç”¨ï¼‰
     */
    public Order createOrder(int userId, List&lt;OrderItem&gt; items) throws ServiceException {
        
        return TransactionManager.executeInTransaction(conn -&gt; {
            
            // 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼å­˜åœ¨ç¢ºèª
            User user = userDAO.findById(userId, conn);
            if (user == null || !user.isActive()) {
                throw new ServiceException("Invalid user: " + userId);
            }
            
            // 2. å•†å“åœ¨åº«ç¢ºèªãƒ»å¼•å½“
            BigDecimal totalAmount = BigDecimal.ZERO;
            for (OrderItem item : items) {
                Product product = productDAO.findById(item.getProductId(), conn);
                if (product == null || !product.isActive()) {
                    throw new ServiceException("Invalid product: " + item.getProductId());
                }
                
                if (product.getStockQuantity() < item.getQuantity()) {
                    throw new ServiceException("Insufficient stock for product: " + product.getProductName());
                }
                
                // åœ¨åº«æ¸›ç®—
                product.setStockQuantity(product.getStockQuantity() - item.getQuantity());
                productDAO.updateStock(product, conn);
                
                // åˆè¨ˆé‡‘é¡è¨ˆç®—
                totalAmount = totalAmount.add(product.getPrice().multiply(new BigDecimal(item.getQuantity())));
            }
            
            // 3. æ³¨æ–‡ä½œæˆ
            Order order = new Order();
            order.setUserId(userId);
            order.setTotalAmount(totalAmount);
            order.setStatus("CONFIRMED");
            order.setOrderDate(new Date());
            
            orderDAO.create(order, conn);
            
            // 4. æ³¨æ–‡æ˜ç´°ä½œæˆ
            for (OrderItem item : items) {
                item.setOrderId(order.getOrderId());
                orderDAO.createOrderItem(item, conn);
            }
            
            return order;
        });
    }
}</code></pre>

                    <div class="info">
                        <h4>ğŸ¯ ACIDç‰¹æ€§ã®ä¿è¨¼</h4>
                        <ul>
                            <li><strong>Atomicityï¼ˆåŸå­æ€§ï¼‰</strong>ï¼šã™ã¹ã¦æˆåŠŸã™ã‚‹ã‹ã™ã¹ã¦å¤±æ•—ã™ã‚‹ã‹</li>
                            <li><strong>Consistencyï¼ˆä¸€è²«æ€§ï¼‰</strong>ï¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ•´åˆæ€§åˆ¶ç´„ã‚’ç¶­æŒ</li>
                            <li><strong>Isolationï¼ˆç‹¬ç«‹æ€§ï¼‰</strong>ï¼šåŒæ™‚å®Ÿè¡Œãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é–“ã®åˆ†é›¢</li>
                            <li><strong>Durabilityï¼ˆæ°¸ç¶šæ€§ï¼‰</strong>ï¼šã‚³ãƒŸãƒƒãƒˆå¾Œã®ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šä¿å­˜</li>
                        </ul>
                    </div>
                </section>

                <!-- å®Ÿè·µçš„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º -->
                <section id="practical-app">
                    <h2 class="section-title">ğŸ’¼ å®Ÿè·µçš„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º</h2>
                    
                    <p>å­¦ç¿’ã—ãŸæŠ€è¡“ã‚’çµ±åˆã—ã¦ã€å®Ÿç”¨çš„ãªæ¥­å‹™ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™ºæ‰‹æ³•ã‚’å­¦ç¿’ã—ã¾ã™ã€‚</p>

                    <h3>ğŸ—ï¸ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h3>
                    
                    <div class="mermaid">
                        graph TB
                            A[JSPãƒšãƒ¼ã‚¸] --> B[Actionã‚¯ãƒ©ã‚¹]
                            B --> C[Serviceã‚¯ãƒ©ã‚¹]
                            C --> D[DAOã‚¯ãƒ©ã‚¹]
                            D --> E[ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹]
                            
                            F[ActionForm] --> B
                            B --> G[æ¥­å‹™ä¾‹å¤–å‡¦ç†]
                            C --> H[ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†]
                            
                            I[è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«] --> J[struts-config.xml]
                            I --> K[validation.xml]
                            I --> L[MessageResources.properties]
                            
                            style A fill:#e3f2fd
                            style B fill:#fff3e0
                            style C fill:#e8f5e8
                            style D fill:#e8f5e8
                            style E fill:#ffecb3
                    </div>

                    <h3>ğŸ“‹ å®Ÿç”¨çš„ãªæ©Ÿèƒ½å®Ÿè£…ä¾‹</h3>
                    
                    <pre class="code-block"><code class="language-java">// ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§è¡¨ç¤ºAction
public class UserListAction extends Action {
    
    private UserService userService = new UserService();
    
    public ActionForward execute(ActionMapping mapping, ActionForm form,
                                HttpServletRequest request, 
                                HttpServletResponse response) throws Exception {
        
        try {
            // æ¤œç´¢æ¡ä»¶ã®å–å¾—
            UserSearchForm searchForm = (UserSearchForm) form;
            UserSearchCriteria criteria = createSearchCriteria(searchForm);
            
            // æ¤œç´¢å®Ÿè¡Œ
            SearchResult&lt;User&gt; result = userService.searchUsers(criteria);
            
            // çµæœã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«è¨­å®š
            request.setAttribute("userList", result.getItems());
            request.setAttribute("totalCount", result.getTotalCount());
            request.setAttribute("currentPage", criteria.getOffset() / criteria.getLimit() + 1);
            request.setAttribute("totalPages", 
                (result.getTotalCount() + criteria.getLimit() - 1) / criteria.getLimit());
            
            return mapping.findForward("success");
            
        } catch (ServiceException e) {
            ActionMessages errors = new ActionMessages();
            errors.add(ActionMessages.GLOBAL_MESSAGE, 
                      new ActionMessage("error.user.search.failed"));
            saveErrors(request, errors);
            return mapping.findForward("error");
        }
    }
    
    private UserSearchCriteria createSearchCriteria(UserSearchForm form) {
        UserSearchCriteria criteria = new UserSearchCriteria();
        
        if (form.getUsername() != null && !form.getUsername().trim().isEmpty()) {
            criteria.setUsernamePattern(form.getUsername().trim());
        }
        
        if (form.getEmail() != null && !form.getEmail().trim().isEmpty()) {
            criteria.setEmailPattern(form.getEmail().trim());
        }
        
        // ãƒšãƒ¼ã‚¸ãƒ³ã‚°è¨­å®š
        int page = form.getPage() > 0 ? form.getPage() : 1;
        int limit = 20; // 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°
        criteria.setOffset((page - 1) * limit);
        criteria.setLimit(limit);
        
        return criteria;
    }
}</code></pre>

                    <div class="highlight">
                        <h4>ğŸ’¡ å®Ÿè·µçš„é–‹ç™ºã®ãƒã‚¤ãƒ³ãƒˆ</h4>
                        <ul>
                            <li><strong>ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢</strong>ï¼šå„å±¤ã®è²¬ä»»ã‚’æ˜ç¢ºã«åˆ†é›¢</li>
                            <li><strong>ä¾‹å¤–å‡¦ç†</strong>ï¼šé©åˆ‡ãªä¾‹å¤–å‡¦ç†ã¨ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</li>
                            <li><strong>ãƒšãƒ¼ã‚¸ãƒ³ã‚°</strong>ï¼šå¤§é‡ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„ãªè¡¨ç¤º</li>
                            <li><strong>æ¤œç´¢æ©Ÿèƒ½</strong>ï¼šãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚’è€ƒæ…®ã—ãŸæ¤œç´¢UI</li>
                            <li><strong>ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</strong>ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ»ã‚µãƒ¼ãƒãƒ¼ä¸¡é¢ã§ã®æ¤œè¨¼</li>
                        </ul>
                    </div>
                </section>

                <!-- å®Ÿç¿’èª²é¡Œ -->
                <section id="exercise">
                    <div class="exercise-container">
                        <h2>ğŸ’» å®Ÿç¿’èª²é¡Œ</h2>
                        
                        <h3>ğŸ“‹ èª²é¡Œ: æ›¸ç±ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™º</h3>
                        <p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã‚’æ´»ç”¨ã—ãŸæ›¸ç±ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</p>
                        
                        <div class="highlight">
                            <h4>ğŸ¯ å®Ÿè£…è¦ä»¶</h4>
                            <ul>
                                <li><strong>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ</strong>ï¼šæ›¸ç±ã€ã‚«ãƒ†ã‚´ãƒªã€è²¸å‡ºè¨˜éŒ²ã®ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ</li>
                                <li><strong>CRUDæ©Ÿèƒ½</strong>ï¼šæ›¸ç±ã®ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ãƒ»æ¤œç´¢</li>
                                <li><strong>é«˜åº¦ãªæ¤œç´¢</strong>ï¼šã‚¿ã‚¤ãƒˆãƒ«ãƒ»è‘—è€…ãƒ»ã‚«ãƒ†ã‚´ãƒªã«ã‚ˆã‚‹è¤‡åˆæ¤œç´¢</li>
                                <li><strong>è²¸å‡ºç®¡ç†</strong>ï¼šæ›¸ç±ã®è²¸å‡ºãƒ»è¿”å´å‡¦ç†ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä½¿ç”¨ï¼‰</li>
                                <li><strong>ãƒšãƒ¼ã‚¸ãƒ³ã‚°</strong>ï¼šå¤§é‡ã®æ›¸ç±ãƒ‡ãƒ¼ã‚¿ã®åˆ†å‰²è¡¨ç¤º</li>
                                <li><strong>ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½</strong>ï¼šè²¸å‡ºçµ±è¨ˆã®è¡¨ç¤º</li>
                            </ul>
                        </div>

                        <h4>ğŸ’¡ å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ</h4>
                        <ul>
                            <li>é©åˆ‡ãªãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã¨æ­£è¦åŒ–</li>
                            <li>DAOãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ã®å®Ÿè£…</li>
                            <li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã«ã‚ˆã‚‹æ•´åˆæ€§ã®ç¢ºä¿</li>
                            <li>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Š</li>
                        </ul>
                    </div>
                </section>

                <!-- ç†è§£åº¦ç¢ºèªã‚¯ã‚¤ã‚º -->
                <section id="quiz">
                    <div class="quiz-container">
                        <h2>ğŸ“ ç†è§£åº¦ç¢ºèªã‚¯ã‚¤ã‚º</h2>

                        <div class="quiz-item">
                            <h4>â“ å•é¡Œ1</h4>
                            <p><strong>DAOãƒ‘ã‚¿ãƒ¼ãƒ³</strong>ã®ä¸»ãªç›®çš„ã¯ä½•ã§ã™ã‹ï¼Ÿ</p>
                            
                            <div class="quiz-options">
                                <label><input type="radio" name="q1" value="a"> a) ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å‡¦ç†é€Ÿåº¦ã‚’å‘ä¸Šã•ã›ã‚‹</label><br>
                                <label><input type="radio" name="q1" value="b"> b) ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã™ã‚‹</label><br>
                                <label><input type="radio" name="q1" value="c"> c) ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’å‰Šæ¸›ã™ã‚‹</label><br>
                                <label><input type="radio" name="q1" value="d"> d) ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å‘ä¸Šã•ã›ã‚‹</label>
                            </div>
                            
                            <div class="quiz-answer" style="display: none;">
                                <strong>æ­£è§£: b) ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã™ã‚‹</strong><br>
                                DAOãƒ‘ã‚¿ãƒ¼ãƒ³ã¯é–¢å¿ƒã®åˆ†é›¢ã«ã‚ˆã‚Šã€ä¿å®ˆæ€§ã¨å†åˆ©ç”¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒä¸»ãªç›®çš„ã§ã™ã€‚
                            </div>
                        </div>

                        <div class="quiz-item">
                            <h4>â“ å•é¡Œ2</h4>
                            <p><strong>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³</strong>ã§ä¿è¨¼ã•ã‚Œã‚‹ACIDç‰¹æ€§ã®ã†ã¡ã€ã€Œã™ã¹ã¦æˆåŠŸã™ã‚‹ã‹ã™ã¹ã¦å¤±æ•—ã™ã‚‹ã‹ã€ã‚’è¡¨ã™ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</p>
                            
                            <div class="quiz-options">
                                <label><input type="radio" name="q2" value="a"> a) Atomicityï¼ˆåŸå­æ€§ï¼‰</label><br>
                                <label><input type="radio" name="q2" value="b"> b) Consistencyï¼ˆä¸€è²«æ€§ï¼‰</label><br>
                                <label><input type="radio" name="q2" value="c"> c) Isolationï¼ˆç‹¬ç«‹æ€§ï¼‰</label><br>
                                <label><input type="radio" name="q2" value="d"> d) Durabilityï¼ˆæ°¸ç¶šæ€§ï¼‰</label>
                            </div>
                            
                            <div class="quiz-answer" style="display: none;">
                                <strong>æ­£è§£: a) Atomicityï¼ˆåŸå­æ€§ï¼‰</strong><br>
                                åŸå­æ€§ã¯ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã™ã¹ã¦ã®æ“ä½œãŒå®Œå…¨ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‹ã€ã¾ã£ãŸãå®Ÿè¡Œã•ã‚Œãªã„ã‹ã‚’ä¿è¨¼ã™ã‚‹ç‰¹æ€§ã§ã™ã€‚
                            </div>
                        </div>

                        <div class="quiz-item">
                            <h4>â“ å•é¡Œ3</h4>
                            <p><strong>PreparedStatement</strong>ã‚’ä½¿ç”¨ã™ã‚‹ä¸»ãªåˆ©ç‚¹ã¯ä½•ã§ã™ã‹ï¼Ÿ</p>
                            
                            <div class="quiz-options">
                                <label><input type="radio" name="q3" value="a"> a) å®Ÿè¡Œé€Ÿåº¦ãŒé€Ÿã„</label><br>
                                <label><input type="radio" name="q3" value="b"> b) SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ”»æ’ƒã‚’é˜²ã’ã‚‹</label><br>
                                <label><input type="radio" name="q3" value="c"> c) ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå°‘ãªã„</label><br>
                                <label><input type="radio" name="q3" value="d"> d) a)ã¨b)ã®ä¸¡æ–¹</label>
                            </div>
                            
                            <div class="quiz-answer" style="display: none;">
                                <strong>æ­£è§£: d) a)ã¨b)ã®ä¸¡æ–¹</strong><br>
                                PreparedStatementã¯ã€SQLã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿å½¢å¼ã«ã‚ˆã‚Šé«˜é€Ÿå®Ÿè¡ŒãŒå¯èƒ½ã§ã€ã‹ã¤ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã«ã‚ˆã‚ŠSQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ”»æ’ƒã‚’é˜²ã’ã¾ã™ã€‚
                            </div>
                        </div>

                        <button type="button" class="btn btn-orange mt-3" onclick="showAllAnswers()">è§£ç­”ã‚’è¡¨ç¤º</button>
                    </div>
                </section>

                <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
                <div class="d-flex justify-content-between mt-4">
                    <a href="struts1-learning-material-8.html" class="btn btn-outline-secondary">â¬…ï¸ ç¬¬8ç« ã«æˆ»ã‚‹</a>
                    <a href="struts1-learning-material-10.html" class="btn btn-orange">ç¬¬10ç« ã«é€²ã‚€ â¡ï¸</a>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap 5 JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // Highlight.jsåˆæœŸåŒ–
            hljs.highlightAll();
            
            // Mermaid.jsåˆæœŸåŒ–
            mermaid.initialize({
                startOnLoad: true,
                theme: 'default'
            });
            
            // ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒªãƒ³ã‚¯æ›´æ–°
            const observerOptions = {
                root: null,
                rootMargin: '0px 0px -80% 0px',
                threshold: 0.1
            };
            
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        const activeLink = document.querySelector(`a[href="#${id}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                        }
                    }
                });
            }, observerOptions);
            
            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¦ç´ ã‚’ç›£è¦–å¯¾è±¡ã«è¿½åŠ 
            document.querySelectorAll('section[id]').forEach(section => {
                observer.observe(section);
            });
        });
        
        // ã‚¯ã‚¤ã‚ºè§£ç­”è¡¨ç¤ºæ©Ÿèƒ½
        function showAllAnswers() {
            document.querySelectorAll('.quiz-answer').forEach(answer => {
                answer.style.display = 'block';
            });
        }
    </script>
</body>
</html>