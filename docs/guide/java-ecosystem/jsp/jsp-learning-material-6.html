<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSP学習教材 第6章 - JSPとJavaBeans</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        .navbar {
            background-color: #f57c00;
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
        }

        .chapter-title {
            color: #f57c00;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #f57c00;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ff9800;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        .sub-section-title {
            color: #666;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            border-left: 4px solid #f57c00;
            padding-left: 0.8rem;
        }

        .highlight {
            background-color: #fff3e0;
            border: 1px solid #ffb74d;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .exercise-container {
            background-color: #e8f5e8;
            border: 1px solid #81c784;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .quiz-container {
            background-color: #e3f2fd;
            border: 1px solid #64b5f6;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .code-block {
            background-color: #2d3748;
            color: #e2e8f0;
            border-radius: 5px;
            padding: 1rem;
            overflow-x: auto;
            margin: 0.5rem 0;
        }

        .code-inline {
            background-color: #f5f5f5;
            color: #d73502;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .nav-link {
            color: #666 !important;
        }

        .nav-link.active {
            color: #f57c00 !important;
            font-weight: bold;
        }

        .btn-primary {
            background-color: #f57c00;
            border-color: #f57c00;
        }

        .btn-primary:hover {
            background-color: #e65100;
            border-color: #e65100;
        }

        .alert-info {
            background-color: #e3f2fd;
            border-color: #81d4fa;
            color: #0277bd;
        }

        .alert-warning {
            background-color: #fff3e0;
            border-color: #ffcc02;
            color: #e65100;
        }

        pre {
            white-space: pre-wrap;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f57c00;
            color: white;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>JSP学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-1.html">
                                第1章: 事前準備
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-2.html">
                                第2章: JSPの基本理解
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-3.html">
                                第3章: スクリプトレットと式
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-4.html">
                                第4章: ディレクティブとインポート
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-5.html">
                                第5章: リクエストとレスポンスの処理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="jsp-learning-material-6.html">
                                第6章: JSPとJavaBeans
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-7.html">
                                第7章: セッションとスコープ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-8.html">
                                第8章: EL（式言語）とJSTL入門
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-9.html">
                                第9章: 簡易Webアプリ開発
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-10.html">
                                第10章: 次のステップへのガイド
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第6章: JSPとJavaBeans</h1>
                </div>

                <div id="chapter6">
                    <h2 class="chapter-title">JSPとJavaBeans</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>JavaBeansの基本概念と特徴</li>
                            <li>プロパティとアクセサメソッド（getter/setter）の理解</li>
                            <li>JavaBeansの作成方法</li>
                            <li>JSPでのJavaBeansの利用（useBeanタグなど）</li>
                            <li>実践的なJavaBeansの活用パターン</li>
                            <li>MVCアーキテクチャにおけるモデルの役割</li>
                        </ul>
                    </div>

                    <h3 class="section-title">6.1 JavaBeansとは</h3>
                    <p>
                        <strong>JavaBeans</strong>は、Javaで書かれた再利用可能なコンポーネントのことです。
                        特定の規則に従って作成されたJavaクラスで、JSPページからデータの操作を簡単に行えるようになります。
                    </p>

                    <h4 class="sub-section-title">6.1.1 JavaBeansの規則</h4>
                    <p>JavaBeansとして認められるクラスは、以下の規則を満たす必要があります：</p>
                    <ul>
                        <li>publicなデフォルトコンストラクタを持つ</li>
                        <li>プロパティはprivateで宣言する</li>
                        <li>各プロパティにgetter/setterメソッドを提供する</li>
                        <li>Serializableインターフェイスを実装する（推奨）</li>
                    </ul>

                    <div class="mermaid">
                        graph TD
                            A[JavaBeans] --> B[プライベートプロパティ]
                            A --> C[デフォルトコンストラクタ]
                            A --> D[getter/setterメソッド]
                            A --> E[Serializable実装]
                    </div>

                    <h3 class="section-title">6.2 JavaBeansの作成</h3>
                    
                    <div class="exercise-container">
                        <h5>実習 6-1: ユーザー情報のJavaBeansを作成</h5>
                        <p>ユーザー情報を管理するJavaBeansクラスを作成してみましょう。</p>
                        
                        <h6>1. UserBeanクラス（src/UserBean.java）を作成</h6>
                        <pre class="code-block"><code class="language-java">import java.io.Serializable;

public class UserBean implements Serializable {
    // プライベートプロパティ
    private String name;
    private int age;
    private String email;
    
    // デフォルトコンストラクタ（引数なし）
    public UserBean() {
    }
    
    // getter/setterメソッド
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public int getAge() {
        return age;
    }
    
    public void setAge(int age) {
        this.age = age;
    }
    
    public String getEmail() {
        return email;
    }
    
    public void setEmail(String email) {
        this.email = email;
    }
    
    // ユーザー情報を整形して返すメソッド
    public String getFormattedInfo() {
        return "名前: " + name + ", 年齢: " + age + "歳, メール: " + email;
    }
}</code></pre>

                        <h6>期待される結果</h6>
                        <p>JavaBeansの規則に従ったUserBeanクラスが作成されます。このクラスをJSPから利用することができます。</p>
                    </div>

                    <h3 class="section-title">6.3 JSPでのJavaBeansの利用</h3>
                    <p>
                        JSPでJavaBeansを使用するには、主に以下のJSP標準アクションを使用します：
                    </p>
                    <ul>
                        <li><code class="code-inline">&lt;jsp:useBean&gt;</code> - JavaBeansのインスタンスを作成・取得</li>
                        <li><code class="code-inline">&lt;jsp:setProperty&gt;</code> - プロパティの値を設定</li>
                        <li><code class="code-inline">&lt;jsp:getProperty&gt;</code> - プロパティの値を取得・表示</li>
                    </ul>

                    <h4 class="sub-section-title">6.3.1 JavaBeansの基本的な使用方法</h4>
                    
                    <div class="exercise-container">
                        <h5>実習 6-2: JSPでJavaBeansを使用</h5>
                        <p>作成したUserBeanをJSPで使用してみましょう。</p>
                        
                        <h6>JavaBeans使用JSP（userbean-test.jsp）を作成</h6>
                        <pre class="code-block"><code class="language-jsp">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;

&lt;!-- UserBeanのインスタンスを作成 --&gt;
&lt;jsp:useBean id="user" class="UserBean" scope="page" /&gt;

&lt;!-- プロパティの値を設定 --&gt;
&lt;jsp:setProperty name="user" property="name" value="田中太郎" /&gt;
&lt;jsp:setProperty name="user" property="age" value="28" /&gt;
&lt;jsp:setProperty name="user" property="email" value="tanaka@example.com" /&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;JavaBeans使用例&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;JavaBeansを使用したユーザー情報表示&lt;/h2&gt;
    
    &lt;h3&gt;個別プロパティの表示&lt;/h3&gt;
    &lt;p&gt;名前: &lt;jsp:getProperty name="user" property="name" /&gt;&lt;/p&gt;
    &lt;p&gt;年齢: &lt;jsp:getProperty name="user" property="age" /&gt;歳&lt;/p&gt;
    &lt;p&gt;メール: &lt;jsp:getProperty name="user" property="email" /&gt;&lt;/p&gt;
    
    &lt;h3&gt;整形された情報の表示&lt;/h3&gt;
    &lt;p&gt;&lt;%= user.getFormattedInfo() %&gt;&lt;/p&gt;
    
    &lt;h3&gt;プロパティの変更&lt;/h3&gt;
    &lt;jsp:setProperty name="user" property="age" value="29" /&gt;
    &lt;p&gt;更新後の年齢: &lt;jsp:getProperty name="user" property="age" /&gt;歳&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>期待される結果</h6>
                        <p>JavaBeansを使用してユーザー情報が表示され、プロパティの設定と取得が正しく行われます。</p>
                    </div>

                    <h3 class="section-title">6.4 フォームデータとJavaBeansの連携</h3>
                    <p>
                        フォームから送信されたデータをJavaBeansに直接マッピングすることができます。
                    </p>

                    <div class="exercise-container">
                        <h5>実習 6-3: フォームデータとJavaBeansの連携</h5>
                        <p>フォームから送信されたデータをJavaBeansで処理してみましょう。</p>
                        
                        <h6>1. ユーザー登録フォーム（user-form.html）を作成</h6>
                        <pre class="code-block"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ユーザー登録フォーム&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;ユーザー登録フォーム&lt;/h2&gt;
    &lt;form action="user-register.jsp" method="post"&gt;
        &lt;p&gt;
            名前: &lt;input type="text" name="name" required&gt;
        &lt;/p&gt;
        &lt;p&gt;
            年齢: &lt;input type="number" name="age" min="0" max="150" required&gt;
        &lt;/p&gt;
        &lt;p&gt;
            メール: &lt;input type="email" name="email" required&gt;
        &lt;/p&gt;
        &lt;input type="submit" value="登録"&gt;
        &lt;input type="reset" value="リセット"&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>2. 登録処理JSP（user-register.jsp）を作成</h6>
                        <pre class="code-block"><code class="language-jsp">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%
    request.setCharacterEncoding("UTF-8");
%&gt;

&lt;!-- JavaBeansのインスタンス作成 --&gt;
&lt;jsp:useBean id="user" class="UserBean" scope="request" /&gt;

&lt;!-- フォームのパラメータを自動的にプロパティに設定 --&gt;
&lt;jsp:setProperty name="user" property="*" /&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ユーザー登録完了&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;ユーザー登録完了&lt;/h2&gt;
    
    &lt;div style="background-color: #e8f5e8; padding: 1rem; border-radius: 5px;"&gt;
        &lt;h3&gt;登録内容&lt;/h3&gt;
        &lt;p&gt;&lt;strong&gt;名前:&lt;/strong&gt; &lt;jsp:getProperty name="user" property="name" /&gt;&lt;/p&gt;
        &lt;p&gt;&lt;strong&gt;年齢:&lt;/strong&gt; &lt;jsp:getProperty name="user" property="age" /&gt;歳&lt;/p&gt;
        &lt;p&gt;&lt;strong&gt;メール:&lt;/strong&gt; &lt;jsp:getProperty name="user" property="email" /&gt;&lt;/p&gt;
        
        &lt;h3&gt;整形された情報&lt;/h3&gt;
        &lt;p&gt;&lt;%= user.getFormattedInfo() %&gt;&lt;/p&gt;
    &lt;/div&gt;
    
    &lt;p&gt;&lt;a href="user-form.html"&gt;新規登録&lt;/a&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>期待される結果</h6>
                        <p>
                            フォームに入力されたデータが自動的にJavaBeansのプロパティに設定され、登録完了ページに表示されます。
                            <code class="code-inline">property="*"</code>により、すべてのフォームパラメータが対応するプロパティに自動的にマッピングされます。
                        </p>
                    </div>

                    <h3 class="section-title">6.5 JavaBeansのスコープ</h3>
                    <p>
                        JavaBeansは以下の4つのスコープで管理できます：
                    </p>
                    
                    <table>
                        <tr>
                            <th>スコープ</th>
                            <th>有効範囲</th>
                            <th>説明</th>
                        </tr>
                        <tr>
                            <td>page</td>
                            <td>現在のJSPページ内</td>
                            <td>ページが終了すると破棄される</td>
                        </tr>
                        <tr>
                            <td>request</td>
                            <td>現在のリクエスト内</td>
                            <td>リクエストが完了すると破棄される</td>
                        </tr>
                        <tr>
                            <td>session</td>
                            <td>現在のセッション内</td>
                            <td>セッションが終了するまで保持される</td>
                        </tr>
                        <tr>
                            <td>application</td>
                            <td>アプリケーション全体</td>
                            <td>サーバーが停止するまで保持される</td>
                        </tr>
                    </table>

                    <div class="exercise-container">
                        <h5>実習 6-4: 複数のJavaBeansの作成と活用</h5>
                        <p>商品情報を管理するJavaBeansを作成し、複数の商品を管理するシステムを構築してみましょう。</p>
                        
                        <h6>1. ProductBeanクラス（src/ProductBean.java）を作成</h6>
                        <pre class="code-block"><code class="language-java">import java.io.Serializable;

public class ProductBean implements Serializable {
    private String name;
    private double price;
    private String category;
    private int stock;
    
    public ProductBean() {
    }
    
    // getter/setterメソッド
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public double getPrice() {
        return price;
    }
    
    public void setPrice(double price) {
        this.price = price;
    }
    
    public String getCategory() {
        return category;
    }
    
    public void setCategory(String category) {
        this.category = category;
    }
    
    public int getStock() {
        return stock;
    }
    
    public void setStock(int stock) {
        this.stock = stock;
    }
    
    // 在庫状況を判定するメソッド
    public String getStockStatus() {
        if (stock == 0) {
            return "在庫切れ";
        } else if (stock &lt; 10) {
            return "在庫少";
        } else {
            return "在庫あり";
        }
    }
    
    // 商品情報を整形して返すメソッド
    public String getProductInfo() {
        return name + " - ￥" + price + " (" + category + ") - " + getStockStatus();
    }
}</code></pre>

                        <h6>2. 商品管理JSP（product-management.jsp）を作成</h6>
                        <pre class="code-block"><code class="language-jsp">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;

&lt;!-- 商品1の作成と設定 --&gt;
&lt;jsp:useBean id="product1" class="ProductBean" scope="page" /&gt;
&lt;jsp:setProperty name="product1" property="name" value="ノートパソコン" /&gt;
&lt;jsp:setProperty name="product1" property="price" value="89800" /&gt;
&lt;jsp:setProperty name="product1" property="category" value="電子機器" /&gt;
&lt;jsp:setProperty name="product1" property="stock" value="5" /&gt;

&lt;!-- 商品2の作成と設定 --&gt;
&lt;jsp:useBean id="product2" class="ProductBean" scope="page" /&gt;
&lt;jsp:setProperty name="product2" property="name" value="マウス" /&gt;
&lt;jsp:setProperty name="product2" property="price" value="2980" /&gt;
&lt;jsp:setProperty name="product2" property="category" value="周辺機器" /&gt;
&lt;jsp:setProperty name="product2" property="stock" value="25" /&gt;

&lt;!-- 商品3の作成と設定 --&gt;
&lt;jsp:useBean id="product3" class="ProductBean" scope="page" /&gt;
&lt;jsp:setProperty name="product3" property="name" value="キーボード" /&gt;
&lt;jsp:setProperty name="product3" property="price" value="8500" /&gt;
&lt;jsp:setProperty name="product3" property="category" value="周辺機器" /&gt;
&lt;jsp:setProperty name="product3" property="stock" value="0" /&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;商品管理システム&lt;/title&gt;
    &lt;style&gt;
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f57c00;
            color: white;
        }
        .low-stock {
            color: orange;
            font-weight: bold;
        }
        .out-of-stock {
            color: red;
            font-weight: bold;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;商品管理システム&lt;/h2&gt;
    
    &lt;table&gt;
        &lt;tr&gt;
            &lt;th&gt;商品名&lt;/th&gt;
            &lt;th&gt;価格&lt;/th&gt;
            &lt;th&gt;カテゴリ&lt;/th&gt;
            &lt;th&gt;在庫数&lt;/th&gt;
            &lt;th&gt;在庫状況&lt;/th&gt;
            &lt;th&gt;商品情報&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product1" property="name" /&gt;&lt;/td&gt;
            &lt;td&gt;￥&lt;jsp:getProperty name="product1" property="price" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product1" property="category" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product1" property="stock" /&gt;&lt;/td&gt;
            &lt;td class="low-stock"&gt;&lt;%= product1.getStockStatus() %&gt;&lt;/td&gt;
            &lt;td&gt;&lt;%= product1.getProductInfo() %&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product2" property="name" /&gt;&lt;/td&gt;
            &lt;td&gt;￥&lt;jsp:getProperty name="product2" property="price" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product2" property="category" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product2" property="stock" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;%= product2.getStockStatus() %&gt;&lt;/td&gt;
            &lt;td&gt;&lt;%= product2.getProductInfo() %&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product3" property="name" /&gt;&lt;/td&gt;
            &lt;td&gt;￥&lt;jsp:getProperty name="product3" property="price" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product3" property="category" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;jsp:getProperty name="product3" property="stock" /&gt;&lt;/td&gt;
            &lt;td class="out-of-stock"&gt;&lt;%= product3.getStockStatus() %&gt;&lt;/td&gt;
            &lt;td&gt;&lt;%= product3.getProductInfo() %&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
    
    &lt;h3&gt;在庫状況サマリー&lt;/h3&gt;
    &lt;%
        int totalProducts = 3;
        int lowStockCount = 0;
        int outOfStockCount = 0;
        
        if (product1.getStock() == 0) outOfStockCount++;
        else if (product1.getStock() &lt; 10) lowStockCount++;
        
        if (product2.getStock() == 0) outOfStockCount++;
        else if (product2.getStock() &lt; 10) lowStockCount++;
        
        if (product3.getStock() == 0) outOfStockCount++;
        else if (product3.getStock() &lt; 10) lowStockCount++;
    %&gt;
    &lt;p&gt;総商品数: &lt;%= totalProducts %&gt;&lt;/p&gt;
    &lt;p&gt;在庫少商品: &lt;%= lowStockCount %&gt;品目&lt;/p&gt;
    &lt;p&gt;在庫切れ商品: &lt;%= outOfStockCount %&gt;品目&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>期待される結果</h6>
                        <p>
                            複数のProductBeanインスタンスが作成され、商品情報がテーブル形式で表示されます。
                            在庫状況に応じて色分けされた表示が行われ、在庫状況のサマリーも表示されます。
                        </p>
                    </div>

                    <h3 class="section-title">6.6 JavaBeansとMVCパターン</h3>
                    <p>
                        JavaBeansは、<strong>MVCアーキテクチャ</strong>において<strong>Model（モデル）</strong>の役割を担います：
                    </p>
                    
                    <div class="mermaid">
                        graph LR
                            A[View<br>JSP] --> B[Controller<br>Servlet]
                            B --> C[Model<br>JavaBeans]
                            C --> B
                            B --> A
                    </div>

                    <ul>
                        <li><strong>Model（JavaBeans）</strong>：データとビジネスロジックを管理</li>
                        <li><strong>View（JSP）</strong>：データの表示を担当</li>
                        <li><strong>Controller（Servlet）</strong>：ユーザーの操作を制御</li>
                    </ul>

                    <div class="alert alert-info">
                        <strong>メリット：</strong> JavaBeansを使用することで、JSPからビジネスロジックを分離でき、保守性とテスト性が向上します。
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>JavaBeansの規則として正しいものを3つ挙げてください。</li>
                            <li><code>&lt;jsp:setProperty name="user" property="*" /&gt;</code>の意味は何ですか？</li>
                            <li>JavaBeansの4つのスコープを挙げて、それぞれの有効範囲を説明してください。</li>
                            <li>MVCアーキテクチャにおいて、JavaBeansはどの部分に該当しますか？</li>
                            <li>フォームのパラメータをJavaBeansに自動的に設定するJSP標準アクションは何ですか？</li>
                        </ol>
                        
                        <details>
                            <summary>解答例</summary>
                            <ol>
                                <li>
                                    ・publicなデフォルトコンストラクタを持つ<br>
                                    ・プロパティはprivateで宣言する<br>
                                    ・各プロパティにgetter/setterメソッドを提供する
                                </li>
                                <li>フォームから送信されたすべてのパラメータを、同名のプロパティに自動的に設定する</li>
                                <li>
                                    ・page：現在のJSPページ内<br>
                                    ・request：現在のリクエスト内<br>
                                    ・session：現在のセッション内<br>
                                    ・application：アプリケーション全体
                                </li>
                                <li>Model（モデル）部分。データとビジネスロジックを管理する</li>
                                <li>&lt;jsp:setProperty&gt;標準アクション</li>
                            </ol>
                        </details>
                    </div>

                    <div class="highlight">
                        <h5>まとめ</h5>
                        <p>この章では、JSPとJavaBeansの連携について学習しました。</p>
                        <ul>
                            <li>JavaBeansの規則と基本的な構造の理解</li>
                            <li>JSP標準アクション（useBean、setProperty、getProperty）の使用方法</li>
                            <li>フォームデータとJavaBeansの効率的な連携</li>
                            <li>JavaBeansのスコープ管理</li>
                            <li>MVCアーキテクチャにおけるJavaBeansの役割</li>
                            <li>実践的なWebアプリケーション開発での活用方法</li>
                        </ul>
                        <p>次の章では、セッションとスコープ管理について詳しく学習します。</p>
                    </div>

                    <!-- Navigation -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="jsp-learning-material-5.html" class="btn btn-secondary">&larr; 前の章</a>
                        <a href="jsp-learning-material-7.html" class="btn btn-primary">次の章 &rarr;</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>