<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSP学習教材 第1章 - 事前準備</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        .navbar {
            background-color: #f57c00;
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
        }

        .chapter-title {
            color: #f57c00;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #f57c00;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ff9800;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        .quiz-container {
            background-color: #fff3e0;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #f57c00;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .nav-link.active {
            background-color: #f57c00 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>JSP学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="jsp-learning-material-1.html">
                                第1章: 事前準備
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-2.html">
                                第2章: JSPの基本理解
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-3.html">
                                第3章: スクリプトレットと式
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-4.html">
                                第4章: ディレクティブとインポート
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-5.html">
                                第5章: リクエストとレスポンスの処理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-6.html">
                                第6章: JSPとJavaBeans
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-7.html">
                                第7章: セッションとスコープ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-8.html">
                                第8章: EL（式言語）とJSTL入門
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-9.html">
                                第9章: 簡易Webアプリ開発
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-10.html">
                                第10章: 次のステップへのガイド
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第1章: 事前準備</h1>
                </div>

                <div id="chapter1">
                    <h2 class="chapter-title">JSP/Servlet開発環境の構築</h2>

                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>JSP/Servletの基本概念と役割の理解</li>
                            <li>Web開発における位置づけと必要性</li>
                            <li>JDK 21の正しいインストール手順</li>
                            <li>Apache Tomcatサーバーのセットアップ方法</li>
                            <li>開発に適したIDE環境の構築</li>
                            <li>Webアプリケーションの基本的なプロジェクト構造</li>
                        </ul>
                    </div>

                    <section id="overview">
                        <h3 class="section-title">1.1 JSP/Servletとは何か</h3>
                        
                        <p>JSP（JavaServer Pages）とServletは、Javaプラットフォーム上で動的なWebアプリケーションを開発するための技術です。この技術の理解から始めましょう。</p>

                        <h4>なぜJSP/Servletが必要なのか</h4>
                        <p>従来の静的なHTMLページでは、ユーザーの入力に応じて内容を変更したり、データベースから情報を取得して表示したりすることはできません。JSP/Servletを使用することで、以下のような動的な機能を実現できます：</p>
                        
                        <ul>
                            <li><strong>データベース連携</strong>：商品情報や顧客データをリアルタイムで表示</li>
                            <li><strong>ユーザー認証</strong>：ログイン機能やセッション管理</li>
                            <li><strong>フォーム処理</strong>：お問い合わせや会員登録の処理</li>
                            <li><strong>動的コンテンツ</strong>：時刻やユーザーに応じた個別表示</li>
                        </ul>

                        <h4>JSPとServletの違いと役割分担</h4>
                        <p>JSPとServletは密接に関連していますが、それぞれ異なる役割を持ちます：</p>

                        <div class="mermaid">
                            flowchart LR
                                A["ユーザー<br/>(ブラウザ)"] --> B["Servlet<br/>(制御・処理)"]
                                B --> C["JavaBeans<br/>(データ)"]
                                B --> D["JSP<br/>(表示)"]
                                D --> A
                                C --> D
                        </div>

                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>技術</th>
                                    <th>主な役割</th>
                                    <th>特徴</th>
                                    <th>記述方法</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>JSP</strong></td>
                                    <td>画面表示・プレゼンテーション</td>
                                    <td>HTML中にJavaコードを埋め込む</td>
                                    <td>HTML + Java</td>
                                </tr>
                                <tr>
                                    <td><strong>Servlet</strong></td>
                                    <td>処理制御・ビジネスロジック</td>
                                    <td>Javaクラスとして実装</td>
                                    <td>Pure Java</td>
                                </tr>
                            </tbody>
                        </table>
                    </section>

                    <section id="concepts">
                        <h3 class="section-title">1.2 Web開発の基本概念</h3>

                        <h4>クライアント・サーバーアーキテクチャ</h4>
                        <p>Web開発の基礎となる概念を理解しましょう：</p>

                        <div class="mermaid">
                            sequenceDiagram
                                participant C as クライアント<br/>(ブラウザ)
                                participant S as Webサーバー<br/>(Tomcat)
                                participant J as JSP/Servlet
                                participant D as データベース

                                C->>S: HTTPリクエスト
                                S->>J: リクエスト処理依頼
                                J->>D: データ取得
                                D->>J: データ返却
                                J->>S: HTML生成
                                S->>C: HTTPレスポンス(HTML)
                        </div>

                        <h4>HTTPプロトコルの基本</h4>
                        <p>WebアプリケーションはHTTP（HyperText Transfer Protocol）を使用して通信を行います。主なメソッドは以下の通りです：</p>

                        <ul>
                            <li><strong>GET</strong>：データの取得（ページ表示、検索など）</li>
                            <li><strong>POST</strong>：データの送信（フォーム送信、登録処理など）</li>
                            <li><strong>PUT</strong>：データの更新</li>
                            <li><strong>DELETE</strong>：データの削除</li>
                        </ul>

                        <div class="highlight">
                            <h6>初心者向けのポイント</h6>
                            <p>JSP/Servletを学ぶ上で重要なのは、「サーバー側で処理されてHTMLが生成される」という点です。ブラウザが受け取るのは最終的なHTMLであり、JSPのコードは見えません。</p>
                        </div>
                    </section>

                    <section id="jdk-setup">
                        <h3 class="section-title">1.3 JDK 21のインストール</h3>

                        <p>JSP/Servlet開発には、Java Development Kit（JDK）が必要です。最新のJDK 21をインストールしましょう。</p>

                        <h4>JDKとJREの違い</h4>
                        <ul>
                            <li><strong>JDK</strong>：Java Development Kit - 開発用ツール一式（コンパイラなど含む）</li>
                            <li><strong>JRE</strong>：Java Runtime Environment - 実行環境のみ</li>
                        </ul>

                        <p>開発を行うためにはJDKが必要です。</p>

                        <div class="exercise-container">
                            <h5>実習 1-1: JDK 21のインストール</h5>
                            <p>開発環境にJDK 21をインストールしてみましょう。</p>
                            
                            <h6>Windowsでの手順</h6>
                            <ol>
                                <li>Oracle公式サイトまたはOpenJDKサイトからJDK 21をダウンロード</li>
                                <li>ダウンロードしたインストーラーを実行</li>
                                <li>インストールウィザードに従ってインストール</li>
                                <li>環境変数JAVA_HOMEを設定</li>
                                <li>PATHにJDKのbinディレクトリを追加</li>
                            </ol>

                            <h6>インストール確認</h6>
                            <p>コマンドプロンプトまたはターミナルで以下のコマンドを実行：</p>
                            <pre class="code-block"><code class="language-bash">java -version
javac -version</code></pre>

                            <h6>期待される結果</h6>
                            <pre class="code-block"><code class="language-bash">java version "21.0.1" 2023-10-17
Java(TM) SE Runtime Environment (build 21.0.1+12-29)
Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-29, mixed mode)</code></pre>
                        </div>

                        <div class="warning">
                            <h6>注意事項</h6>
                            <p>複数のJavaバージョンがインストールされている場合は、環境変数の設定を正しく行い、JDK 21が使用されていることを確認してください。</p>
                        </div>
                    </section>

                    <section id="tomcat-setup">
                        <h3 class="section-title">1.4 Apache Tomcatのセットアップ</h3>

                        <p>Apache TomcatはJSP/Servletを実行するためのWebサーバー（正確にはサーブレットコンテナ）です。軽量で使いやすく、開発環境に最適です。</p>

                        <h4>Tomcatの役割</h4>
                        <p>Tomcatは以下の重要な機能を提供します：</p>
                        <ul>
                            <li><strong>サーブレットコンテナ</strong>：JSP/Servletの実行環境</li>
                            <li><strong>HTTPサーバー</strong>：Webリクエストの処理</li>
                            <li><strong>ライフサイクル管理</strong>：アプリケーションの開始・停止</li>
                            <li><strong>セッション管理</strong>：ユーザーセッションの管理</li>
                        </ul>

                        <div class="exercise-container">
                            <h5>実習 1-2: Tomcat 10.xのインストール</h5>
                            <p>Apache Tomcat 10.xをインストールして起動してみましょう。</p>
                            
                            <h6>手順</h6>
                            <ol>
                                <li>Apache Tomcat公式サイト（https://tomcat.apache.org/）から最新版をダウンロード</li>
                                <li>ZIPファイルを適切なディレクトリに展開（例：C:\apache-tomcat-10.1.15）</li>
                                <li>CATALINA_HOME環境変数を設定（オプション）</li>
                                <li>binディレクトリ内のstartup.batまたはstartup.shを実行</li>
                            </ol>

                            <h6>起動確認</h6>
                            <p>ブラウザで以下のURLにアクセス：</p>
                            <pre class="code-block"><code class="language-bash">http://localhost:8080</code></pre>

                            <h6>期待される結果</h6>
                            <p>Tomcatのウェルカムページが表示されれば成功です。</p>
                        </div>

                        <h4>Tomcatディレクトリ構造の理解</h4>
                        <pre class="code-block"><code class="language-bash">apache-tomcat-10.1.15/
├── bin/          # 実行可能ファイル（startup.sh, shutdown.shなど）
├── conf/         # 設定ファイル（server.xml, web.xmlなど）
├── lib/          # ライブラリファイル
├── logs/         # ログファイル
├── temp/         # 一時ファイル
├── webapps/      # Webアプリケーションデプロイディレクトリ
└── work/         # JSPコンパイル済みファイル</code></pre>
                    </section>

                    <section id="ide-setup">
                        <h3 class="section-title">1.5 IDE環境の設定</h3>

                        <p>効率的な開発のために、統合開発環境（IDE）をセットアップしましょう。主な選択肢は以下の通りです：</p>

                        <h4>主要なIDEの比較</h4>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>IDE</th>
                                    <th>特徴</th>
                                    <th>ライセンス</th>
                                    <th>推奨レベル</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Eclipse</strong></td>
                                    <td>豊富なプラグイン、軽量</td>
                                    <td>無料</td>
                                    <td>初心者におすすめ</td>
                                </tr>
                                <tr>
                                    <td><strong>IntelliJ IDEA</strong></td>
                                    <td>高機能、スマートな補完</td>
                                    <td>Community版無料</td>
                                    <td>中級者以上</td>
                                </tr>
                                <tr>
                                    <td><strong>Visual Studio Code</strong></td>
                                    <td>軽量、拡張性が高い</td>
                                    <td>無料</td>
                                    <td>Web開発経験者</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="exercise-container">
                            <h5>実習 1-3: Eclipse IDEの設定</h5>
                            <p>初心者に最も適したEclipseをセットアップしてみましょう。</p>
                            
                            <h6>手順</h6>
                            <ol>
                                <li>Eclipse IDE for Enterprise Java and Web Developersをダウンロード</li>
                                <li>ワークスペースディレクトリを選択</li>
                                <li>Tomcatサーバーの登録
                                    <ul>
                                        <li>Window → Preferences → Server → Runtime Environment</li>
                                        <li>Add → Apache Tomcat v10.1を選択</li>
                                        <li>Tomcatインストールディレクトリを指定</li>
                                    </ul>
                                </li>
                                <li>プロジェクト作成テスト</li>
                            </ol>

                            <h6>確認方法</h6>
                            <p>File → New → Dynamic Web Projectを選択できれば成功です。</p>
                        </div>
                    </section>

                    <section id="project-structure">
                        <h3 class="section-title">1.6 Webアプリケーションの基本構造</h3>

                        <p>JSP/Servletで開発するWebアプリケーションの標準的なプロジェクト構造を理解しましょう。</p>

                        <h4>標準的なディレクトリ構造</h4>
                        <pre class="code-block"><code class="language-bash">MyWebApp/
├── src/
│   └── main/
│       ├── java/           # Servletクラス、JavaBeansクラス
│       │   └── com/
│       │       └── example/
│       │           ├── servlet/    # Servletクラス
│       │           └── model/      # JavaBeansクラス
│       └── webapp/         # Web関連ファイル
│           ├── WEB-INF/    # 設定ファイル（外部アクセス不可）
│           │   ├── web.xml         # デプロイメント記述子
│           │   └── lib/            # JARライブラリ
│           ├── css/        # CSSファイル
│           ├── js/         # JavaScriptファイル
│           ├── images/     # 画像ファイル
│           └── *.jsp       # JSPファイル（ルート直下）</code></pre>

                        <h4>各ディレクトリの役割</h4>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ディレクトリ</th>
                                    <th>役割</th>
                                    <th>アクセス可能性</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>src/main/java</strong></td>
                                    <td>Javaソースファイル</td>
                                    <td>コンパイル後にアクセス</td>
                                </tr>
                                <tr>
                                    <td><strong>src/main/webapp</strong></td>
                                    <td>Web公開ファイル</td>
                                    <td>直接アクセス可能</td>
                                </tr>
                                <tr>
                                    <td><strong>WEB-INF</strong></td>
                                    <td>設定・ライブラリ</td>
                                    <td>外部アクセス不可</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="exercise-container">
                            <h5>実習 1-4: 初めてのJSPプロジェクト作成</h5>
                            <p>Eclipse上で簡単なJSPプロジェクトを作成してみましょう。</p>
                            
                            <h6>手順</h6>
                            <ol>
                                <li>File → New → Dynamic Web Project</li>
                                <li>プロジェクト名：「HelloJSP」を入力</li>
                                <li>Target Runtime：「Apache Tomcat v10.1」を選択</li>
                                <li>Dynamic Web Module version：「6.0」を選択</li>
                                <li>Generate web.xml deployment descriptorにチェック</li>
                                <li>Finish</li>
                            </ol>

                            <h6>hello.jspファイルの作成</h6>
                            <ol>
                                <li>src/main/webapp上で右クリック → New → JSP File</li>
                                <li>ファイル名：「hello.jsp」</li>
                                <li>以下の内容を記述：</li>
                            </ol>

                            <pre class="code-block"><code class="language-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;初めてのJSP&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello JSP World!&lt;/h1&gt;
    &lt;p&gt;現在の時刻: &lt;%= new java.util.Date() %&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                            <h6>実行と確認</h6>
                            <ol>
                                <li>hello.jsp上で右クリック → Run As → Run on Server</li>
                                <li>Apache Tomcat v10.1を選択して実行</li>
                                <li>ブラウザで http://localhost:8080/HelloJSP/hello.jsp にアクセス</li>
                            </ol>

                            <h6>期待される結果</h6>
                            <p>「Hello JSP World!」というタイトルと現在の時刻が表示されれば成功です。</p>
                        </div>

                        <div class="highlight">
                            <h6>今回作成したJSPの解説</h6>
                            <ul>
                                <li><code>&lt;%@ page ... %&gt;</code>：ページディレクティブ（設定情報）</li>
                                <li><code>&lt;%= ... %&gt;</code>：式（Expression）- 値を出力</li>
                                <li><code>new java.util.Date()</code>：現在の日時を取得</li>
                            </ul>
                            <p>これらの詳細は次章以降で学習します。</p>
                        </div>
                    </section>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>JSPとServletの主な役割の違いを説明してください。</li>
                            <li>Tomcatの役割について、3つのポイントを挙げて説明してください。</li>
                            <li>WebアプリケーションのWEB-INFディレクトリの特徴は何ですか？</li>
                            <li>HTTPのGETメソッドとPOSTメソッドの使い分けについて説明してください。</li>
                            <li>JDKとJREの違いについて説明し、なぜ開発にはJDKが必要なのかを答えてください。</li>
                        </ol>
                        
                        <details>
                            <summary>解答例</summary>
                            <ol>
                                <li><strong>JSPとServletの役割</strong>
                                    <ul>
                                        <li>JSP：画面表示・プレゼンテーション層を担当。HTML中にJavaコードを記述できる</li>
                                        <li>Servlet：処理制御・ビジネスロジックを担当。純粋なJavaクラスとして実装</li>
                                    </ul>
                                </li>
                                <li><strong>Tomcatの役割</strong>
                                    <ul>
                                        <li>サーブレットコンテナ：JSP/Servletの実行環境を提供</li>
                                        <li>HTTPサーバー：Webリクエストの受信と処理</li>
                                        <li>ライフサイクル管理：アプリケーションの起動・停止・セッション管理</li>
                                    </ul>
                                </li>
                                <li><strong>WEB-INFディレクトリ</strong>：外部から直接アクセスできない特別なディレクトリ。設定ファイル（web.xml）やライブラリ（lib）を配置し、セキュリティを保つ</li>
                                <li><strong>HTTPメソッドの使い分け</strong>
                                    <ul>
                                        <li>GET：データの取得（ページ表示、検索）。URLパラメータでデータ送信</li>
                                        <li>POST：データの送信（フォーム送信、登録処理）。リクエストボディでデータ送信</li>
                                    </ul>
                                </li>
                                <li><strong>JDKとJRE</strong>
                                    <ul>
                                        <li>JRE：Java実行環境のみ。既存のプログラムを動かすため</li>
                                        <li>JDK：開発ツール一式（コンパイラjavac、デバッガなど）。開発には必須</li>
                                    </ul>
                                </li>
                            </ol>
                        </details>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <div></div>
                        <a href="jsp-learning-material-2.html" class="btn btn-primary">次の章 → JSPの基本理解</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>