<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSPå­¦ç¿’æ•™æ ç¬¬8ç«  - ELï¼ˆå¼è¨€èªï¼‰ã¨JSTLå…¥é–€</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        .navbar {
            background-color: #f57c00;
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
        }

        .chapter-title {
            color: #f57c00;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #f57c00;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ff9800;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        .sub-section-title {
            color: #666;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            border-left: 4px solid #f57c00;
            padding-left: 0.8rem;
        }

        .highlight {
            background-color: #fff3e0;
            border: 1px solid #ffb74d;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .exercise-container {
            background-color: #e8f5e8;
            border: 1px solid #81c784;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .quiz-container {
            background-color: #e3f2fd;
            border: 1px solid #64b5f6;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .code-block {
            background-color: #2d3748;
            color: #e2e8f0;
            border-radius: 5px;
            padding: 1rem;
            overflow-x: auto;
            margin: 0.5rem 0;
        }

        .code-inline {
            background-color: #f5f5f5;
            color: #d73502;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .nav-link {
            color: #666 !important;
        }

        .nav-link.active {
            color: #f57c00 !important;
            font-weight: bold;
        }

        .btn-primary {
            background-color: #f57c00;
            border-color: #f57c00;
        }

        .btn-primary:hover {
            background-color: #e65100;
            border-color: #e65100;
        }

        .alert-info {
            background-color: #e3f2fd;
            border-color: #81d4fa;
            color: #0277bd;
        }

        .alert-warning {
            background-color: #fff3e0;
            border-color: #ffcc02;
            color: #e65100;
        }

        .comparison-table {
            margin: 1rem 0;
        }

        .comparison-table td:first-child {
            background-color: #f5f5f5;
            font-weight: bold;
        }

        pre {
            white-space: pre-wrap;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f57c00;
            color: white;
        }
    </style>
</head>
<body>
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>JSPå­¦ç¿’æ•™æ</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>å­¦ç¿’ç« </span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-1.html">
                                ç¬¬1ç« : äº‹å‰æº–å‚™
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-2.html">
                                ç¬¬2ç« : JSPã®åŸºæœ¬ç†è§£
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-3.html">
                                ç¬¬3ç« : ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ¬ãƒƒãƒˆã¨å¼
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-4.html">
                                ç¬¬4ç« : ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-5.html">
                                ç¬¬5ç« : ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‡¦ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-6.html">
                                ç¬¬6ç« : JSPã¨JavaBeans
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-7.html">
                                ç¬¬7ç« : ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ã‚¹ã‚³ãƒ¼ãƒ—
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="jsp-learning-material-8.html">
                                ç¬¬8ç« : ELï¼ˆå¼è¨€èªï¼‰ã¨JSTLå…¥é–€
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-9.html">
                                ç¬¬9ç« : ç°¡æ˜“Webã‚¢ãƒ—ãƒªé–‹ç™º
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="jsp-learning-material-10.html">
                                ç¬¬10ç« : æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸ã®ã‚¬ã‚¤ãƒ‰
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">ç¬¬8ç« : ELï¼ˆå¼è¨€èªï¼‰ã¨JSTLå…¥é–€</h1>
                </div>

                <div id="chapter8">
                    <h2 class="chapter-title">ELï¼ˆå¼è¨€èªï¼‰ã¨JSTLå…¥é–€</h2>
                    
                    <div class="highlight">
                        <h5>ã“ã®ç« ã§å­¦ã¶ã“ã¨</h5>
                        <ul>
                            <li>ELï¼ˆExpression Languageï¼‰ã®åŸºæœ¬çš„ãªæ§‹æ–‡ã¨ä½¿ã„æ–¹</li>
                            <li>ELã‚’ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•</li>
                            <li>JSTLã‚¿ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¦‚è¦ã¨è¨­å®šæ–¹æ³•</li>
                            <li>JSTLã«ã‚ˆã‚‹ç¹°ã‚Šè¿”ã—å‡¦ç†ã¨æ¡ä»¶åˆ†å²</li>
                            <li>JSTLã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¿ã‚°ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã®æ•´å½¢</li>
                            <li>ELã¨JSTLã‚’çµ„ã¿åˆã‚ã›ãŸå®Ÿè·µçš„ãªä½¿ç”¨æ–¹æ³•</li>
                        </ul>
                    </div>

                    <h3 class="section-title">8.1 ELï¼ˆå¼è¨€èªï¼‰ã®åŸºæœ¬</h3>
                    <p>
                        <strong>ELï¼ˆExpression Languageï¼‰</strong>ã¯ã€JSPãƒšãƒ¼ã‚¸ã‹ã‚‰Javaã‚³ãƒ¼ãƒ‰ã‚’æ’é™¤ã—ã€
                        ã‚ˆã‚Šç°¡æ½”ã§èª­ã¿ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã§ã™ã€‚
                        ELã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ¬ãƒƒãƒˆã‚’ä½¿ã‚ãšã«ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚
                    </p>

                    <h4 class="sub-section-title">8.1.1 ELã®åŸºæœ¬æ§‹æ–‡</h4>
                    <p>ELã¯<code class="code-inline">${ }</code>ã§å›²ã‚“ã§è¨˜è¿°ã—ã¾ã™ã€‚</p>
                    
                    <table class="comparison-table">
                        <tr>
                            <td>å¾“æ¥ã®æ–¹æ³•</td>
                            <td><code>&lt;%= request.getParameter("name") %&gt;</code></td>
                        </tr>
                        <tr>
                            <td>ELã‚’ä½¿ç”¨</td>
                            <td><code>${param.name}</code></td>
                        </tr>
                    </table>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 8-1: ELã®åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•</h5>
                        <p>ELã‚’ä½¿ç”¨ã—ã¦ã•ã¾ã–ã¾ãªãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                        
                        <h6>ELåŸºæœ¬æ“ä½œJSPï¼ˆel-basic.jspï¼‰ã‚’ä½œæˆ</h6>
                        <pre class="code-block"><code class="language-jsp">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%
    // ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã®è¨­å®š
    request.setAttribute("message", "Hello, EL!");
    request.setAttribute("number", 42);
    session.setAttribute("userName", "ç”°ä¸­å¤ªéƒ");
    application.setAttribute("appName", "JSPå­¦ç¿’ã‚¢ãƒ—ãƒª");
%&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ELåŸºæœ¬æ“ä½œ&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;ELï¼ˆå¼è¨€èªï¼‰ã®åŸºæœ¬æ“ä½œ&lt;/h2&gt;
    
    &lt;h3&gt;åŸºæœ¬çš„ãªELå¼&lt;/h3&gt;
    &lt;p&gt;&lt;strong&gt;ãƒªã‚¯ã‚¨ã‚¹ãƒˆå±æ€§:&lt;/strong&gt; ${message}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;æ•°å€¤:&lt;/strong&gt; ${number}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ã‚»ãƒƒã‚·ãƒ§ãƒ³å±æ€§:&lt;/strong&gt; ${userName}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±æ€§:&lt;/strong&gt; ${appName}&lt;/p&gt;
    
    &lt;h3&gt;ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿&lt;/h3&gt;
    &lt;p&gt;&lt;strong&gt;åå‰ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:&lt;/strong&gt; ${param.name}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;å¹´é½¢ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:&lt;/strong&gt; ${param.age}&lt;/p&gt;
    
    &lt;h3&gt;ã‚¹ã‚³ãƒ¼ãƒ—æŒ‡å®šã®ã‚¢ã‚¯ã‚»ã‚¹&lt;/h3&gt;
    &lt;p&gt;&lt;strong&gt;ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¹ã‚³ãƒ¼ãƒ—:&lt;/strong&gt; ${requestScope.message}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ã‚³ãƒ¼ãƒ—:&lt;/strong&gt; ${sessionScope.userName}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚³ãƒ¼ãƒ—:&lt;/strong&gt; ${applicationScope.appName}&lt;/p&gt;
    
    &lt;h3&gt;ç®—è¡“æ¼”ç®—&lt;/h3&gt;
    &lt;p&gt;&lt;strong&gt;åŠ ç®—:&lt;/strong&gt; ${number + 8} = ${42 + 8}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;æ¸›ç®—:&lt;/strong&gt; ${number - 2} = ${42 - 2}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ä¹—ç®—:&lt;/strong&gt; ${number * 2} = ${42 * 2}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;é™¤ç®—:&lt;/strong&gt; ${number / 2} = ${42 / 2}&lt;/p&gt;
    
    &lt;h3&gt;è«–ç†æ¼”ç®—&lt;/h3&gt;
    &lt;p&gt;&lt;strong&gt;æ¯”è¼ƒ:&lt;/strong&gt; ${number &gt; 40} (42 &gt; 40)&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ç­‰ä¾¡:&lt;/strong&gt; ${number == 42} (42 == 42)&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;æ–‡å­—åˆ—æ¯”è¼ƒ:&lt;/strong&gt; ${param.name == 'test'}&lt;/p&gt;
    
    &lt;h3&gt;ãƒ†ã‚¹ãƒˆç”¨ãƒªãƒ³ã‚¯&lt;/h3&gt;
    &lt;p&gt;&lt;a href="el-basic.jsp?name=å¤ªéƒ&amp;age=25"&gt;ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ãã§ã‚¢ã‚¯ã‚»ã‚¹&lt;/a&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>æœŸå¾…ã•ã‚Œã‚‹çµæœ</h6>
                        <p>
                            ELã‚’ä½¿ç”¨ã—ã¦ã•ã¾ã–ã¾ãªã‚¹ã‚³ãƒ¼ãƒ—ã®ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ç®—è¡“æ¼”ç®—ã‚„è«–ç†æ¼”ç®—ã‚‚å®Ÿè¡Œã§ãã¾ã™ã€‚
                            å¾“æ¥ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ¬ãƒƒãƒˆã¨æ¯”è¼ƒã—ã¦ã€ã‚³ãƒ¼ãƒ‰ãŒã‚ˆã‚Šç°¡æ½”ã§èª­ã¿ã‚„ã™ããªã‚Šã¾ã™ã€‚
                        </p>
                    </div>

                    <h3 class="section-title">8.2 æš—é»™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨EL</h3>
                    <p>
                        ELã§ã¯ã€JSPã®æš—é»™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ä»•çµ„ã¿ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚
                    </p>

                    <table>
                        <tr>
                            <th>æš—é»™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</th>
                            <th>èª¬æ˜</th>
                            <th>ä¾‹</th>
                        </tr>
                        <tr>
                            <td>param</td>
                            <td>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</td>
                            <td>${param.name}</td>
                        </tr>
                        <tr>
                            <td>paramValues</td>
                            <td>è¤‡æ•°å€¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</td>
                            <td>${paramValues.hobby[0]}</td>
                        </tr>
                        <tr>
                            <td>header</td>
                            <td>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼</td>
                            <td>${header['User-Agent']}</td>
                        </tr>
                        <tr>
                            <td>cookie</td>
                            <td>ã‚¯ãƒƒã‚­ãƒ¼</td>
                            <td>${cookie.sessionId.value}</td>
                        </tr>
                        <tr>
                            <td>pageContext</td>
                            <td>PageContextã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</td>
                            <td>${pageContext.request.method}</td>
                        </tr>
                    </table>

                    <h3 class="section-title">8.3 JSTLï¼ˆJSPæ¨™æº–ã‚¿ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ã®æ¦‚è¦</h3>
                    <p>
                        <strong>JSTLï¼ˆJSP Standard Tag Libraryï¼‰</strong>ã¯ã€
                        JSPã§ã‚ˆãä½¿ç”¨ã•ã‚Œã‚‹æ©Ÿèƒ½ï¼ˆæ¡ä»¶åˆ†å²ã€ç¹°ã‚Šè¿”ã—ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†ãªã©ï¼‰ã‚’
                        æ¨™æº–ã‚¿ã‚°ã¨ã—ã¦æä¾›ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
                    </p>

                    <div class="mermaid">
                        graph TD
                            A[JSTL] --> B[Core<br>æ¡ä»¶åˆ†å²ãƒ»ç¹°ã‚Šè¿”ã—]
                            A --> C[Format<br>æ—¥ä»˜ãƒ»æ•°å€¤æ›¸å¼]
                            A --> D[Functions<br>æ–‡å­—åˆ—æ“ä½œ]
                            A --> E[SQL<br>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹]
                    </div>

                    <h4 class="sub-section-title">8.3.1 JSTLã®è¨­å®šæ–¹æ³•</h4>
                    <p>JSTLã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®taglibãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’JSPãƒšãƒ¼ã‚¸ã«è¨˜è¿°ã—ã¾ã™ï¼š</p>
                    
                    <pre class="code-block"><code class="language-jsp">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %&gt;
&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;</code></pre>

                    <div class="alert alert-info">
                        <strong>æ³¨æ„ï¼š</strong> å®Ÿéš›ã®é–‹ç™ºç’°å¢ƒã§ã¯ã€JSTLãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆjstl.jarï¼‰ã‚’ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã«è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                        ã“ã®å­¦ç¿’æ•™æã§ã¯ã€åŸºæœ¬çš„ãªæ§‹æ–‡ã¨ä½¿ç”¨æ–¹æ³•ã‚’å­¦ç¿’ã™ã‚‹ã“ã¨ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ã„ã¾ã™ã€‚
                    </div>

                    <h3 class="section-title">8.4 JSTLã‚³ã‚¢ã‚¿ã‚°ã®åŸºæœ¬æ“ä½œ</h3>
                    
                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 8-2: JSTLæ¡ä»¶åˆ†å²ï¼ˆc:ifã€c:chooseï¼‰</h5>
                        <p>JSTLã®æ¡ä»¶åˆ†å²ã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                        
                        <h6>JSTLæ¡ä»¶åˆ†å²JSPï¼ˆjstl-conditional.jspï¼‰ã‚’ä½œæˆ</h6>
                        <pre class="code-block"><code class="language-jsp">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%
    // ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã®è¨­å®š
    request.setAttribute("score", 85);
    request.setAttribute("userName", "ç”°ä¸­å¤ªéƒ");
    session.setAttribute("isLoggedIn", true);
    session.setAttribute("userRole", "admin");
%&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;JSTLæ¡ä»¶åˆ†å²&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;JSTLæ¡ä»¶åˆ†å²ã®ä¾‹&lt;/h2&gt;
    
    &lt;h3&gt;c:ifã‚¿ã‚°ã®ä½¿ç”¨ä¾‹&lt;/h3&gt;
    &lt;p&gt;ã‚¹ã‚³ã‚¢: ${score}&lt;/p&gt;
    
    &lt;c:if test="${score &gt;= 80}"&gt;
        &lt;p style="color: green;"&gt;&lt;strong&gt;å„ªç§€ã§ã™ï¼åˆæ ¼ã§ã™ã€‚&lt;/strong&gt;&lt;/p&gt;
    &lt;/c:if&gt;
    
    &lt;c:if test="${score &lt; 60}"&gt;
        &lt;p style="color: red;"&gt;&lt;strong&gt;ä¸åˆæ ¼ã§ã™ã€‚å†è©¦é¨“ãŒå¿…è¦ã§ã™ã€‚&lt;/strong&gt;&lt;/p&gt;
    &lt;/c:if&gt;
    
    &lt;h3&gt;c:chooseã‚¿ã‚°ã®ä½¿ç”¨ä¾‹&lt;/h3&gt;
    &lt;p&gt;è©•ä¾¡çµæœ: 
    &lt;c:choose&gt;
        &lt;c:when test="${score &gt;= 90}"&gt;
            &lt;span style="color: blue;"&gt;Aï¼ˆå„ªç§€ï¼‰&lt;/span&gt;
        &lt;/c:when&gt;
        &lt;c:when test="${score &gt;= 80}"&gt;
            &lt;span style="color: green;"&gt;Bï¼ˆè‰¯å¥½ï¼‰&lt;/span&gt;
        &lt;/c:when&gt;
        &lt;c:when test="${score &gt;= 70}"&gt;
            &lt;span style="color: orange;"&gt;Cï¼ˆæ™®é€šï¼‰&lt;/span&gt;
        &lt;/c:when&gt;
        &lt;c:when test="${score &gt;= 60}"&gt;
            &lt;span style="color: red;"&gt;Dï¼ˆè¦æ”¹å–„ï¼‰&lt;/span&gt;
        &lt;/c:when&gt;
        &lt;c:otherwise&gt;
            &lt;span style="color: red;"&gt;Fï¼ˆä¸åˆæ ¼ï¼‰&lt;/span&gt;
        &lt;/c:otherwise&gt;
    &lt;/c:choose&gt;
    &lt;/p&gt;
    
    &lt;h3&gt;ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã«ã‚ˆã‚‹è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ&lt;/h3&gt;
    &lt;c:if test="${sessionScope.isLoggedIn}"&gt;
        &lt;div style="background-color: #e8f5e8; padding: 1rem; border-radius: 5px;"&gt;
            &lt;p&gt;ã‚ˆã†ã“ãã€${userName}ã•ã‚“ï¼&lt;/p&gt;
            
            &lt;c:choose&gt;
                &lt;c:when test="${sessionScope.userRole == 'admin'}"&gt;
                    &lt;p&gt;&lt;a href="#"&gt;ç®¡ç†è€…ãƒ¡ãƒ‹ãƒ¥ãƒ¼&lt;/a&gt;&lt;/p&gt;
                &lt;/c:when&gt;
                &lt;c:when test="${sessionScope.userRole == 'user'}"&gt;
                    &lt;p&gt;&lt;a href="#"&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼&lt;/a&gt;&lt;/p&gt;
                &lt;/c:when&gt;
                &lt;c:otherwise&gt;
                    &lt;p&gt;&lt;a href="#"&gt;åŸºæœ¬ãƒ¡ãƒ‹ãƒ¥ãƒ¼&lt;/a&gt;&lt;/p&gt;
                &lt;/c:otherwise&gt;
            &lt;/c:choose&gt;
        &lt;/div&gt;
    &lt;/c:if&gt;
    
    &lt;c:if test="${!sessionScope.isLoggedIn}"&gt;
        &lt;p&gt;&lt;a href="login.html"&gt;ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„&lt;/a&gt;&lt;/p&gt;
    &lt;/c:if&gt;
    
    &lt;h3&gt;ãƒ†ã‚¹ãƒˆç”¨ãƒªãƒ³ã‚¯&lt;/h3&gt;
    &lt;p&gt;
        &lt;a href="jstl-conditional.jsp?score=95"&gt;é«˜å¾—ç‚¹ã§ãƒ†ã‚¹ãƒˆ&lt;/a&gt; |
        &lt;a href="jstl-conditional.jsp?score=75"&gt;ä¸­ç¨‹åº¦ã§ãƒ†ã‚¹ãƒˆ&lt;/a&gt; |
        &lt;a href="jstl-conditional.jsp?score=45"&gt;ä½å¾—ç‚¹ã§ãƒ†ã‚¹ãƒˆ&lt;/a&gt;
    &lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>æœŸå¾…ã•ã‚Œã‚‹çµæœ</h6>
                        <p>
                            ã‚¹ã‚³ã‚¢ã«å¿œã˜ã¦ç•°ãªã‚‹è©•ä¾¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚„æ¨©é™ã«å¿œã˜ã¦è¡¨ç¤ºå†…å®¹ãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚
                            å¾“æ¥ã®ifæ–‡ã‚„switchæ–‡ã¨æ¯”è¼ƒã—ã¦ã€HTMLã«æ··åœ¨ã•ã›ã‚„ã™ã„è¨˜æ³•ã¨ãªã£ã¦ã„ã¾ã™ã€‚
                        </p>
                    </div>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 8-3: JSTLç¹°ã‚Šè¿”ã—å‡¦ç†ï¼ˆc:forEachï¼‰</h5>
                        <p>JSTLã®ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ãƒªã‚¹ãƒˆã‚„é…åˆ—ã‚’è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                        
                        <h6>JSTLç¹°ã‚Šè¿”ã—å‡¦ç†JSPï¼ˆjstl-loop.jspï¼‰ã‚’ä½œæˆ</h6>
                        <pre class="code-block"><code class="language-jsp">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page import="java.util.*" %&gt;
&lt;%
    // ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã®è¨­å®š
    List&lt;String&gt; fruits = Arrays.asList("ã‚Šã‚“ã”", "ãƒãƒŠãƒŠ", "ã‚ªãƒ¬ãƒ³ã‚¸", "ã¶ã©ã†", "ã„ã¡ã”");
    request.setAttribute("fruits", fruits);
    
    // å•†å“æƒ…å ±ã®ãƒªã‚¹ãƒˆ
    List&lt;Map&lt;String, Object&gt;&gt; products = new ArrayList&lt;&gt;();
    
    Map&lt;String, Object&gt; product1 = new HashMap&lt;&gt;();
    product1.put("id", "P001");
    product1.put("name", "ãƒãƒ¼ãƒˆãƒ‘ã‚½ã‚³ãƒ³");
    product1.put("price", 89800);
    product1.put("stock", 5);
    products.add(product1);
    
    Map&lt;String, Object&gt; product2 = new HashMap&lt;&gt;();
    product2.put("id", "P002");
    product2.put("name", "ãƒã‚¦ã‚¹");
    product2.put("price", 2980);
    product2.put("stock", 20);
    products.add(product2);
    
    Map&lt;String, Object&gt; product3 = new HashMap&lt;&gt;();
    product3.put("id", "P003");
    product3.put("name", "ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰");
    product3.put("price", 8500);
    product3.put("stock", 0);
    products.add(product3);
    
    request.setAttribute("products", products);
%&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;JSTLç¹°ã‚Šè¿”ã—å‡¦ç†&lt;/title&gt;
    &lt;style&gt;
        table { border-collapse: collapse; width: 100%; margin: 1rem 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f57c00; color: white; }
        .out-of-stock { background-color: #ffebee; }
        .low-stock { background-color: #fff3e0; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;JSTLç¹°ã‚Šè¿”ã—å‡¦ç†ã®ä¾‹&lt;/h2&gt;
    
    &lt;h3&gt;åŸºæœ¬çš„ãªç¹°ã‚Šè¿”ã—ï¼ˆãƒªã‚¹ãƒˆè¡¨ç¤ºï¼‰&lt;/h3&gt;
    &lt;ul&gt;
    &lt;c:forEach var="fruit" items="${fruits}"&gt;
        &lt;li&gt;${fruit}&lt;/li&gt;
    &lt;/c:forEach&gt;
    &lt;/ul&gt;
    
    &lt;h3&gt;ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ãç¹°ã‚Šè¿”ã—&lt;/h3&gt;
    &lt;ol&gt;
    &lt;c:forEach var="fruit" items="${fruits}" varStatus="status"&gt;
        &lt;li&gt;${status.index + 1}ç•ªç›®: ${fruit} 
            &lt;c:if test="${status.first}"&gt;(æœ€åˆ)&lt;/c:if&gt;
            &lt;c:if test="${status.last}"&gt;(æœ€å¾Œ)&lt;/c:if&gt;
        &lt;/li&gt;
    &lt;/c:forEach&gt;
    &lt;/ol&gt;
    
    &lt;h3&gt;ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§ã®å•†å“ä¸€è¦§è¡¨ç¤º&lt;/h3&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;th&gt;No.&lt;/th&gt;
            &lt;th&gt;å•†å“ID&lt;/th&gt;
            &lt;th&gt;å•†å“å&lt;/th&gt;
            &lt;th&gt;ä¾¡æ ¼&lt;/th&gt;
            &lt;th&gt;åœ¨åº«æ•°&lt;/th&gt;
            &lt;th&gt;çŠ¶æ…‹&lt;/th&gt;
        &lt;/tr&gt;
        &lt;c:forEach var="product" items="${products}" varStatus="status"&gt;
            &lt;tr class="&lt;c:if test='${product.stock == 0}'&gt;out-of-stock&lt;/c:if&gt;&lt;c:if test='${product.stock &gt; 0 &amp;&amp; product.stock &lt; 10}'&gt;low-stock&lt;/c:if&gt;"&gt;
                &lt;td&gt;${status.count}&lt;/td&gt;
                &lt;td&gt;${product.id}&lt;/td&gt;
                &lt;td&gt;${product.name}&lt;/td&gt;
                &lt;td&gt;ï¿¥${product.price}&lt;/td&gt;
                &lt;td&gt;${product.stock}&lt;/td&gt;
                &lt;td&gt;
                    &lt;c:choose&gt;
                        &lt;c:when test="${product.stock == 0}"&gt;
                            &lt;span style="color: red;"&gt;åœ¨åº«åˆ‡ã‚Œ&lt;/span&gt;
                        &lt;/c:when&gt;
                        &lt;c:when test="${product.stock &lt; 10}"&gt;
                            &lt;span style="color: orange;"&gt;åœ¨åº«å°‘&lt;/span&gt;
                        &lt;/c:when&gt;
                        &lt;c:otherwise&gt;
                            &lt;span style="color: green;"&gt;åœ¨åº«ã‚ã‚Š&lt;/span&gt;
                        &lt;/c:otherwise&gt;
                    &lt;/c:choose&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
        &lt;/c:forEach&gt;
    &lt;/table&gt;
    
    &lt;h3&gt;æ•°å€¤ç¯„å›²ã§ã®ç¹°ã‚Šè¿”ã—&lt;/h3&gt;
    &lt;p&gt;1ã‹ã‚‰10ã¾ã§ã®æ•°å€¤:&lt;/p&gt;
    &lt;ul&gt;
    &lt;c:forEach var="i" begin="1" end="10"&gt;
        &lt;li&gt;${i}
            &lt;c:if test="${i % 2 == 0}"&gt;ï¼ˆå¶æ•°ï¼‰&lt;/c:if&gt;
            &lt;c:if test="${i % 2 == 1}"&gt;ï¼ˆå¥‡æ•°ï¼‰&lt;/c:if&gt;
        &lt;/li&gt;
    &lt;/c:forEach&gt;
    &lt;/ul&gt;
    
    &lt;h3&gt;ã‚¹ãƒ†ãƒƒãƒ—æŒ‡å®šã§ã®ç¹°ã‚Šè¿”ã—&lt;/h3&gt;
    &lt;p&gt;2ã®å€æ•°ï¼ˆ2ã‹ã‚‰20ã¾ã§ï¼‰:&lt;/p&gt;
    &lt;ul&gt;
    &lt;c:forEach var="i" begin="2" end="20" step="2"&gt;
        &lt;li&gt;${i}&lt;/li&gt;
    &lt;/c:forEach&gt;
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>æœŸå¾…ã•ã‚Œã‚‹çµæœ</h6>
                        <p>
                            ãƒªã‚¹ãƒˆã‚„é…åˆ—ã®ç¹°ã‚Šè¿”ã—è¡¨ç¤ºã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æƒ…å ±ã®å–å¾—ã€æ¡ä»¶ã«å¿œã˜ãŸè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆãªã©ãŒå®Ÿç¾ã§ãã¾ã™ã€‚
                            åœ¨åº«çŠ¶æ³ã«å¿œã˜ãŸèƒŒæ™¯è‰²ã®å¤‰æ›´ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚
                        </p>
                    </div>

                    <h3 class="section-title">8.5 JSTLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¿ã‚°ã®æ´»ç”¨</h3>
                    <p>
                        JSTLã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¿ã‚°ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€æ—¥ä»˜ã‚„æ•°å€¤ã®è¡¨ç¤ºå½¢å¼ã‚’ç°¡å˜ã«åˆ¶å¾¡ã§ãã¾ã™ã€‚
                    </p>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 8-4: JSTLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†</h5>
                        <p>æ—¥ä»˜ã‚„æ•°å€¤ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†ã‚’å­¦ç¿’ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                        
                        <h6>JSTLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†JSPï¼ˆjstl-format.jspï¼‰ã‚’ä½œæˆ</h6>
                        <pre class="code-block"><code class="language-jsp">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %&gt;
&lt;%
    // ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã®è¨­å®š
    request.setAttribute("currentDate", new java.util.Date());
    request.setAttribute("price", 123456.789);
    request.setAttribute("discount", 0.15);
    request.setAttribute("largeNumber", 1234567890);
%&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;JSTLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;JSTLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†ã®ä¾‹&lt;/h2&gt;
    
    &lt;h3&gt;æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ&lt;/h3&gt;
    &lt;p&gt;&lt;strong&gt;ç”Ÿãƒ‡ãƒ¼ã‚¿:&lt;/strong&gt; ${currentDate}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;æ—¥ä»˜ã®ã¿:&lt;/strong&gt; &lt;fmt:formatDate value="${currentDate}" type="date" /&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;æ™‚åˆ»ã®ã¿:&lt;/strong&gt; &lt;fmt:formatDate value="${currentDate}" type="time" /&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;æ—¥ä»˜+æ™‚åˆ»:&lt;/strong&gt; &lt;fmt:formatDate value="${currentDate}" type="both" /&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:&lt;/strong&gt; &lt;fmt:formatDate value="${currentDate}" pattern="yyyyå¹´MMæœˆddæ—¥ HH:mm:ss" /&gt;&lt;/p&gt;
    
    &lt;h3&gt;æ•°å€¤ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ&lt;/h3&gt;
    &lt;p&gt;&lt;strong&gt;ç”Ÿãƒ‡ãƒ¼ã‚¿:&lt;/strong&gt; ${price}&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;é€šè²¨å½¢å¼:&lt;/strong&gt; &lt;fmt:formatNumber value="${price}" type="currency" /&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ:&lt;/strong&gt; &lt;fmt:formatNumber value="${discount}" type="percent" /&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;3æ¡åŒºåˆ‡ã‚Š:&lt;/strong&gt; &lt;fmt:formatNumber value="${largeNumber}" groupingUsed="true" /&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;å°æ•°ç‚¹2æ¡:&lt;/strong&gt; &lt;fmt:formatNumber value="${price}" maxFractionDigits="2" /&gt;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;ãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®š:&lt;/strong&gt; &lt;fmt:formatNumber value="${price}" pattern="#,##0.00å††" /&gt;&lt;/p&gt;
    
    &lt;h3&gt;è¨ˆç®—ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®çµ„ã¿åˆã‚ã›&lt;/h3&gt;
    &lt;c:set var="originalPrice" value="10000" /&gt;
    &lt;c:set var="discountRate" value="0.2" /&gt;
    &lt;c:set var="discountedPrice" value="${originalPrice * (1 - discountRate)}" /&gt;
    
    &lt;table style="border-collapse: collapse; margin: 1rem 0;"&gt;
        &lt;tr style="border: 1px solid #ddd;"&gt;
            &lt;td style="padding: 8px; border: 1px solid #ddd;"&gt;&lt;strong&gt;å…ƒä¾¡æ ¼:&lt;/strong&gt;&lt;/td&gt;
            &lt;td style="padding: 8px; border: 1px solid #ddd;"&gt;&lt;fmt:formatNumber value="${originalPrice}" type="currency" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr style="border: 1px solid #ddd;"&gt;
            &lt;td style="padding: 8px; border: 1px solid #ddd;"&gt;&lt;strong&gt;å‰²å¼•ç‡:&lt;/strong&gt;&lt;/td&gt;
            &lt;td style="padding: 8px; border: 1px solid #ddd;"&gt;&lt;fmt:formatNumber value="${discountRate}" type="percent" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr style="border: 1px solid #ddd;"&gt;
            &lt;td style="padding: 8px; border: 1px solid #ddd;"&gt;&lt;strong&gt;å‰²å¼•ä¾¡æ ¼:&lt;/strong&gt;&lt;/td&gt;
            &lt;td style="padding: 8px; border: 1px solid #ddd; color: red;"&gt;&lt;fmt:formatNumber value="${discountedPrice}" type="currency" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr style="border: 1px solid #ddd;"&gt;
            &lt;td style="padding: 8px; border: 1px solid #ddd;"&gt;&lt;strong&gt;ç¯€ç´„é¡:&lt;/strong&gt;&lt;/td&gt;
            &lt;td style="padding: 8px; border: 1px solid #ddd; color: green;"&gt;&lt;fmt:formatNumber value="${originalPrice - discountedPrice}" type="currency" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
    
    &lt;h3&gt;æ¡ä»¶ä»˜ããƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¡¨ç¤º&lt;/h3&gt;
    &lt;c:forEach var="i" begin="1" end="5"&gt;
        &lt;c:set var="salesAmount" value="${i * 50000 + (i * 1000)}" /&gt;
        &lt;p&gt;${i}æœˆã®å£²ä¸Š: &lt;fmt:formatNumber value="${salesAmount}" type="currency" /&gt;
        &lt;c:if test="${salesAmount &gt; 200000}"&gt;
            &lt;span style="color: green; font-weight: bold;"&gt; ğŸ‰ ç›®æ¨™é”æˆï¼&lt;/span&gt;
        &lt;/c:if&gt;
        &lt;/p&gt;
    &lt;/c:forEach&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>æœŸå¾…ã•ã‚Œã‚‹çµæœ</h6>
                        <p>
                            æ—¥ä»˜ã‚„æ•°å€¤ãŒé©åˆ‡ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã€è¨ˆç®—çµæœã‚‚æ•´å½¢ã•ã‚ŒãŸå½¢ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                            é€šè²¨è¡¨ç¤ºã€ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆè¡¨ç¤ºã€ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã®è¡¨ç¤ºãŒç¢ºèªã§ãã¾ã™ã€‚
                        </p>
                    </div>

                    <h3 class="section-title">8.6 ELã¨JSTLã®å®Ÿè·µçš„ãªçµ„ã¿åˆã‚ã›</h3>
                    
                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 8-5: å®Ÿè·µçš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢</h5>
                        <p>ELã¨JSTLã‚’çµ„ã¿åˆã‚ã›ã¦ã€å®Ÿç”¨çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
                        
                        <h6>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ï¼ˆuser-management.jspï¼‰ã‚’ä½œæˆ</h6>
                        <pre class="code-block"><code class="language-jsp">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %&gt;
&lt;%@ page import="java.util.*, java.text.*" %&gt;
&lt;%
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆï¼ˆå®Ÿéš›ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å–å¾—ï¼‰
    List&lt;Map&lt;String, Object&gt;&gt; users = new ArrayList&lt;&gt;();
    
    Map&lt;String, Object&gt; user1 = new HashMap&lt;&gt;();
    user1.put("id", 1);
    user1.put("name", "ç”°ä¸­å¤ªéƒ");
    user1.put("email", "tanaka@example.com");
    user1.put("role", "admin");
    user1.put("lastLogin", new Date(System.currentTimeMillis() - 3600000)); // 1æ™‚é–“å‰
    user1.put("isActive", true);
    users.add(user1);
    
    Map&lt;String, Object&gt; user2 = new HashMap&lt;&gt;();
    user2.put("id", 2);
    user2.put("name", "ä½è—¤èŠ±å­");
    user2.put("email", "sato@example.com");
    user2.put("role", "user");
    user2.put("lastLogin", new Date(System.currentTimeMillis() - 86400000 * 3)); // 3æ—¥å‰
    user2.put("isActive", true);
    users.add(user2);
    
    Map&lt;String, Object&gt; user3 = new HashMap&lt;&gt;();
    user3.put("id", 3);
    user3.put("name", "å±±ç”°æ¬¡éƒ");
    user3.put("email", "yamada@example.com");
    user3.put("role", "user");
    user3.put("lastLogin", new Date(System.currentTimeMillis() - 86400000 * 30)); // 30æ—¥å‰
    user3.put("isActive", false);
    users.add(user3);
    
    Map&lt;String, Object&gt; user4 = new HashMap&lt;&gt;();
    user4.put("id", 4);
    user4.put("name", "éˆ´æœ¨ä¸€éƒ");
    user4.put("email", "suzuki@example.com");
    user4.put("role", "manager");
    user4.put("lastLogin", new Date(System.currentTimeMillis() - 7200000)); // 2æ™‚é–“å‰
    user4.put("isActive", true);
    users.add(user4);
    
    request.setAttribute("users", users);
    
    // çµ±è¨ˆæƒ…å ±ã®è¨ˆç®—
    int totalUsers = users.size();
    int activeUsers = 0;
    int adminUsers = 0;
    
    for (Map&lt;String, Object&gt; user : users) {
        if ((Boolean) user.get("isActive")) activeUsers++;
        if ("admin".equals(user.get("role")) || "manager".equals(user.get("role"))) adminUsers++;
    }
    
    request.setAttribute("totalUsers", totalUsers);
    request.setAttribute("activeUsers", activeUsers);
    request.setAttribute("adminUsers", adminUsers);
%&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢&lt;/title&gt;
    &lt;style&gt;
        body { font-family: Arial, sans-serif; margin: 2rem; }
        .stats { display: flex; gap: 1rem; margin-bottom: 2rem; }
        .stat-card { background: #f5f5f5; padding: 1rem; border-radius: 5px; text-align: center; flex: 1; }
        .stat-number { font-size: 2rem; font-weight: bold; color: #f57c00; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #f57c00; color: white; }
        .inactive { background-color: #ffebee; }
        .recent-login { color: green; font-weight: bold; }
        .old-login { color: red; }
        .role-admin { background-color: #e3f2fd; font-weight: bold; }
        .role-manager { background-color: #f3e5f5; font-weight: bold; }
        .role-user { background-color: #e8f5e8; }
        .action-buttons a { margin-right: 0.5rem; text-decoration: none; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢&lt;/h1&gt;
    
    &lt;!-- çµ±è¨ˆæƒ…å ± --&gt;
    &lt;div class="stats"&gt;
        &lt;div class="stat-card"&gt;
            &lt;div class="stat-number"&gt;${totalUsers}&lt;/div&gt;
            &lt;div&gt;ç·ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="stat-card"&gt;
            &lt;div class="stat-number"&gt;${activeUsers}&lt;/div&gt;
            &lt;div&gt;ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="stat-card"&gt;
            &lt;div class="stat-number"&gt;${adminUsers}&lt;/div&gt;
            &lt;div&gt;ç®¡ç†è€…ãƒ»ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="stat-card"&gt;
            &lt;div class="stat-number"&gt;&lt;fmt:formatNumber value="${(activeUsers / totalUsers) * 100}" maxFractionDigits="1" /&gt;%&lt;/div&gt;
            &lt;div&gt;ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç‡&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ« --&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;th&gt;ID&lt;/th&gt;
            &lt;th&gt;åå‰&lt;/th&gt;
            &lt;th&gt;ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹&lt;/th&gt;
            &lt;th&gt;æ¨©é™&lt;/th&gt;
            &lt;th&gt;æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³&lt;/th&gt;
            &lt;th&gt;çŠ¶æ…‹&lt;/th&gt;
            &lt;th&gt;æ“ä½œ&lt;/th&gt;
        &lt;/tr&gt;
        
        &lt;c:forEach var="user" items="${users}" varStatus="status"&gt;
            &lt;c:set var="daysSinceLogin" value="${(System.currentTimeMillis() - user.lastLogin.time) / (1000 * 60 * 60 * 24)}" /&gt;
            
            &lt;tr class="&lt;c:if test='${!user.isActive}'&gt;inactive&lt;/c:if&gt;"&gt;
                &lt;td&gt;${user.id}&lt;/td&gt;
                &lt;td&gt;${user.name}&lt;/td&gt;
                &lt;td&gt;&lt;a href="mailto:${user.email}"&gt;${user.email}&lt;/a&gt;&lt;/td&gt;
                &lt;td class="role-${user.role}"&gt;
                    &lt;c:choose&gt;
                        &lt;c:when test="${user.role == 'admin'}"&gt;
                            ğŸ‘‘ ç®¡ç†è€…
                        &lt;/c:when&gt;
                        &lt;c:when test="${user.role == 'manager'}"&gt;
                            ğŸ¢ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
                        &lt;/c:when&gt;
                        &lt;c:otherwise&gt;
                            ğŸ‘¤ ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼
                        &lt;/c:otherwise&gt;
                    &lt;/c:choose&gt;
                &lt;/td&gt;
                &lt;td&gt;
                    &lt;fmt:formatDate value="${user.lastLogin}" pattern="yyyy/MM/dd HH:mm" /&gt;
                    &lt;br&gt;
                    &lt;small class="&lt;c:choose&gt;&lt;c:when test='${daysSinceLogin &lt; 1}'&gt;recent-login&lt;/c:when&gt;&lt;c:when test='${daysSinceLogin &gt; 7}'&gt;old-login&lt;/c:when&gt;&lt;/c:choose&gt;"&gt;
                        (&lt;fmt:formatNumber value="${daysSinceLogin}" maxFractionDigits="0" /&gt;æ—¥å‰)
                    &lt;/small&gt;
                &lt;/td&gt;
                &lt;td&gt;
                    &lt;c:choose&gt;
                        &lt;c:when test="${user.isActive}"&gt;
                            &lt;span style="color: green;"&gt;âœ… ã‚¢ã‚¯ãƒ†ã‚£ãƒ–&lt;/span&gt;
                        &lt;/c:when&gt;
                        &lt;c:otherwise&gt;
                            &lt;span style="color: red;"&gt;âŒ ç„¡åŠ¹&lt;/span&gt;
                        &lt;/c:otherwise&gt;
                    &lt;/c:choose&gt;
                &lt;/td&gt;
                &lt;td class="action-buttons"&gt;
                    &lt;a href="#" style="color: blue;"&gt;âœï¸ ç·¨é›†&lt;/a&gt;
                    &lt;c:choose&gt;
                        &lt;c:when test="${user.isActive}"&gt;
                            &lt;a href="#" style="color: orange;"&gt;â¸ï¸ ç„¡åŠ¹åŒ–&lt;/a&gt;
                        &lt;/c:when&gt;
                        &lt;c:otherwise&gt;
                            &lt;a href="#" style="color: green;"&gt;â–¶ï¸ æœ‰åŠ¹åŒ–&lt;/a&gt;
                        &lt;/c:otherwise&gt;
                    &lt;/c:choose&gt;
                    &lt;a href="#" style="color: red;"&gt;ğŸ—‘ï¸ å‰Šé™¤&lt;/a&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
        &lt;/c:forEach&gt;
    &lt;/table&gt;
    
    &lt;!-- ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º --&gt;
    &lt;h3&gt;ã‚¢ãƒ©ãƒ¼ãƒˆ&lt;/h3&gt;
    &lt;div&gt;
        &lt;c:set var="alertCount" value="0" /&gt;
        
        &lt;c:forEach var="user" items="${users}"&gt;
            &lt;c:set var="daysSinceLogin" value="${(System.currentTimeMillis() - user.lastLogin.time) / (1000 * 60 * 60 * 24)}" /&gt;
            &lt;c:if test="${user.isActive && daysSinceLogin > 30}"&gt;
                &lt;div style="background-color: #fff3e0; padding: 0.5rem; margin: 0.5rem 0; border-left: 4px solid orange;"&gt;
                    âš ï¸ ${user.name}ã•ã‚“ãŒ30æ—¥ä»¥ä¸Šãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã¾ã›ã‚“ã€‚
                &lt;/div&gt;
                &lt;c:set var="alertCount" value="${alertCount + 1}" /&gt;
            &lt;/c:if&gt;
        &lt;/c:forEach&gt;
        
        &lt;c:if test="${alertCount == 0}"&gt;
            &lt;p style="color: green;"&gt;âœ… ç¾åœ¨ã€æ³¨æ„ãŒå¿…è¦ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã„ã¾ã›ã‚“ã€‚&lt;/p&gt;
        &lt;/c:if&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>æœŸå¾…ã•ã‚Œã‚‹çµæœ</h6>
                        <p>
                            å®Ÿç”¨çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚çµ±è¨ˆæƒ…å ±ã€æ¡ä»¶ã«å¿œã˜ãŸè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆã€
                            æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½ãªã©ã€ELã¨JSTLã‚’çµ„ã¿åˆã‚ã›ãŸå®Ÿè·µçš„ãªæ©Ÿèƒ½ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚
                        </p>
                    </div>

                    <div class="quiz-container">
                        <h5>ç†è§£åº¦ç¢ºèªã‚¯ã‚¤ã‚º</h5>
                        <ol>
                            <li>ELã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€Œnameã€ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ§‹æ–‡ã¯ï¼Ÿ</li>
                            <li>JSTLã§æ¡ä»¶åˆ†å²ã‚’è¡Œã†2ã¤ã®ã‚¿ã‚°ã¯ä½•ã§ã™ã‹ï¼Ÿ</li>
                            <li>c:forEachã‚¿ã‚°ã§ãƒ«ãƒ¼ãƒ—çŠ¶æ…‹æƒ…å ±ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹å±æ€§ã¯ä½•ã§ã™ã‹ï¼Ÿ</li>
                            <li>æ—¥ä»˜ã‚’ã€Œyyyyå¹´MMæœˆddæ—¥ã€å½¢å¼ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹JSTLã‚¿ã‚°ã¯ï¼Ÿ</li>
                            <li>ELã¨JSTLã‚’ä½¿ç”¨ã™ã‚‹æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆã‚’2ã¤æŒ™ã’ã¦ãã ã•ã„ã€‚</li>
                        </ol>
                        
                        <details>
                            <summary>è§£ç­”ä¾‹</summary>
                            <ol>
                                <li>${param.name}</li>
                                <li>c:ifã‚¿ã‚°ã¨c:chooseã‚¿ã‚°ï¼ˆc:whenã€c:otherwiseï¼‰</li>
                                <li>varStatuså±æ€§</li>
                                <li>&lt;fmt:formatDate value="${date}" pattern="yyyyå¹´MMæœˆddæ—¥" /&gt;</li>
                                <li>
                                    ãƒ»JSPãƒšãƒ¼ã‚¸ã‹ã‚‰Javaã‚³ãƒ¼ãƒ‰ã‚’æ’é™¤ã§ãã‚‹<br>
                                    ãƒ»HTMLãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã§ã‚‚ç†è§£ã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹
                                </li>
                            </ol>
                        </details>
                    </div>

                    <div class="highlight">
                        <h5>ã¾ã¨ã‚</h5>
                        <p>ã“ã®ç« ã§ã¯ã€ELï¼ˆå¼è¨€èªï¼‰ã¨JSTLã«ã¤ã„ã¦å­¦ç¿’ã—ã¾ã—ãŸã€‚</p>
                        <ul>
                            <li>ELã®åŸºæœ¬æ§‹æ–‡ã¨ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•</li>
                            <li>JSTLã‚³ã‚¢ã‚¿ã‚°ã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²ã¨ç¹°ã‚Šè¿”ã—å‡¦ç†</li>
                            <li>JSTLãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¿ã‚°ã«ã‚ˆã‚‹æ—¥ä»˜ãƒ»æ•°å€¤ã®è¡¨ç¤ºæ•´å½¢</li>
                            <li>ELã¨JSTLã‚’çµ„ã¿åˆã‚ã›ãŸå®Ÿè·µçš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º</li>
                            <li>å¾“æ¥ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ¬ãƒƒãƒˆã‹ã‚‰ã®è„±å´ã¨ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§å‘ä¸Š</li>
                        </ul>
                        <p>æ¬¡ã®ç« ã§ã¯ã€ã“ã‚Œã¾ã§å­¦ã‚“ã æŠ€è¡“ã‚’çµ±åˆã—ã¦ã€ç°¡æ˜“Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã—ã¾ã™ã€‚</p>
                    </div>

                    <!-- Navigation -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="jsp-learning-material-7.html" class="btn btn-secondary">&larr; å‰ã®ç« </a>
                        <a href="jsp-learning-material-9.html" class="btn btn-primary">æ¬¡ã®ç«  &rarr;</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2025 F-Circle All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js åˆæœŸåŒ– -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js åˆæœŸåŒ– -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>