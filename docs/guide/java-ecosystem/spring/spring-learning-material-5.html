<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring学習教材 第5章 - データベース連携（Spring Data JDBC）</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- カスタムCSS -->
    <style>
        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ナビゲーション */
        .navbar {
            background-color: #4caf50;
        }

        /* サイドバー */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        /* タイトル */
        .chapter-title {
            color: #4caf50;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #4caf50;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #66bb6a;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* コンテンツボックス */
        .quiz-container {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #4caf50;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        /* コードハイライト */
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* ナビゲーション */
        .nav-link.active {
            background-color: #4caf50 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>Spring学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-1.html">
                                第1章: JavaとWebの基礎理解
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-2.html">
                                第2章: Spring Bootの導入と開発環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-3.html">
                                第3章: Spring Bootの基本構成とDI
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-4.html">
                                第4章: Webアプリケーション開発の基礎（MVC）
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="spring-learning-material-5.html">
                                第5章: データベース連携（Spring Data JDBC）
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-6.html">
                                第6章: 入力バリデーションとエラーハンドリング
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-7.html">
                                第7章: Spring Securityによる認証・認可
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-8.html">
                                第8章: Spring MVCのテスト
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-9.html">
                                第9章: Todoアプリケーション開発
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-10.html">
                                第10章: さらに一歩進んだSpring開発へ①
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-11.html">
                                第11章: さらに一歩進んだSpring開発へ②
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="spring-learning-material-ex-1.html">
                                補足①: Spring Data JPA入門
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- 章ヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第5章: データベース連携（Spring Data JDBC）</h1>
                </div>

                <div id="chapter5">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">Spring Data JDBCによるデータベース操作</h2>
                    
                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>リレーショナルデータベース（RDB）の基本概念</li>
                            <li>Spring Data JDBCの特徴と利点</li>
                            <li>データベース接続設定の方法</li>
                            <li>エンティティクラスの作成と@Tableアノテーション</li>
                            <li>リポジトリ（Repository）パターンの理解</li>
                            <li>CRUD操作（Create、Read、Update、Delete）の実装</li>
                        </ul>
                    </div>

                    <!-- セクション5.1 -->
                    <h3 class="section-title">5.1 リレーショナルデータベース（RDB）とは</h3>
                    <p>
                        <strong>リレーショナルデータベース</strong>は、データを表（テーブル）形式で管理するデータベース管理システムです。各テーブルは行（レコード）と列（カラム）で構成され、テーブル同士の関係（リレーション）を定義することで、複雑なデータ構造を表現できます。
                    </p>

                    <div class="highlight">
                        <h6>RDBの主要概念</h6>
                        <ul>
                            <li><strong>テーブル</strong>: データを格納する表構造</li>
                            <li><strong>レコード（行）</strong>: 一つのデータエントリ</li>
                            <li><strong>カラム（列）</strong>: データの属性や項目</li>
                            <li><strong>プライマリキー</strong>: レコードを一意に識別する値</li>
                            <li><strong>外部キー</strong>: 他のテーブルとの関係を表すキー</li>
                        </ul>
                    </div>

                    <div class="mermaid">
                        erDiagram
                            users {
                                int id PK
                                string name
                                string email
                                date created_at
                            }
                            
                            posts {
                                int id PK
                                string title
                                text content
                                int user_id FK
                                date created_at
                            }
                            
                            users ||--o{ posts : "1人のユーザーは複数の投稿を持つ"
                    </div>

                    <p>
                        上図のような関係により、データの正規化（重複の排除）と整合性の維持が可能になります。Webアプリケーションでは、このようなRDBにアクセスしてデータの永続化を行います。
                    </p>

                    <!-- セクション5.2 -->
                    <h3 class="section-title">5.2 Spring Data JDBCの特徴</h3>
                    <p>
                        <strong>Spring Data JDBC</strong>は、Spring Frameworkが提供するデータアクセス技術の一つです。JPA（Java Persistence API）よりもシンプルで軽量な代替手段として設計されており、SQLを直接制御したい場面で特に有効です。
                    </p>

                    <div class="highlight">
                        <h6>Spring Data JDBCの特徴</h6>
                        <ul>
                            <li><strong>シンプル</strong>: 複雑な設定やアノテーションが不要</li>
                            <li><strong>透明性</strong>: 実行されるSQLが予測しやすい</li>
                            <li><strong>パフォーマンス</strong>: オーバーヘッドが少なく高速</li>
                            <li><strong>制御性</strong>: SQLクエリを直接書くことができる</li>
                        </ul>
                    </div>

                    <div class="mermaid">
                        flowchart TD
                            A["Spring Data JDBC"] --> B["Repository インターフェース"]
                            B --> C["自動生成されるCRUD操作"]
                            B --> D["カスタムクエリメソッド"]
                            C --> E["データベース"]
                            D --> E
                            
                            F["エンティティクラス"] --> G["@Table アノテーション"]
                            G --> H["テーブルマッピング"]
                            H --> E
                    </div>

                    <!-- セクション5.3 -->
                    <h3 class="section-title">5.3 データベース接続設定</h3>
                    <p>
                        Spring Bootでデータベースに接続するには、<code>application.yml</code>（または<code>application.properties</code>）でデータソースの設定を行います。ここではPostgreSQLを例に説明します。
                    </p>

                    <pre class="code-block"><code class="language-bash"># build.gradleに必要な依存関係を追加
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'
    runtimeOnly 'org.postgresql:postgresql'
    // 開発・テスト用にH2データベースも追加
    runtimeOnly 'com.h2database:h2'
}</code></pre>

                    <pre class="code-block"><code class="language-ini"># application.yml - データベース接続設定
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/myapp_db
    username: myapp_user
    password: myapp_password
    driver-class-name: org.postgresql.Driver
  
  # 開発時のSQL実行ログ出力
  sql:
    init:
      mode: always
  jpa:
    show-sql: true
    
# 開発プロファイル用H2データベース設定
---
spring:
  config:
    activate:
      on-profile: dev
  datasource:
    url: jdbc:h2:mem:testdb
    username: sa
    password:
    driver-class-name: org.h2.Driver
  h2:
    console:
      enabled: true</code></pre>

                    <div class="highlight">
                        <h6>接続プールとは</h6>
                        <p>
                            データベース接続は時間とリソースを消費するため、接続プールを使用して接続を再利用します。Spring Bootでは<strong>HikariCP</strong>が標準的な接続プールとして使用され、自動的に設定されます。
                        </p>
                    </div>

                    <!-- セクション5.4 -->
                    <h3 class="section-title">5.4 エンティティクラスの作成</h3>
                    <p>
                        <strong>エンティティクラス</strong>は、データベースのテーブルとJavaオブジェクトをマッピングするクラスです。Spring Data JDBCでは、<code>@Table</code>と<code>@Id</code>アノテーションを使用してマッピングを定義します。
                    </p>

                    <pre class="code-block"><code class="language-java">package com.example.demo.entity;

import org.springframework.data.annotation.Id;
import org.springframework.data.relational.core.mapping.Table;

import java.time.LocalDateTime;

@Table("users")  // データベースのテーブル名を指定
public class User {
    
    @Id  // プライマリキーを示す
    private Long id;
    
    private String name;
    private String email;
    private LocalDateTime createdAt;
    
    // デフォルトコンストラクタ（必須）
    public User() {}
    
    // コンストラクタ
    public User(String name, String email) {
        this.name = name;
        this.email = email;
        this.createdAt = LocalDateTime.now();
    }
    
    // Getter/Setter
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }
    
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
    
    public LocalDateTime getCreatedAt() { return createdAt; }
    public void setCreatedAt(LocalDateTime createdAt) { this.createdAt = createdAt; }
}</code></pre>

                    <div class="warning">
                        <h6>エンティティクラス作成時の注意点</h6>
                        <ul>
                            <li>デフォルトコンストラクタが必要</li>
                            <li>すべてのフィールドにGetter/Setterが必要</li>
                            <li>@Idアノテーションは必須</li>
                            <li>テーブル名とクラス名が異なる場合は@Tableで指定</li>
                        </ul>
                    </div>

                    <!-- 実習5-1 -->
                    <div class="exercise-container">
                        <h5>実習 5-1: データベーステーブルの作成</h5>
                        <p>ユーザー情報を格納するテーブルを作成し、Spring Data JDBCでアクセスできるようにしてみましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li>resources/schema.sqlファイルを作成（テーブル定義）</li>
                            <li>resources/data.sqlファイルを作成（初期データ）</li>
                            <li>Userエンティティクラスを作成</li>
                            <li>アプリケーションを起動してテーブル作成を確認</li>
                        </ol>

                        <h6>resources/schema.sql</h6>
                        <pre class="code-block"><code class="language-sql">-- ユーザーテーブル
CREATE TABLE IF NOT EXISTS users (
    id BIGSERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</code></pre>

                        <h6>resources/data.sql</h6>
                        <pre class="code-block"><code class="language-sql">-- 初期データ
INSERT INTO users (name, email) VALUES 
('田中太郎', 'tanaka@example.com'),
('佐藤花子', 'sato@example.com'),
('山田次郎', 'yamada@example.com');</code></pre>

                        <h6>期待される結果</h6>
                        <p>アプリケーション起動時にusersテーブルが作成され、3件のユーザーデータが挿入されることを確認できます。</p>
                    </div>

                    <!-- セクション5.5 -->
                    <h3 class="section-title">5.5 リポジトリパターンとCrudRepository</h3>
                    <p>
                        <strong>リポジトリパターン</strong>は、データアクセスロジックを抽象化し、ビジネスロジックから分離するデザインパターンです。Spring Data JDBCでは、<code>CrudRepository</code>インターフェースを継承することで、基本的なCRUD操作が自動的に提供されます。
                    </p>

                    <div class="mermaid">
                        classDiagram
                            class CrudRepository {
                                &lt;&lt;interface&gt;&gt;
                                +save(entity) Entity
                                +findById(id) Optional~Entity~
                                +findAll() Iterable~Entity~
                                +deleteById(id) void
                                +delete(entity) void
                                +count() long
                            }
                            
                            class UserRepository {
                                &lt;&lt;interface&gt;&gt;
                                +findByEmail(email) Optional~User~
                                +findByNameContaining(name) List~User~
                            }
                            
                            CrudRepository <|-- UserRepository
                    </div>

                    <pre class="code-block"><code class="language-java">package com.example.demo.repository;

import com.example.demo.entity.User;
import org.springframework.data.repository.CrudRepository;
import org.springframework.stereotype.Repository;

import java.util.List;
import java.util.Optional;

@Repository
public interface UserRepository extends CrudRepository&lt;User, Long&gt; {
    
    // メールアドレスでユーザーを検索
    Optional&lt;User&gt; findByEmail(String email);
    
    // 名前の部分一致でユーザーを検索
    List&lt;User&gt; findByNameContaining(String name);
    
    // 作成日時でソートして全ユーザーを取得
    @Query("SELECT * FROM users ORDER BY created_at DESC")
    List&lt;User&gt; findAllOrderByCreatedAtDesc();
}</code></pre>

                    <div class="highlight">
                        <h6>CrudRepositoryが提供する主要メソッド</h6>
                        <ul>
                            <li><code>save(entity)</code>: エンティティの保存・更新</li>
                            <li><code>findById(id)</code>: IDによる検索</li>
                            <li><code>findAll()</code>: 全件取得</li>
                            <li><code>deleteById(id)</code>: IDによる削除</li>
                            <li><code>count()</code>: レコード数の取得</li>
                        </ul>
                    </div>

                    <!-- セクション5.6 -->
                    <h3 class="section-title">5.6 CRUD操作の実装</h3>
                    <p>
                        リポジトリを使用してCRUD（Create、Read、Update、Delete）操作を実装します。サービスクラスを作成してビジネスロジックを分離し、コントローラーからは簡潔にデータアクセスを行います。
                    </p>

                    <pre class="code-block"><code class="language-java">package com.example.demo.service;

import com.example.demo.entity.User;
import com.example.demo.repository.UserRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.List;
import java.util.Optional;

@Service
public class UserService {
    
    @Autowired
    private UserRepository userRepository;
    
    // 全ユーザー取得
    public List&lt;User&gt; getAllUsers() {
        return (List&lt;User&gt;) userRepository.findAll();
    }
    
    // IDでユーザー取得
    public Optional&lt;User&gt; getUserById(Long id) {
        return userRepository.findById(id);
    }
    
    // ユーザー作成・更新
    public User saveUser(User user) {
        return userRepository.save(user);
    }
    
    // ユーザー削除
    public void deleteUser(Long id) {
        userRepository.deleteById(id);
    }
    
    // メールアドレスでユーザー検索
    public Optional&lt;User&gt; findByEmail(String email) {
        return userRepository.findByEmail(email);
    }
}</code></pre>

                    <pre class="code-block"><code class="language-java">package com.example.demo.controller;

import com.example.demo.entity.User;
import com.example.demo.service.UserService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;

@Controller
@RequestMapping("/users")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    // ユーザー一覧表示
    @GetMapping
    public String listUsers(Model model) {
        model.addAttribute("users", userService.getAllUsers());
        return "users/list";
    }
    
    // ユーザー詳細表示
    @GetMapping("/{id}")
    public String showUser(@PathVariable Long id, Model model) {
        userService.getUserById(id)
            .ifPresent(user -> model.addAttribute("user", user));
        return "users/detail";
    }
    
    // ユーザー作成フォーム表示
    @GetMapping("/new")
    public String newUserForm(Model model) {
        model.addAttribute("user", new User());
        return "users/form";
    }
    
    // ユーザー作成処理
    @PostMapping
    public String createUser(@ModelAttribute User user) {
        userService.saveUser(user);
        return "redirect:/users";
    }
    
    // ユーザー削除処理
    @PostMapping("/{id}/delete")
    public String deleteUser(@PathVariable Long id) {
        userService.deleteUser(id);
        return "redirect:/users";
    }
}</code></pre>

                    <!-- 実習5-2 -->
                    <div class="exercise-container">
                        <h5>実習 5-2: ユーザー管理機能の完全実装</h5>
                        <p>ユーザーの一覧表示、詳細表示、作成、削除機能を完全に実装してみましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li>UserRepositoryインターフェースの作成</li>
                            <li>UserServiceクラスの実装</li>
                            <li>UserControllerの実装</li>
                            <li>Thymeleafテンプレートファイルの作成</li>
                            <li>動作テストの実行</li>
                        </ol>

                        <h6>templates/users/list.html</h6>
                        <pre class="code-block"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ユーザー一覧&lt;/title&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container mt-4"&gt;
        &lt;h1&gt;ユーザー一覧&lt;/h1&gt;
        
        &lt;a href="/users/new" class="btn btn-primary mb-3"&gt;新規ユーザー作成&lt;/a&gt;
        
        &lt;table class="table table-striped"&gt;
            &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ID&lt;/th&gt;
                    &lt;th&gt;名前&lt;/th&gt;
                    &lt;th&gt;メールアドレス&lt;/th&gt;
                    &lt;th&gt;作成日時&lt;/th&gt;
                    &lt;th&gt;操作&lt;/th&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
                &lt;tr th:each="user : ${users}"&gt;
                    &lt;td th:text="${user.id}"&gt;1&lt;/td&gt;
                    &lt;td th:text="${user.name}"&gt;田中太郎&lt;/td&gt;
                    &lt;td th:text="${user.email}"&gt;tanaka@example.com&lt;/td&gt;
                    &lt;td th:text="${user.createdAt}"&gt;2025-01-01&lt;/td&gt;
                    &lt;td&gt;
                        &lt;a th:href="@{/users/{id}(id=${user.id})}" class="btn btn-sm btn-info"&gt;詳細&lt;/a&gt;
                        &lt;form th:action="@{/users/{id}/delete(id=${user.id})}" method="post" style="display: inline;"&gt;
                            &lt;button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('削除しますか？')"&gt;削除&lt;/button&gt;
                        &lt;/form&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
            &lt;/tbody&gt;
        &lt;/table&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                        <h6>期待される結果</h6>
                        <p>http://localhost:8080/users にアクセスすると、データベースに保存されたユーザー一覧が表示され、新規作成・詳細表示・削除の各機能が正常に動作することを確認できます。</p>
                    </div>

                    <!-- セクション5.7 -->
                    <h3 class="section-title">5.7 ページングとソーティング</h3>
                    <p>
                        大量のデータを扱う場合、<strong>ページング</strong>（ページ分割）と<strong>ソーティング</strong>（並び替え）機能が重要になります。Spring Data JDBCでは<code>PagingAndSortingRepository</code>を使用してこれらの機能を簡単に実装できます。
                    </p>

                    <pre class="code-block"><code class="language-java">package com.example.demo.repository;

import com.example.demo.entity.User;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.repository.PagingAndSortingRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {
    
    // 名前での検索結果もページングに対応
    Page&lt;User&gt; findByNameContaining(String name, Pageable pageable);
}</code></pre>

                    <pre class="code-block"><code class="language-java">@GetMapping
public String listUsers(
        @RequestParam(defaultValue = "0") int page,
        @RequestParam(defaultValue = "5") int size,
        @RequestParam(defaultValue = "id") String sort,
        Model model) {
    
    // ページング・ソート情報を作成
    Pageable pageable = PageRequest.of(page, size, Sort.by(sort));
    Page&lt;User&gt; userPage = userService.getAllUsers(pageable);
    
    model.addAttribute("users", userPage.getContent());
    model.addAttribute("currentPage", page);
    model.addAttribute("totalPages", userPage.getTotalPages());
    model.addAttribute("totalElements", userPage.getTotalElements());
    
    return "users/list";
}</code></pre>

                    <!-- 理解度確認クイズ -->
                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>リレーショナルデータベースの主要な構成要素（テーブル、レコード、カラム、プライマリキー）について、それぞれの役割を説明してください。</li>
                            <li>Spring Data JDBCとSpring Data JPAの主な違いを3つ挙げてください。</li>
                            <li>エンティティクラスを作成する際に必要な要素（アノテーション、コンストラクタ、メソッド）を説明してください。</li>
                            <li>CrudRepositoryが提供する主要なメソッドと、それぞれが実行するCRUD操作を対応させてください。</li>
                            <li>データアクセス層でRepository、Service、Controllerを分離する利点を説明してください。</li>
                            <li>大量データを扱う際に、ページングとソーティングが重要な理由を説明してください。</li>
                        </ol>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="spring-learning-material-4.html" class="btn btn-secondary">← 第4章: Webアプリケーション開発の基礎（MVC）</a>
                        <a href="spring-learning-material-6.html" class="btn btn-primary">第6章: 入力バリデーションとエラーハンドリング →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2025 F-Circle All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>