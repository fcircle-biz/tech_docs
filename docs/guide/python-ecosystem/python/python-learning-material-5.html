<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python学習教材 第5章 - データ構造の基礎</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* Python専用カラーテーマ */
        :root {
            --python-primary: #3776ab;
            --python-secondary: #ffd43b;
            --python-accent: #4b8bbe;
            --python-bg-light: #f0f6fc;
            --python-bg-yellow: #fffbf0;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        .navbar {
            background-color: var(--python-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
        }

        .chapter-title {
            color: var(--python-primary);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid var(--python-primary);
            padding-bottom: 0.5rem;
            font-weight: 600;
        }

        .section-title {
            color: var(--python-accent);
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
            font-weight: 500;
        }

        .quiz-container {
            background-color: var(--python-bg-light);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--python-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .highlight {
            background-color: var(--python-bg-yellow);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid var(--python-secondary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .nav-link.active {
            background-color: var(--python-primary) !important;
            color: white !important;
        }

        .nav-link {
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background-color: var(--python-bg-light);
            color: var(--python-primary);
        }

        pre {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 1rem;
            overflow-x: auto;
        }

        code {
            background-color: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            color: var(--python-primary);
            font-weight: 500;
        }

        .btn-primary {
            background-color: var(--python-primary);
            border-color: var(--python-primary);
        }

        .btn-primary:hover {
            background-color: var(--python-accent);
            border-color: var(--python-accent);
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="../README.html">
                <strong>Python学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../README.html">学習ガイド</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../../../cheatsheet/python/python-basics-cheatsheet.html">チートシート</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-1.html">
                                第1章: Python入門と開発環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-2.html">
                                第2章: 基本的な文法と変数
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-3.html">
                                第3章: 制御構造の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-4.html">
                                第4章: 関数とモジュール
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="python-learning-material-5.html">
                                第5章: データ構造の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-6.html">
                                第6章: ファイル操作と例外処理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-7.html">
                                第7章: オブジェクト指向プログラミング入門
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-8.html">
                                第8章: 標準ライブラリの活用
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-9.html">
                                第9章: 外部ライブラリとパッケージ管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-10.html">
                                第10章: 実践プロジェクト開発
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第5章: データ構造の基礎</h1>
                </div>

                <div id="chapter5">
                    <h2 class="chapter-title">データ構造の基礎</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>リスト（配列）の作成、要素の追加・削除・変更方法を理解する</li>
                            <li>タプル（不変の配列）の特性と適切な使用場面を学ぶ</li>
                            <li>辞書（キーと値のペア）による効率的なデータ管理方法を習得する</li>
                            <li>セット（重複なし集合）の数学的操作と実用例を理解する</li>
                            <li>各データ構造の特性を活かした適切な選択ができるようになる</li>
                        </ul>
                    </div>

                    <h3 class="section-title">5.1 リスト（list）の基礎</h3>
                    <p>リストは、複数の要素を順序付きで格納できる可変のデータ構造です。角括弧 <code>[]</code> を使って作成します。</p>
                    
                    <h4>リストの作成と基本操作</h4>
                    <pre><code># リストの作成
fruits = ["りんご", "バナナ", "オレンジ"]
numbers = [1, 2, 3, 4, 5]
mixed_list = ["文字列", 42, True, 3.14]

# 空のリスト
empty_list = []
empty_list2 = list()

# インデックスアクセス
print(fruits[0])  # りんご
print(fruits[-1])  # オレンジ（最後の要素）

# スライシング
print(numbers[1:4])  # [2, 3, 4]
print(numbers[:3])   # [1, 2, 3]
print(numbers[2:])   # [3, 4, 5]</code></pre>

                    <h4>リストの要素操作</h4>
                    <pre><code># 要素の追加
fruits.append("ぶどう")  # 末尾に追加
fruits.insert(1, "いちご")  # 指定位置に挿入

# 要素の削除
fruits.remove("バナナ")  # 値で削除
popped = fruits.pop()    # 末尾を削除して返す
del fruits[0]           # インデックスで削除

# 要素の変更
fruits[0] = "メロン"

# リストの結合
list1 = [1, 2, 3]
list2 = [4, 5, 6]
combined = list1 + list2  # [1, 2, 3, 4, 5, 6]
list1.extend(list2)      # list1に list2 を追加</code></pre>

                    <div class="exercise-container">
                        <h5>実習 5-1: ショッピングリスト管理</h5>
                        <p>ショッピングリストの作成と管理を行うプログラムを作成しましょう。</p>
                        
                        <h6>コード例</h6>
                        <pre><code># ショッピングリスト管理システム
shopping_list = []

def add_item(item):
    """商品をリストに追加"""
    shopping_list.append(item)
    print(f"'{item}' をリストに追加しました")

def remove_item(item):
    """商品をリストから削除"""
    if item in shopping_list:
        shopping_list.remove(item)
        print(f"'{item}' をリストから削除しました")
    else:
        print(f"'{item}' はリストにありません")

def display_list():
    """リストの内容を表示"""
    if shopping_list:
        print("=== ショッピングリスト ===")
        for i, item in enumerate(shopping_list, 1):
            print(f"{i}. {item}")
    else:
        print("リストは空です")

# 使用例
add_item("牛乳")
add_item("パン")
add_item("卵")
display_list()
remove_item("パン")
display_list()</code></pre>
                    </div>

                    <h3 class="section-title">5.2 タプル（tuple）の活用</h3>
                    <p>タプルは、リストと似ていますが不変（変更不可）のデータ構造です。丸括弧 <code>()</code> を使って作成します。</p>
                    
                    <h4>タプルの基本操作</h4>
                    <pre><code># タプルの作成
coordinates = (3, 4)
rgb_color = (255, 128, 0)
person_info = ("田中太郎", 25, "東京")

# 単一要素のタプル（カンマが必要）
single_tuple = (42,)

# タプルのアンパッキング
x, y = coordinates
name, age, city = person_info

print(f"座標: ({x}, {y})")
print(f"名前: {name}, 年齢: {age}, 住所: {city}")

# 関数から複数の値を返す
def get_circle_info(radius):
    area = 3.14159 * radius ** 2
    circumference = 2 * 3.14159 * radius
    return area, circumference  # タプルとして返される

area, circum = get_circle_info(5)</code></pre>

                    <h3 class="section-title">5.3 辞書（dict）によるデータ管理</h3>
                    <p>辞書は、キーと値のペアでデータを格納する連想配列です。波括弧 <code>{}</code> を使って作成します。</p>
                    
                    <h4>辞書の基本操作</h4>
                    <pre><code># 辞書の作成
student = {
    "name": "山田花子",
    "age": 20,
    "major": "コンピュータサイエンス",
    "gpa": 3.8
}

# 要素のアクセス
print(student["name"])      # 山田花子
print(student.get("age"))   # 20
print(student.get("email", "未設定"))  # デフォルト値

# 要素の追加・更新
student["email"] = "hanako@example.com"
student["age"] = 21

# 要素の削除
del student["gpa"]
removed_major = student.pop("major", "専攻なし")

# 辞書のメソッド
print(student.keys())    # キー一覧
print(student.values())  # 値一覧
print(student.items())   # キー・値ペア一覧</code></pre>

                    <div class="exercise-container">
                        <h5>実習 5-2: 単語出現回数カウンター</h5>
                        <p>文章から単語の出現頻度を計算するプログラムを作成しましょう。</p>
                        
                        <h6>コード例</h6>
                        <pre><code>def count_words(text):
    """文章の単語出現回数をカウント"""
    # 文字列を小文字にして単語に分割
    words = text.lower().split()
    
    word_count = {}
    for word in words:
        # 句読点を除去
        clean_word = word.strip('.,!?;:"')
        if clean_word:
            word_count[clean_word] = word_count.get(clean_word, 0) + 1
    
    return word_count

def display_word_count(word_count):
    """単語カウントを表示"""
    print("=== 単語出現回数 ===")
    # 出現回数でソート
    sorted_words = sorted(word_count.items(), key=lambda x: x[1], reverse=True)
    
    for word, count in sorted_words:
        print(f"{word}: {count}回")

# 使用例
text = """
Python is a powerful programming language.
Python is easy to learn and Python is versatile.
Many developers love Python for its simplicity.
"""

word_count = count_words(text)
display_word_count(word_count)</code></pre>
                    </div>

                    <h3 class="section-title">5.4 セット（set）の集合操作</h3>
                    <p>セットは、重複のない要素の集合を表すデータ構造です。数学的な集合操作が可能です。</p>
                    
                    <h4>セットの基本操作</h4>
                    <pre><code># セットの作成
fruits_set = {"りんご", "バナナ", "オレンジ"}
numbers_set = set([1, 2, 3, 3, 4, 4, 5])  # 重複は自動で除去

print(numbers_set)  # {1, 2, 3, 4, 5}

# 要素の追加・削除
fruits_set.add("ぶどう")
fruits_set.remove("バナナ")  # 存在しない場合はエラー
fruits_set.discard("メロン")  # 存在しない場合も安全

# 集合演算
set1 = {1, 2, 3, 4}
set2 = {3, 4, 5, 6}

union = set1 | set2        # 和集合: {1, 2, 3, 4, 5, 6}
intersection = set1 & set2  # 積集合: {3, 4}
difference = set1 - set2    # 差集合: {1, 2}
symmetric_diff = set1 ^ set2 # 対称差集合: {1, 2, 5, 6}</code></pre>

                    <h3 class="section-title">5.5 データ構造の選択指針</h3>
                    <p>適切なデータ構造を選択することで、プログラムの効率性と可読性が向上します。</p>
                    
                    <div class="highlight">
                        <h6>データ構造の使い分け</h6>
                        <ul>
                            <li><strong>リスト</strong>: 順序が重要で、要素の変更が必要な場合</li>
                            <li><strong>タプル</strong>: 順序が重要で、要素が固定の場合（座標、設定値など）</li>
                            <li><strong>辞書</strong>: キーによる高速なデータ検索が必要な場合</li>
                            <li><strong>セット</strong>: 重複を排除したい場合や集合演算が必要な場合</li>
                        </ul>
                    </div>

                    <div class="exercise-container">
                        <h5>実習 5-3: 学生成績管理システム</h5>
                        <p>異なるデータ構造を組み合わせた成績管理システムを作成しましょう。</p>
                        
                        <h6>コード例</h6>
                        <pre><code>class GradeManager:
    def __init__(self):
        self.students = {}  # 学生情報を格納する辞書
        self.subjects = ["数学", "英語", "理科", "社会"]  # 科目リスト
    
    def add_student(self, student_id, name):
        """学生を追加"""
        self.students[student_id] = {
            "name": name,
            "grades": {}
        }
        print(f"学生 {name} (ID: {student_id}) を追加しました")
    
    def add_grade(self, student_id, subject, score):
        """成績を追加"""
        if student_id in self.students and subject in self.subjects:
            self.students[student_id]["grades"][subject] = score
            print(f"{self.students[student_id]['name']} の{subject}の成績を追加しました: {score}点")
        else:
            print("学生IDまたは科目名が無効です")
    
    def get_average(self, student_id):
        """学生の平均点を計算"""
        if student_id in self.students:
            grades = list(self.students[student_id]["grades"].values())
            if grades:
                return sum(grades) / len(grades)
        return 0
    
    def display_report(self):
        """成績レポートを表示"""
        print("\n=== 成績レポート ===")
        for student_id, info in self.students.items():
            name = info["name"]
            average = self.get_average(student_id)
            print(f"{name} (ID: {student_id}) - 平均点: {average:.1f}")

# 使用例
manager = GradeManager()
manager.add_student("001", "田中太郎")
manager.add_student("002", "佐藤花子")

manager.add_grade("001", "数学", 85)
manager.add_grade("001", "英語", 92)
manager.add_grade("002", "数学", 78)
manager.add_grade("002", "英語", 88)

manager.display_report()</code></pre>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li><strong>問題1:</strong> リストとタプルの主な違いは何ですか？</li>
                            <li><strong>問題2:</strong> 辞書で存在しないキーにアクセスする安全な方法は？</li>
                            <li><strong>問題3:</strong> セットから重複を除去する機能以外の利点は何ですか？</li>
                            <li><strong>問題4:</strong> 以下のコードの出力は何ですか？<br>
                                <code>data = [1, 2, 2, 3, 3, 3]<br>
                                unique_data = list(set(data))<br>
                                print(len(unique_data))</code>
                            </li>
                        </ol>
                        
                        <details style="margin-top: 1rem;">
                            <summary>解答を見る</summary>
                            <div style="margin-top: 0.5rem;">
                                <p><strong>解答:</strong></p>
                                <ol>
                                    <li>リストは可変（要素の変更可能）、タプルは不変（要素の変更不可）</li>
                                    <li>get()メソッドを使用する（例：dict.get(key, default_value)）</li>
                                    <li>集合演算（和集合、積集合、差集合など）が高速に実行できる</li>
                                    <li>3（重複が除去されて [1, 2, 3] になるため）</li>
                                </ol>
                            </div>
                        </details>
                    </div>

                    <h3 class="section-title">5.6 まとめ</h3>
                    <p>この章では、Pythonの主要なデータ構造について学習しました。各データ構造には特有の特性があり、用途に応じて適切に選択することが重要です。</p>

                    <div class="highlight">
                        <h6>重要なポイント</h6>
                        <ul>
                            <li>リスト：順序付きで可変、インデックスアクセス</li>
                            <li>タプル：順序付きで不変、複数の値を返す際に有用</li>
                            <li>辞書：キー・値ペア、高速な検索性能</li>
                            <li>セット：重複なし、集合演算が可能</li>
                            <li>適切なデータ構造の選択がプログラムの性能と可読性を向上させる</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="python-learning-material-4.html" class="btn btn-secondary">← 前の章: 関数とモジュール</a>
                        <a href="python-learning-material-6.html" class="btn btn-primary">次の章: ファイル操作と例外処理 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>