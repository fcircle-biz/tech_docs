<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python学習教材 第4章 - 関数とモジュール</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <style>
        /* Python専用カラーテーマ */
        :root {
            --python-primary: #3776ab;
            --python-secondary: #ffd43b;
            --python-accent: #4b8bbe;
            --python-bg-light: #f0f6fc;
            --python-bg-yellow: #fffbf0;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        .navbar {
            background-color: var(--python-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
        }

        .chapter-title {
            color: var(--python-primary);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid var(--python-primary);
            padding-bottom: 0.5rem;
            font-weight: 600;
        }

        .section-title {
            color: var(--python-accent);
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
            font-weight: 500;
        }

        .quiz-container {
            background-color: var(--python-bg-light);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--python-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .highlight {
            background-color: var(--python-bg-yellow);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid var(--python-secondary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .nav-link.active {
            background-color: var(--python-primary) !important;
            color: white !important;
        }

        .nav-link {
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background-color: var(--python-bg-light);
            color: var(--python-primary);
        }

        pre {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 1rem;
            overflow-x: auto;
        }

        code {
            background-color: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            color: var(--python-primary);
            font-weight: 500;
        }

        .btn-primary {
            background-color: var(--python-primary);
            border-color: var(--python-primary);
        }

        .btn-primary:hover {
            background-color: var(--python-accent);
            border-color: var(--python-accent);
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="../README.html">
                <strong>Python学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../README.html">学習ガイド</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../../../cheatsheet/python/python-basics-cheatsheet.html">チートシート</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-1.html">
                                第1章: Python入門と開発環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-2.html">
                                第2章: 基本的な文法と変数
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-3.html">
                                第3章: 制御構造の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="python-learning-material-4.html">
                                第4章: 関数とモジュール
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-5.html">
                                第5章: データ構造の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-6.html">
                                第6章: ファイル操作と例外処理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-7.html">
                                第7章: オブジェクト指向プログラミング入門
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-8.html">
                                第8章: 標準ライブラリの活用
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-9.html">
                                第9章: 外部ライブラリとパッケージ管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-10.html">
                                第10章: 実践プロジェクト開発
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第4章: 関数とモジュール</h1>
                </div>

                <div id="chapter4">
                    <h2 class="chapter-title">関数とモジュール</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>関数の定義と呼び出し方法を理解する</li>
                            <li>引数と戻り値の使い方を学ぶ</li>
                            <li>スコープとライフタイムの概念を理解する</li>
                            <li>モジュールの作成とインポート方法を習得する</li>
                            <li>実用的な関数とモジュールの設計を学ぶ</li>
                        </ul>
                    </div>

                    <h3 class="section-title">4.1 関数の基礎</h3>
                    <p>関数は、特定の処理をまとめて再利用可能にしたコードブロックです。プログラムを整理し、重複を避けるために重要です。</p>
                    
                    <h4>基本的な関数の定義</h4>
                    <pre><code># 引数なし、戻り値なしの関数
def greet():
    print("こんにちは、Python!")

# 関数の呼び出し
greet()

# 引数ありの関数
def greet_user(name):
    print(f"こんにちは、{name}さん!")

greet_user("太郎")</code></pre>

                    <h4>戻り値のある関数</h4>
                    <pre><code># 計算結果を返す関数
def add_numbers(a, b):
    result = a + b
    return result

# 関数の呼び出しと結果の使用
sum_result = add_numbers(5, 3)
print(f"5 + 3 = {sum_result}")

# 複数の値を返す関数
def calculate_circle(radius):
    area = 3.14159 * radius ** 2
    circumference = 2 * 3.14159 * radius
    return area, circumference

area, circum = calculate_circle(5)
print(f"面積: {area:.2f}, 円周: {circum:.2f}")</code></pre>

                    <div class="exercise-container">
                        <h5>実習 4-1: 温度変換関数</h5>
                        <p>摂氏温度と華氏温度を相互変換する関数を作成しましょう。</p>
                        
                        <h6>コード例</h6>
                        <pre><code># 温度変換関数
def celsius_to_fahrenheit(celsius):
    """摂氏を華氏に変換"""
    fahrenheit = (celsius * 9/5) + 32
    return fahrenheit

def fahrenheit_to_celsius(fahrenheit):
    """華氏を摂氏に変換"""
    celsius = (fahrenheit - 32) * 5/9
    return celsius

def temperature_info(temp, unit):
    """温度情報を表示"""
    if unit.lower() == 'c':
        converted = celsius_to_fahrenheit(temp)
        print(f"{temp}°C = {converted:.1f}°F")
    elif unit.lower() == 'f':
        converted = fahrenheit_to_celsius(temp)
        print(f"{temp}°F = {converted:.1f}°C")
    else:
        print("単位はCまたはFを指定してください")

# 関数の使用例
temperature_info(25, 'C')
temperature_info(77, 'F')</code></pre>
                    </div>

                    <h3 class="section-title">4.2 引数の詳細</h3>
                    
                    <h4>デフォルト引数</h4>
                    <pre><code>def create_profile(name, age, city="東京"):
    return f"名前: {name}, 年齢: {age}, 住所: {city}"

# デフォルト値を使用
profile1 = create_profile("田中", 25)
print(profile1)

# デフォルト値を上書き
profile2 = create_profile("佐藤", 30, "大阪")
print(profile2)</code></pre>

                    <h4>キーワード引数</h4>
                    <pre><code>def order_coffee(size, coffee_type, milk=False, sugar=False):
    order = f"{size}サイズの{coffee_type}"
    if milk:
        order += "（ミルク入り）"
    if sugar:
        order += "（砂糖入り）"
    return order

# キーワード引数を使用
order1 = order_coffee("L", "ラテ", milk=True)
order2 = order_coffee(size="M", coffee_type="エスプレッソ", sugar=True)
print(order1)
print(order2)</code></pre>

                    <h3 class="section-title">4.3 スコープと変数</h3>
                    
                    <h4>ローカル変数とグローバル変数</h4>
                    <pre><code># グローバル変数
counter = 0

def increment():
    global counter  # グローバル変数を変更
    counter += 1
    print(f"カウンター: {counter}")

def local_example():
    # ローカル変数
    local_var = "これはローカル変数です"
    print(local_var)

increment()  # カウンター: 1
increment()  # カウンター: 2
local_example()</code></pre>

                    <h3 class="section-title">4.4 モジュール</h3>
                    
                    <h4>モジュールの作成</h4>
                    <pre><code># math_utils.py ファイルの内容
def add(a, b):
    return a + b

def multiply(a, b):
    return a * b

def power(base, exponent):
    return base ** exponent

PI = 3.14159

def circle_area(radius):
    return PI * radius ** 2</code></pre>

                    <h4>モジュールのインポートと使用</h4>
                    <pre><code># モジュールの使用方法
import math_utils

# モジュールの関数を使用
result = math_utils.add(5, 3)
area = math_utils.circle_area(10)

# 特定の関数のみインポート
from math_utils import multiply, PI

product = multiply(4, 7)
print(f"円周率: {PI}")

# エイリアスを使用
import math_utils as mu
result = mu.power(2, 8)</code></pre>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li><strong>問題1:</strong> 関数で複数の値を返すにはどうしますか？</li>
                            <li><strong>問題2:</strong> デフォルト引数の利点は何ですか？</li>
                            <li><strong>問題3:</strong> グローバル変数を関数内で変更するキーワードは何ですか？</li>
                            <li><strong>問題4:</strong> モジュールをインポートする3つの方法を書いてください。</li>
                        </ol>
                        
                        <details style="margin-top: 1rem;">
                            <summary>解答を見る</summary>
                            <div style="margin-top: 0.5rem;">
                                <p><strong>解答:</strong></p>
                                <ol>
                                    <li>return a, b のようにカンマで区切って返す</li>
                                    <li>引数の省略が可能になり、関数の使いやすさが向上する</li>
                                    <li>global</li>
                                    <li>import module_name, from module_name import function_name, import module_name as alias</li>
                                </ol>
                            </div>
                        </details>
                    </div>

                    <h3 class="section-title">4.5 まとめ</h3>
                    <p>関数とモジュールは、コードの再利用性と保守性を向上させる重要な機能です。適切に設計された関数とモジュールは、プログラムの理解しやすさと効率性を大幅に改善します。</p>

                    <div class="highlight">
                        <h6>重要なポイント</h6>
                        <ul>
                            <li>関数は一つの明確な目的を持つように設計する</li>
                            <li>適切な引数と戻り値を設定する</li>
                            <li>関数とモジュールには分かりやすい名前をつける</li>
                            <li>スコープを意識してコードを書く</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="python-learning-material-3.html" class="btn btn-secondary">← 前の章: 制御構造の基礎</a>
                        <a href="python-learning-material-5.html" class="btn btn-primary">次の章: データ構造の基礎 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
</body>
</html>