<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python学習教材 第9章 - 外部ライブラリとパッケージ管理</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* Python専用カラーテーマ */
        :root {
            --python-primary: #3776ab;
            --python-secondary: #ffd43b;
            --python-accent: #4b8bbe;
            --python-bg-light: #f0f6fc;
            --python-bg-yellow: #fffbf0;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        .navbar {
            background-color: var(--python-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
        }

        .chapter-title {
            color: var(--python-primary);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid var(--python-primary);
            padding-bottom: 0.5rem;
            font-weight: 600;
        }

        .section-title {
            color: var(--python-accent);
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
            font-weight: 500;
        }

        .quiz-container {
            background-color: var(--python-bg-light);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--python-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .highlight {
            background-color: var(--python-bg-yellow);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid var(--python-secondary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .nav-link.active {
            background-color: var(--python-primary) !important;
            color: white !important;
        }

        .nav-link {
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background-color: var(--python-bg-light);
            color: var(--python-primary);
        }

        pre {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 1rem;
            overflow-x: auto;
        }

        code {
            background-color: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            color: var(--python-primary);
            font-weight: 500;
        }

        .btn-primary {
            background-color: var(--python-primary);
            border-color: var(--python-primary);
        }

        .btn-primary:hover {
            background-color: var(--python-accent);
            border-color: var(--python-accent);
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="../README.html">
                <strong>Python学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../README.html">学習ガイド</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../../../cheatsheet/python/python-basics-cheatsheet.html">チートシート</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-1.html">
                                第1章: Python入門と開発環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-2.html">
                                第2章: 基本的な文法と変数
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-3.html">
                                第3章: 制御構造の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-4.html">
                                第4章: 関数とモジュール
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-5.html">
                                第5章: データ構造の基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-6.html">
                                第6章: ファイル操作と例外処理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-7.html">
                                第7章: オブジェクト指向プログラミング入門
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-8.html">
                                第8章: 標準ライブラリの活用
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="python-learning-material-9.html">
                                第9章: 外部ライブラリとパッケージ管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="python-learning-material-10.html">
                                第10章: 実践プロジェクト開発
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第9章: 外部ライブラリとパッケージ管理</h1>
                </div>

                <div id="chapter9">
                    <h2 class="chapter-title">外部ライブラリとパッケージ管理</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>pipを使ったパッケージのインストールと管理方法を習得する</li>
                            <li>仮想環境（venv）の概念と実用的な活用方法を理解する</li>
                            <li>requirements.txtによる依存関係管理の重要性を学ぶ</li>
                            <li>人気の外部ライブラリの基本的な使い方を身につける</li>
                            <li>プロジェクト構成とパッケージ配布の基礎を理解する</li>
                        </ul>
                    </div>

                    <h3 class="section-title">9.1 pipによるパッケージ管理</h3>
                    <p>pipは、Pythonのパッケージインストーラーです。PyPI（Python Package Index）から外部ライブラリをインストールできます。</p>
                    
                    <h4>pipの基本コマンド</h4>
                    <pre><code># パッケージのインストール
pip install requests
pip install pandas==1.5.0  # 特定のバージョンを指定
pip install "numpy>=1.20.0,<2.0.0"  # バージョン範囲を指定

# インストール済みパッケージの一覧表示
pip list

# パッケージの詳細情報を表示
pip show requests

# パッケージのアップグレード
pip install --upgrade requests

# パッケージのアンインストール
pip uninstall requests

# 依存関係を含めてアンインストール
pip uninstall requests -y

# PyPIでパッケージを検索
pip search "web scraping"  # 注意：現在は無効化されています

# パッケージの脆弱性チェック
pip audit</code></pre>

                    <h4>requirements.txtによる依存関係管理</h4>
                    <pre><code># 現在の環境のパッケージ一覧を出力
pip freeze > requirements.txt

# requirements.txtの例
"""
requests==2.28.1
pandas==1.5.0
numpy==1.23.3
matplotlib==3.6.0
beautifulsoup4==4.11.1
"""

# requirements.txtからパッケージをインストール
pip install -r requirements.txt

# 開発用の依存関係を別管理
pip freeze > dev-requirements.txt

# requirements.txtの例（開発用）
"""
# 本番環境で必要なパッケージ
-r requirements.txt

# 開発環境でのみ必要なパッケージ
pytest==7.1.3
black==22.8.0
flake8==5.0.4
jupyter==1.0.0
"""</code></pre>

                    <div class="exercise-container">
                        <h5>実習 9-1: パッケージ管理の実践</h5>
                        <p>プロジェクト用の仮想環境を作成し、必要なパッケージをインストールして管理してみましょう。</p>
                        
                        <h6>実習手順</h6>
                        <ol>
                            <li>新しいプロジェクトディレクトリを作成</li>
                            <li>仮想環境を作成してアクティベート</li>
                            <li>必要なパッケージをインストール</li>
                            <li>requirements.txtを作成</li>
                            <li>パッケージ情報を確認</li>
                        </ol>
                        
                        <h6>コマンド例</h6>
                        <pre><code># 1. プロジェクトディレクトリの作成
mkdir my_python_project
cd my_python_project

# 2. 仮想環境の作成
python -m venv venv

# 3. 仮想環境のアクティベート
# Windows の場合
venv\Scripts\activate
# macOS/Linux の場合
source venv/bin/activate

# 4. パッケージのインストール
pip install requests pandas matplotlib

# 5. requirements.txtの作成
pip freeze > requirements.txt

# 6. インストール済みパッケージの確認
pip list

# 7. 特定パッケージの詳細確認
pip show pandas

# 仮想環境の無効化
deactivate</code></pre>

                        <h6>Pythonスクリプト例</h6>
                        <pre><code># package_manager.py - パッケージ管理ヘルパー
import subprocess
import sys
import os

class PackageManager:
    def __init__(self, requirements_file="requirements.txt"):
        self.requirements_file = requirements_file
    
    def install_package(self, package_name, version=None):
        """パッケージをインストール"""
        if version:
            package = f"{package_name}=={version}"
        else:
            package = package_name
        
        try:
            subprocess.check_call([sys.executable, "-m", "pip", "install", package])
            print(f"✓ {package} のインストールが完了しました")
            return True
        except subprocess.CalledProcessError as e:
            print(f"✗ {package} のインストールに失敗しました: {e}")
            return False
    
    def create_requirements(self):
        """requirements.txtを作成"""
        try:
            result = subprocess.run([sys.executable, "-m", "pip", "freeze"], 
                                  capture_output=True, text=True)
            
            with open(self.requirements_file, "w") as f:
                f.write(result.stdout)
            
            print(f"✓ {self.requirements_file} を作成しました")
            return True
        except Exception as e:
            print(f"✗ requirements.txt の作成に失敗しました: {e}")
            return False
    
    def install_from_requirements(self):
        """requirements.txtからインストール"""
        if not os.path.exists(self.requirements_file):
            print(f"✗ {self.requirements_file} が見つかりません")
            return False
        
        try:
            subprocess.check_call([sys.executable, "-m", "pip", "install", 
                                 "-r", self.requirements_file])
            print(f"✓ {self.requirements_file} からのインストールが完了しました")
            return True
        except subprocess.CalledProcessError as e:
            print(f"✗ インストールに失敗しました: {e}")
            return False
    
    def list_packages(self):
        """インストール済みパッケージの一覧表示"""
        try:
            result = subprocess.run([sys.executable, "-m", "pip", "list"], 
                                  capture_output=True, text=True)
            print("=== インストール済みパッケージ ===")
            print(result.stdout)
        except Exception as e:
            print(f"✗ パッケージ一覧の取得に失敗しました: {e}")

# 使用例
if __name__ == "__main__":
    manager = PackageManager()
    
    # パッケージのインストール
    manager.install_package("requests")
    manager.install_package("pandas", "1.5.0")
    
    # requirements.txtの作成
    manager.create_requirements()
    
    # パッケージ一覧の表示
    manager.list_packages()</code></pre>
                    </div>

                    <h3 class="section-title">9.2 仮想環境（Virtual Environment）</h3>
                    <p>仮想環境は、プロジェクトごとに独立したPython環境を作成する仕組みです。パッケージのバージョン競合を防ぎ、プロジェクトを分離できます。</p>
                    
                    <h4>venvモジュールの活用</h4>
                    <pre><code># 仮想環境の作成
python -m venv myproject_env
python -m venv myproject_env --system-site-packages  # システムパッケージを継承

# 仮想環境のアクティベート
# Windows
myproject_env\Scripts\activate
# macOS/Linux
source myproject_env/bin/activate

# アクティベート後の確認
which python  # macOS/Linux
where python  # Windows
python --version
pip --version

# 仮想環境内でのパッケージ操作
pip install requests pandas
pip list  # 仮想環境内のパッケージのみ表示

# 仮想環境の無効化
deactivate

# 仮想環境の削除（ディレクトリを削除）
rm -rf myproject_env  # macOS/Linux
rmdir /s myproject_env  # Windows</code></pre>

                    <h3 class="section-title">9.3 人気の外部ライブラリ入門</h3>
                    <p>Pythonの豊富なエコシステムの中から、特に実用的なライブラリの基本的な使い方を学びます。</p>
                    
                    <h4>requests - HTTP通信ライブラリ</h4>
                    <pre><code>import requests
import json

# GETリクエストの基本
response = requests.get("https://api.github.com/users/octocat")

# レスポンスの確認
print(f"ステータスコード: {response.status_code}")
print(f"Content-Type: {response.headers['content-type']}")

# JSONデータの取得
if response.status_code == 200:
    user_data = response.json()
    print(f"ユーザー名: {user_data['name']}")
    print(f"フォロワー数: {user_data['followers']}")

# パラメータ付きGETリクエスト
params = {
    'q': 'python',
    'sort': 'stars',
    'order': 'desc'
}
search_response = requests.get("https://api.github.com/search/repositories", 
                              params=params)

# POSTリクエスト（例：JSONデータの送信）
post_data = {
    'title': 'Test Post',
    'body': 'This is a test',
    'userId': 1
}

post_response = requests.post(
    "https://jsonplaceholder.typicode.com/posts",
    json=post_data,
    headers={'Content-Type': 'application/json'}
)

print(f"POST結果: {post_response.json()}")

# エラーハンドリング
try:
    response = requests.get("https://invalid-url.example.com", timeout=5)
    response.raise_for_status()  # HTTPエラーがあれば例外を発生
except requests.exceptions.RequestException as e:
    print(f"リクエストエラー: {e}")</code></pre>

                    <h4>pandas - データ分析ライブラリ</h4>
                    <pre><code>import pandas as pd
import numpy as np

# データフレームの作成
data = {
    'name': ['Alice', 'Bob', 'Charlie', 'Diana'],
    'age': [25, 30, 35, 28],
    'city': ['Tokyo', 'Osaka', 'Tokyo', 'Kyoto'],
    'salary': [50000, 60000, 70000, 55000]
}

df = pd.DataFrame(data)
print("=== データフレーム ===")
print(df)

# 基本的な情報の確認
print(f"\nデータ形状: {df.shape}")
print(f"列名: {list(df.columns)}")
print(f"データ型:\n{df.dtypes}")

# データの選択と フィルタリング
print("\n=== 年齢が30以上の人 ===")
over_30 = df[df['age'] >= 30]
print(over_30)

print("\n=== 東京在住者の平均給与 ===")
tokyo_avg_salary = df[df['city'] == 'Tokyo']['salary'].mean()
print(f"東京在住者の平均給与: {tokyo_avg_salary:,.0f}円")

# グループ化と集計
print("\n=== 都市別の統計 ===")
city_stats = df.groupby('city').agg({
    'age': 'mean',
    'salary': ['mean', 'max', 'min']
}).round(2)
print(city_stats)

# CSVファイルの読み書き
# データをCSVに保存
df.to_csv('employee_data.csv', index=False, encoding='utf-8')

# CSVからデータを読み込み
df_loaded = pd.read_csv('employee_data.csv')
print("\n=== CSVから読み込んだデータ ===")
print(df_loaded)</code></pre>

                    <h4>Beautiful Soup - HTMLパースライブラリ</h4>
                    <pre><code>import requests
from bs4 import BeautifulSoup
import time

def scrape_python_news():
    """Python関連のニュースをスクレイピング（例）"""
    
    # HTMLサンプル（実際のスクレイピングでは適切なサイトを使用）
    html_content = """
    <html>
    <head><title>Python News</title></head>
    <body>
        <div class="news-container">
            <article class="news-item">
                <h2 class="title">Python 3.12 Released</h2>
                <p class="summary">New features include improved error messages</p>
                <span class="date">2024-01-15</span>
            </article>
            <article class="news-item">
                <h2 class="title">Django 5.0 Updates</h2>
                <p class="summary">Enhanced security and performance improvements</p>
                <span class="date">2024-01-10</span>
            </article>
        </div>
    </body>
    </html>
    """
    
    # BeautifulSoupでHTMLをパース
    soup = BeautifulSoup(html_content, 'html.parser')
    
    # ニュース記事を抽出
    articles = soup.find_all('article', class_='news-item')
    
    news_list = []
    for article in articles:
        title = article.find('h2', class_='title').text
        summary = article.find('p', class_='summary').text
        date = article.find('span', class_='date').text
        
        news_list.append({
            'title': title,
            'summary': summary,
            'date': date
        })
    
    return news_list

# Webスクレイピングの実践例
def safe_web_scraping(url, delay=1):
    """安全なWebスクレイピングの例"""
    try:
        # User-Agentを設定（サイトのrobot.txtを確認）
        headers = {
            'User-Agent': 'Mozilla/5.0 (Educational Purpose)'
        }
        
        response = requests.get(url, headers=headers)
        response.raise_for_status()
        
        # レート制限（サーバーに負荷をかけないため）
        time.sleep(delay)
        
        soup = BeautifulSoup(response.content, 'html.parser')
        return soup
        
    except requests.exceptions.RequestException as e:
        print(f"スクレイピングエラー: {e}")
        return None

# 使用例
news_data = scrape_python_news()
print("=== Python ニュース ===")
for news in news_data:
    print(f"タイトル: {news['title']}")
    print(f"概要: {news['summary']}")
    print(f"日付: {news['date']}")
    print("-" * 40)</code></pre>

                    <div class="exercise-container">
                        <h5>実習 9-2: Web APIとデータ分析の統合プロジェクト</h5>
                        <p>requestsでAPIからデータを取得し、pandasで分析・可視化するプログラムを作成しましょう。</p>
                        
                        <h6>コード例</h6>
                        <pre><code>import requests
import pandas as pd
import json
from datetime import datetime, timedelta

class CryptoAnalyzer:
    """暗号通貨価格分析クラス"""
    
    def __init__(self):
        self.base_url = "https://api.coindesk.com/v1/bpi"
        self.data = None
    
    def fetch_historical_data(self, days=30):
        """過去の価格データを取得"""
        end_date = datetime.now()
        start_date = end_date - timedelta(days=days)
        
        # CoinDesk API（Bitcoin価格指数）
        url = f"{self.base_url}/historical/close.json"
        params = {
            'start': start_date.strftime('%Y-%m-%d'),
            'end': end_date.strftime('%Y-%m-%d')
        }
        
        try:
            response = requests.get(url, params=params)
            response.raise_for_status()
            
            data = response.json()
            price_data = data['bpi']
            
            # DataFrameに変換
            df = pd.DataFrame(list(price_data.items()), 
                            columns=['date', 'price'])
            df['date'] = pd.to_datetime(df['date'])
            df['price'] = df['price'].astype(float)
            df = df.sort_values('date')
            
            self.data = df
            print(f"✓ {len(df)}日分のデータを取得しました")
            return df
            
        except requests.exceptions.RequestException as e:
            print(f"✗ データ取得エラー: {e}")
            return None
    
    def analyze_data(self):
        """データ分析を実行"""
        if self.data is None:
            print("データが取得されていません")
            return
        
        df = self.data.copy()
        
        # 基本統計
        print("=== Bitcoin価格分析結果 ===")
        print(f"期間: {df['date'].min().date()} ～ {df['date'].max().date()}")
        print(f"最高価格: ${df['price'].max():,.2f}")
        print(f"最低価格: ${df['price'].min():,.2f}")
        print(f"平均価格: ${df['price'].mean():,.2f}")
        print(f"標準偏差: ${df['price'].std():,.2f}")
        
        # 価格変動の計算
        df['price_change'] = df['price'].diff()
        df['price_change_pct'] = df['price'].pct_change() * 100
        
        print(f"\n=== 価格変動分析 ===")
        print(f"最大上昇: ${df['price_change'].max():,.2f} ({df['price_change_pct'].max():.2f}%)")
        print(f"最大下落: ${df['price_change'].min():,.2f} ({df['price_change_pct'].min():.2f}%)")
        print(f"平均変動率: {df['price_change_pct'].mean():.2f}%")
        
        # 移動平均の計算
        df['ma_7'] = df['price'].rolling(window=7).mean()
        df['ma_30'] = df['price'].rolling(window=30).mean()
        
        # トレンド分析
        current_price = df['price'].iloc[-1]
        ma_7_current = df['ma_7'].iloc[-1]
        
        if current_price > ma_7_current:
            trend = "上昇トレンド"
        else:
            trend = "下降トレンド"
        
        print(f"\n=== トレンド分析 ===")
        print(f"現在価格: ${current_price:,.2f}")
        print(f"7日移動平均: ${ma_7_current:,.2f}")
        print(f"トレンド: {trend}")
        
        return df
    
    def save_analysis(self, filename="bitcoin_analysis.csv"):
        """分析結果をCSVに保存"""
        if self.data is not None:
            self.data.to_csv(filename, index=False)
            print(f"✓ 分析結果を {filename} に保存しました")
        else:
            print("保存するデータがありません")
    
    def create_summary_report(self):
        """サマリーレポートを作成"""
        if self.data is None:
            print("データが取得されていません")
            return
        
        df = self.data
        
        # レポート作成
        report = f"""
Bitcoin価格分析レポート
生成日時: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}

【データ概要】
・分析期間: {df['date'].min().date()} ～ {df['date'].max().date()}
・データ件数: {len(df)}件

【価格統計】
・最高価格: ${df['price'].max():,.2f}
・最低価格: ${df['price'].min():,.2f}
・平均価格: ${df['price'].mean():,.2f}
・中央値: ${df['price'].median():,.2f}

【変動性】
・標準偏差: ${df['price'].std():,.2f}
・変動係数: {(df['price'].std() / df['price'].mean()) * 100:.2f}%

【価格変動】
・最大上昇額: ${df['price'].diff().max():,.2f}
・最大下落額: ${df['price'].diff().min():,.2f}
・平均変動率: {df['price'].pct_change().mean() * 100:.2f}%

このレポートは教育目的で作成されました。
投資判断には使用しないでください。
        """
        
        # レポートをファイルに保存
        with open("bitcoin_report.txt", "w", encoding="utf-8") as f:
            f.write(report)
        
        print("✓ レポートを bitcoin_report.txt に保存しました")
        print(report)

# 使用例
if __name__ == "__main__":
    analyzer = CryptoAnalyzer()
    
    # データ取得
    df = analyzer.fetch_historical_data(days=30)
    
    if df is not None:
        # 分析実行
        analyzed_df = analyzer.analyze_data()
        
        # 結果保存
        analyzer.save_analysis()
        analyzer.create_summary_report()</code></pre>
                    </div>

                    <h3 class="section-title">9.4 プロジェクト構成とパッケージ化</h3>
                    <p>Pythonプロジェクトの標準的な構成と、自作パッケージの作成方法について学びます。</p>
                    
                    <h4>標準的なプロジェクト構造</h4>
                    <pre><code># 推奨されるプロジェクト構造
my_project/
│
├── README.md                # プロジェクトの説明
├── requirements.txt         # 依存関係
├── setup.py                # パッケージ設定（従来方式）
├── pyproject.toml          # 現代的なパッケージ設定
├── .gitignore              # Git除外ファイル
├── .env                    # 環境変数（秘匿情報）
│
├── src/                    # ソースコード
│   └── my_package/
│       ├── __init__.py
│       ├── main.py
│       ├── utils.py
│       └── models/
│           ├── __init__.py
│           └── data_models.py
│
├── tests/                  # テストコード
│   ├── __init__.py
│   ├── test_main.py
│   └── test_utils.py
│
├── docs/                   # ドキュメント
│   ├── index.md
│   └── api.md
│
└── examples/               # 使用例
    ├── basic_example.py
    └── advanced_example.py</code></pre>

                    <h4>setup.pyとpyproject.tomlの例</h4>
                    <pre><code># setup.py の例
from setuptools import setup, find_packages

with open("README.md", "r", encoding="utf-8") as fh:
    long_description = fh.read()

setup(
    name="my-package",
    version="0.1.0",
    author="Your Name",
    author_email="your.email@example.com",
    description="A short description of your package",
    long_description=long_description,
    long_description_content_type="text/markdown",
    url="https://github.com/yourusername/my-package",
    packages=find_packages(where="src"),
    package_dir={"": "src"},
    classifiers=[
        "Development Status :: 3 - Alpha",
        "Intended Audience :: Developers",
        "License :: OSI Approved :: MIT License",
        "Operating System :: OS Independent",
        "Programming Language :: Python :: 3",
        "Programming Language :: Python :: 3.8",
        "Programming Language :: Python :: 3.9",
        "Programming Language :: Python :: 3.10",
    ],
    python_requires=">=3.8",
    install_requires=[
        "requests>=2.25.0",
        "pandas>=1.3.0",
    ],
    extras_require={
        "dev": [
            "pytest>=6.0",
            "black>=21.0",
            "flake8>=3.8",
        ],
    },
)

# pyproject.toml の例（より現代的）
"""
[build-system]
requires = ["setuptools>=45", "wheel", "setuptools_scm[toml]>=6.2"]
build-backend = "setuptools.build_meta"

[project]
name = "my-package"
version = "0.1.0"
description = "A short description of your package"
readme = "README.md"
authors = [
    {name = "Your Name", email = "your.email@example.com"},
]
license = {text = "MIT"}
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
]
requires-python = ">=3.8"
dependencies = [
    "requests>=2.25.0",
    "pandas>=1.3.0",
]

[project.optional-dependencies]
dev = [
    "pytest>=6.0",
    "black>=21.0",
    "flake8>=3.8",
]

[project.urls]
Homepage = "https://github.com/yourusername/my-package"
Repository = "https://github.com/yourusername/my-package"
Issues = "https://github.com/yourusername/my-package/issues"

[tool.setuptools.packages.find]
where = ["src"]

[tool.setuptools.package-dir]
"" = "src"
"""</code></pre>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li><strong>問題1:</strong> 仮想環境を作成するコマンドは何ですか？</li>
                            <li><strong>問題2:</strong> requirements.txtを作成するコマンドは？</li>
                            <li><strong>問題3:</strong> requestsライブラリでJSONレスポンスを取得するメソッドは？</li>
                            <li><strong>問題4:</strong> pandasでCSVファイルを読み込む関数は？</li>
                        </ol>
                        
                        <details style="margin-top: 1rem;">
                            <summary>解答を見る</summary>
                            <div style="margin-top: 0.5rem;">
                                <p><strong>解答:</strong></p>
                                <ol>
                                    <li>python -m venv [環境名]</li>
                                    <li>pip freeze > requirements.txt</li>
                                    <li>.json()</li>
                                    <li>pd.read_csv()</li>
                                </ol>
                            </div>
                        </details>
                    </div>

                    <h3 class="section-title">9.5 まとめ</h3>
                    <p>この章では、外部ライブラリの活用とパッケージ管理について学習しました。これらのスキルにより、Pythonエコシステムを最大限に活用できます。</p>

                    <div class="highlight">
                        <h6>重要なポイント</h6>
                        <ul>
                            <li>pip：パッケージのインストールと管理</li>
                            <li>仮想環境：プロジェクトの分離と依存関係管理</li>
                            <li>requirements.txt：再現可能な環境構築</li>
                            <li>外部ライブラリ：requests、pandas、Beautiful Soupの基本的な使い方</li>
                            <li>プロジェクト構成：保守可能なコード組織</li>
                        </ul>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="python-learning-material-8.html" class="btn btn-secondary">← 前の章: 標準ライブラリの活用</a>
                        <a href="python-learning-material-10.html" class="btn btn-primary">次の章: 実践プロジェクト開発 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>