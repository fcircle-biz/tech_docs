<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Django学習教材 第3章 - ビューとURLルーティング</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- カスタムCSS -->
    <style>
        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ナビゲーション */
        .navbar {
            background-color: #2e7d32;
        }

        /* サイドバー */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
        }

        /* タイトル */
        .chapter-title {
            color: #2e7d32;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #2e7d32;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #388e3c;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* コンテンツボックス */
        .quiz-container {
            background-color: #e8f5e9;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #2e7d32;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        /* コードハイライト */
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* ナビゲーション */
        .nav-link.active {
            background-color: #2e7d32 !important;
            color: white !important;
        }

        .nav-link:hover {
            background-color: #388e3c !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>Django学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-1.html">
                                第1章: Django入門と環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-2.html">
                                第2章: モデルとデータベース設計
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="django-learning-material-3.html">
                                第3章: ビューとURLルーティング
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-4.html">
                                第4章: テンプレートとフロントエンド統合
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-5.html">
                                第5章: フォームとユーザー入力処理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-6.html">
                                第6章: 認証とユーザー管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-7.html">
                                第7章: Django REST Framework入門
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-8.html">
                                第8章: テストとデバッグ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-9.html">
                                第9章: デプロイメントと本番環境設定
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="django-learning-material-10.html">
                                第10章: 高度な機能と最適化
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- 章ヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第3章: ビューとURLルーティング</h1>
                </div>

                <div id="chapter3">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">Webリクエストからレスポンスまでの制御フロー</h2>
                    
                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>DjangoのURLルーティングシステム（URLconf）の仕組みを理解する</li>
                            <li>関数ベースビュー（Function-Based Views）の作成と活用方法を習得する</li>
                            <li>クラスベースビュー（Class-Based Views）の概念と実装方法を学ぶ</li>
                            <li>URLパラメータの取得と処理方法を理解する</li>
                            <li>HttpRequest/HttpResponseオブジェクトの活用法を習得する</li>
                        </ul>
                    </div>

                    <!-- セクション1: URLルーティングの基礎 -->
                    <h3 class="section-title">3.1 DjangoのURLルーティングシステム</h3>
                    <p>
                        <strong>URLルーティング</strong>とは、ユーザーがアクセスしたURLを適切なビュー関数に転送するシステムです。
                        Djangoでは<code>urls.py</code>ファイルでURL パターンを定義し、それをビュー関数と関連付けます。
                    </p>
                    
                    <div class="mermaid">
                        sequenceDiagram
                            participant User as ユーザー
                            participant URL as URLconf<br/>(urls.py)
                            participant View as View関数<br/>(views.py)
                            participant Model as Model<br/>(models.py)
                            participant Templ as Template<br/>(.html)
                            
                            User->>URL: HTTPリクエスト<br/>/blog/posts/
                            URL->>View: URLパターンマッチ<br/>post_list関数呼び出し
                            View->>Model: データ取得要求
                            Model-->>View: QuerySet結果
                            View->>Templ: コンテキストデータ渡し
                            Templ-->>View: レンダリング済みHTML
                            View-->>User: HTTPレスポンス<br/>(HTMLページ)
                    </div>

                    <h4>プロジェクトレベルのURL設定</h4>
                    <p>メインプロジェクトの<code>urls.py</code>で、アプリケーションのURLを組み込みます：</p>

                    <pre class="code-block"><code class="language-python"># mysite/urls.py（プロジェクトのメインURLconf）
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('blog/', include('blog.urls')),  # blogアプリのURLを組み込み
    path('', include('blog.urls')),       # ルートURLも blogアプリに転送
]</code></pre>

                    <h4>アプリケーションレベルのURL設定</h4>
                    <p>各アプリケーション内に<code>urls.py</code>を作成し、詳細なURLパターンを定義します：</p>

                    <pre class="code-block"><code class="language-python"># blog/urls.py（アプリケーション固有のURLconf）
from django.urls import path
from . import views

app_name = 'blog'  # ネームスペース定義

urlpatterns = [
    path('', views.post_list, name='post_list'),                    # /blog/
    path('post/&lt;int:pk&gt;/', views.post_detail, name='post_detail'),  # /blog/post/1/
    path('post/new/', views.post_new, name='post_new'),             # /blog/post/new/
    path('post/&lt;int:pk&gt;/edit/', views.post_edit, name='post_edit'), # /blog/post/1/edit/
    path('category/&lt;slug:slug&gt;/', views.category_posts, name='category_posts'),
]</code></pre>

                    <h4>URL パターンの構文</h4>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>パターン</th>
                                <th>説明</th>
                                <th>例</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>&lt;int:name&gt;</code></td>
                                <td>整数値をキャプチャ</td>
                                <td><code>post/&lt;int:pk&gt;/</code> → <code>post/123/</code></td>
                            </tr>
                            <tr>
                                <td><code>&lt;str:name&gt;</code></td>
                                <td>文字列をキャプチャ</td>
                                <td><code>user/&lt;str:username&gt;/</code> → <code>user/tanaka/</code></td>
                            </tr>
                            <tr>
                                <td><code>&lt;slug:name&gt;</code></td>
                                <td>スラグ（URL用文字列）をキャプチャ</td>
                                <td><code>category/&lt;slug:slug&gt;/</code> → <code>category/python/</code></td>
                            </tr>
                            <tr>
                                <td><code>&lt;uuid:name&gt;</code></td>
                                <td>UUIDをキャプチャ</td>
                                <td><code>item/&lt;uuid:id&gt;/</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- セクション2: 関数ベースビュー -->
                    <h3 class="section-title">3.2 関数ベースビュー（Function-Based Views）</h3>
                    <p>
                        関数ベースビューは、Pythonのシンプルな関数としてWebリクエストを処理する最も基本的な方法です。
                        理解しやすく、小規模から中規模のプロジェクトに適しています。
                    </p>

                    <h4>基本的な関数ビューの構造</h4>
                    <pre class="code-block"><code class="language-python"># blog/views.py
from django.shortcuts import render, get_object_or_404
from django.http import HttpResponse, HttpResponseRedirect
from django.urls import reverse
from .models import Post, Category

def post_list(request):
    """ブログ記事の一覧を表示するビュー"""
    posts = Post.objects.filter(published_date__isnull=False).order_by('-published_date')
    return render(request, 'blog/post_list.html', {'posts': posts})

def post_detail(request, pk):
    """個別記事の詳細を表示するビュー"""
    post = get_object_or_404(Post, pk=pk)
    return render(request, 'blog/post_detail.html', {'post': post})

def category_posts(request, slug):
    """カテゴリー別記事の一覧を表示するビュー"""
    category = get_object_or_404(Category, name=slug)
    posts = Post.objects.filter(category=category, published_date__isnull=False)
    context = {
        'category': category,
        'posts': posts
    }
    return render(request, 'blog/category_posts.html', context)</code></pre>

                    <h4>HTTPリクエストメソッドの処理</h4>
                    <p>GET、POSTなどのHTTPメソッドに応じて処理を分岐する方法：</p>

                    <pre class="code-block"><code class="language-python">def post_new(request):
    """新規記事作成ビュー"""
    if request.method == 'POST':
        # POSTデータの処理（記事作成）
        title = request.POST.get('title')
        content = request.POST.get('content')
        
        if title and content:
            post = Post.objects.create(
                title=title,
                content=content,
                author=request.user
            )
            return HttpResponseRedirect(reverse('blog:post_detail', args=[post.pk]))
    
    # GETリクエストまたはフォームエラー時
    return render(request, 'blog/post_form.html')</code></pre>

                    <!-- 実習1 -->
                    <div class="exercise-container">
                        <h5>実習 3-1: 基本的なビューとURLの実装</h5>
                        <p>前章で作成したブログモデルを使用して、記事一覧と詳細表示のビューを作成しましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li>blog/urls.py ファイルを新規作成する</li>
                            <li>基本的なビュー関数を blog/views.py に実装する</li>
                            <li>プロジェクトのメインURLconfに組み込む</li>
                            <li>開発サーバーでURLアクセスを確認する</li>
                        </ol>

                        <h6>実行確認</h6>
                        <pre class="code-block"><code class="language-bash"># 開発サーバーを起動
python manage.py runserver

# ブラウザで以下をテスト:
# http://127.0.0.1:8000/blog/
# http://127.0.0.1:8000/blog/post/1/</code></pre>

                        <h6>期待される結果</h6>
                        <p>
                            テンプレートファイルは未実装でも、ビュー関数が呼ばれていることを確認できます。
                            適切なURL パターンマッチングが動作し、エラーなくビューにアクセスできます。
                        </p>
                    </div>

                    <!-- セクション3: HttpRequest/Response -->
                    <h3 class="section-title">3.3 HttpRequestとHttpResponseオブジェクト</h3>
                    <p>
                        すべてのDjangoビューは<strong>HttpRequest</strong>オブジェクトを受け取り、<strong>HttpResponse</strong>オブジェクトを返します。
                        これらのオブジェクトを理解することで、より柔軟なWebアプリケーションを構築できます。
                    </p>

                    <h4>HttpRequestオブジェクトの主要属性</h4>
                    <pre class="code-block"><code class="language-python">def debug_request(request):
    """リクエスト情報をデバッグ表示するビュー"""
    debug_info = {
        'method': request.method,                    # 'GET', 'POST', etc.
        'path': request.path,                        # '/blog/post/1/'
        'GET_params': dict(request.GET),             # クエリパラメータ
        'POST_data': dict(request.POST),             # POSTデータ
        'headers': dict(request.META),               # HTTPヘッダー
        'user': request.user,                        # ログインユーザー
        'session': dict(request.session),            # セッション情報
        'is_ajax': request.META.get('HTTP_X_REQUESTED_WITH') == 'XMLHttpRequest'
    }
    
    return render(request, 'debug.html', {'debug_info': debug_info})</code></pre>

                    <h4>様々なHttpResponse</h4>
                    <pre class="code-block"><code class="language-python">from django.http import HttpResponse, JsonResponse, HttpResponseRedirect
from django.http import Http404, HttpResponseNotFound

def various_responses(request):
    """様々なレスポンス形式の例"""
    
    response_type = request.GET.get('type', 'html')
    
    if response_type == 'json':
        # JSON レスポンス
        data = {'message': 'Hello JSON', 'status': 'success'}
        return JsonResponse(data)
    
    elif response_type == 'text':
        # プレーンテキストレスポンス
        return HttpResponse('Hello Plain Text', content_type='text/plain')
    
    elif response_type == 'redirect':
        # リダイレクト
        return HttpResponseRedirect('/blog/')
    
    elif response_type == '404':
        # 404エラー
        raise Http404('Page not found')
    
    else:
        # デフォルトHTMLレスポンス
        return HttpResponse('&lt;h1&gt;Hello HTML&lt;/h1&gt;')</code></pre>

                    <!-- セクション4: クラスベースビュー -->
                    <h3 class="section-title">3.4 クラスベースビュー（Class-Based Views）</h3>
                    <p>
                        クラスベースビューは、よく使われるパターンを再利用可能なクラスとして提供する高レベルなビューシステムです。
                        特にCRUD操作（Create, Read, Update, Delete）で威力を発揮します。
                    </p>

                    <h4>基本的な汎用ビュー</h4>
                    <pre class="code-block"><code class="language-python"># blog/views.py
from django.views.generic import ListView, DetailView, CreateView, UpdateView
from django.urls import reverse_lazy
from .models import Post

class PostListView(ListView):
    """記事一覧ビュー"""
    model = Post
    template_name = 'blog/post_list.html'
    context_object_name = 'posts'
    paginate_by = 10
    
    def get_queryset(self):
        """公開済み記事のみ取得"""
        return Post.objects.filter(published_date__isnull=False).order_by('-published_date')

class PostDetailView(DetailView):
    """記事詳細ビュー"""
    model = Post
    template_name = 'blog/post_detail.html'
    context_object_name = 'post'

class PostCreateView(CreateView):
    """記事作成ビュー"""
    model = Post
    fields = ['title', 'content', 'category', 'tags']
    template_name = 'blog/post_form.html'
    success_url = reverse_lazy('blog:post_list')
    
    def form_valid(self, form):
        """フォーム送信時の処理"""
        form.instance.author = self.request.user
        return super().form_valid(form)</code></pre>

                    <h4>クラスベースビュー用URL設定</h4>
                    <pre class="code-block"><code class="language-python"># blog/urls.py (クラスベースビューを使用)
from django.urls import path
from . import views

app_name = 'blog'

urlpatterns = [
    path('', views.PostListView.as_view(), name='post_list'),
    path('post/&lt;int:pk&gt;/', views.PostDetailView.as_view(), name='post_detail'),
    path('post/new/', views.PostCreateView.as_view(), name='post_new'),
    path('post/&lt;int:pk&gt;/edit/', views.PostUpdateView.as_view(), name='post_edit'),
]</code></pre>

                    <h4>関数ベース vs クラスベースビューの比較</h4>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>観点</th>
                                <th>関数ベースビュー</th>
                                <th>クラスベースビュー</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>学習コスト</strong></td>
                                <td>低い（理解しやすい）</td>
                                <td>高い（継承・ミックスイン理解が必要）</td>
                            </tr>
                            <tr>
                                <td><strong>コード量</strong></td>
                                <td>多い（定型処理も自分で実装）</td>
                                <td>少ない（多くが自動化）</td>
                            </tr>
                            <tr>
                                <td><strong>柔軟性</strong></td>
                                <td>高い（すべて自由に制御）</td>
                                <td>中程度（定められた方法で拡張）</td>
                            </tr>
                            <tr>
                                <td><strong>再利用性</strong></td>
                                <td>低い</td>
                                <td>高い（継承・ミックスインで拡張）</td>
                            </tr>
                            <tr>
                                <td><strong>適用場面</strong></td>
                                <td>独特な処理・単純なビュー</td>
                                <td>CRUD操作・標準的なパターン</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- セクション5: URLの逆引き -->
                    <h3 class="section-title">3.5 URLの逆引きとネームスペース</h3>
                    <p>
                        Djangoでは、URLパターンに名前を付けることで、ハードコードせずにURLを生成できます。
                        これにより、URL構造の変更に柔軟に対応できるアプリケーションを構築できます。
                    </p>

                    <h4>テンプレート内でのURL逆引き</h4>
                    <pre class="code-block"><code class="language-html">&lt;!-- blog/templates/blog/post_list.html --&gt;
&lt;div class="container"&gt;
    &lt;h1&gt;ブログ記事一覧&lt;/h1&gt;
    &lt;a href="{% url 'blog:post_new' %}" class="btn btn-primary"&gt;新規投稿&lt;/a&gt;
    
    {% for post in posts %}
        &lt;article class="post"&gt;
            &lt;h2&gt;
                &lt;a href="{% url 'blog:post_detail' pk=post.pk %}"&gt;{{ post.title }}&lt;/a&gt;
            &lt;/h2&gt;
            &lt;p&gt;{{ post.content|truncatewords:30 }}&lt;/p&gt;
            &lt;p&gt;投稿日: {{ post.created_date|date:"Y年m月d日" }}&lt;/p&gt;
            &lt;a href="{% url 'blog:post_edit' pk=post.pk %}"&gt;編集&lt;/a&gt;
        &lt;/article&gt;
    {% empty %}
        &lt;p&gt;まだ記事がありません。&lt;/p&gt;
    {% endfor %}
&lt;/div&gt;</code></pre>

                    <h4>ビュー内でのURL逆引き</h4>
                    <pre class="code-block"><code class="language-python">from django.urls import reverse
from django.shortcuts import redirect

def post_publish(request, pk):
    """記事を公開するビュー"""
    post = get_object_or_404(Post, pk=pk)
    post.publish()
    
    # 名前付きURLパターンを使用してリダイレクト
    return redirect('blog:post_detail', pk=post.pk)
    
    # または reverse() を使用
    # return HttpResponseRedirect(reverse('blog:post_detail', args=[post.pk]))</code></pre>

                    <!-- 実習2 -->
                    <div class="exercise-container">
                        <h5>実習 3-2: クラスベースビューの実装</h5>
                        <p>ブログアプリケーションにクラスベースビューを導入し、CRUD機能を実装してみましょう。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li>既存の関数ベースビューをクラスベースビューに変換する</li>
                            <li>PostCreateView、PostUpdateViewを追加実装する</li>
                            <li>適切なテンプレートファイルを作成する</li>
                            <li>URL逆引きを活用したナビゲーションを実装する</li>
                        </ol>

                        <h6>実装例</h6>
                        <pre class="code-block"><code class="language-python"># 追加するクラスベースビュー
class PostUpdateView(UpdateView):
    model = Post
    fields = ['title', 'content', 'category', 'tags']
    template_name = 'blog/post_form.html'
    
    def get_success_url(self):
        return reverse('blog:post_detail', kwargs={'pk': self.object.pk})</code></pre>

                        <h6>期待される結果</h6>
                        <p>
                            より少ないコードでCRUD機能が完成し、URLの逆引きにより柔軟なナビゲーションが実現できます。
                            フォーム処理やバリデーションも自動化されます。
                        </p>
                    </div>

                    <!-- 理解度確認クイズ -->
                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li><strong>URL パターン <code>post/&lt;int:pk&gt;/</code> で、URLが <code>post/123/</code> の場合、ビュー関数に渡される引数は？</strong>
                                <ul>
                                    <li>a) pk='123'</li>
                                    <li>b) pk=123</li>
                                    <li>c) id=123</li>
                                    <li>d) post_id=123</li>
                                </ul>
                            </li>
                            <li><strong>関数ベースビューでPOSTリクエストを処理する際の条件分岐方法は？</strong>
                                <ul>
                                    <li>a) if request.is_post():</li>
                                    <li>b) if request.method == 'POST':</li>
                                    <li>c) if request.POST:</li>
                                    <li>d) if request.method is 'POST':</li>
                                </ul>
                            </li>
                            <li><strong>クラスベースビューをURLconfで使用する際に必要なメソッドは？</strong>
                                <ul>
                                    <li>a) .view()</li>
                                    <li>b) .as_view()</li>
                                    <li>c) .get_view()</li>
                                    <li>d) .to_view()</li>
                                </ul>
                            </li>
                            <li><strong>テンプレート内でURL逆引きを行うテンプレートタグは？</strong>
                                <ul>
                                    <li>a) {% reverse 'blog:post_list' %}</li>
                                    <li>b) {% url 'blog:post_list' %}</li>
                                    <li>c) {{ url 'blog:post_list' }}</li>
                                    <li>d) {% get_url 'blog:post_list' %}</li>
                                </ul>
                            </li>
                            <li><strong>get_object_or_404()の動作は？</strong>
                                <ul>
                                    <li>a) オブジェクトが存在しない場合、Noneを返す</li>
                                    <li>b) オブジェクトが存在しない場合、Http404例外を発生</li>
                                    <li>c) オブジェクトが存在しない場合、空のクエリセットを返す</li>
                                    <li>d) オブジェクトが存在しない場合、500エラーを発生</li>
                                </ul>
                            </li>
                        </ol>
                        
                        <details>
                            <summary>解答を見る</summary>
                            <p>
                                1. b) pk=123 - 整数型として渡される<br>
                                2. b) if request.method == 'POST': - HTTPメソッドの確認方法<br>
                                3. b) .as_view() - クラスベースビューをURLで使用するメソッド<br>
                                4. b) {% url 'blog:post_list' %} - URL逆引きテンプレートタグ<br>
                                5. b) オブジェクトが存在しない場合、Http404例外を発生 - 404エラーの自動生成
                            </p>
                        </details>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="django-learning-material-2.html" class="btn btn-secondary">← 前の章</a>
                        <a href="django-learning-material-4.html" class="btn btn-primary">次の章 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>