<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Streamlitå­¦ç¿’æ•™æ ç¬¬4ç«  - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <style>
        /* ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .navbar {
            background-color: #4caf50;
        }

        /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: #f8f9fa;
        }

        /* ã‚¿ã‚¤ãƒˆãƒ« */
        .chapter-title {
            color: #4caf50;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #4caf50;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #66bb6a;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒœãƒƒã‚¯ã‚¹ */
        .quiz-container {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #4caf50;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .info-box {
            background-color: #e1f5fe;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #2196F3;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .nav-link.active {
            background-color: #4caf50 !important;
            color: white !important;
        }

        .nav-link {
            color: #666;
        }

        .nav-link:hover {
            background-color: #e8f5e8;
            color: #4caf50;
        }

        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        pre {
            background-color: #f5f5f5;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
        }

        code {
            background-color: #f5f5f5;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Streamlitå­¦ç¿’æ•™æ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="../README.md">å­¦ç¿’ã‚¬ã‚¤ãƒ‰ã«æˆ»ã‚‹</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        ç« ã®ä¸€è¦§
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-1.html">ç¬¬1ç« : å…¥é–€ã¨ç’°å¢ƒæ§‹ç¯‰</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-2.html">ç¬¬2ç« : åŸºæœ¬çš„ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-3.html">ç¬¬3ç« : ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã¨å¯è¦–åŒ–</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="#chapter4">ç¬¬4ç« : ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-5.html">ç¬¬5ç« : ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ç®¡ç†</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-6.html">ç¬¬6ç« : ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã¨ãƒ‡ãƒ¼ã‚¿å‡¦ç†</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-7.html">ç¬¬7ç« : ãƒãƒ«ãƒãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-8.html">ç¬¬8ç« : ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã¨APIçµ±åˆ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-9.html">ç¬¬9ç« : ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã¨æœ¬ç•ªç’°å¢ƒ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="streamlit-learning-material-10.html">ç¬¬10ç« : å®Ÿè·µçš„ãªãƒ‡ãƒ¼ã‚¿åˆ†æã‚¢ãƒ—ãƒªé–‹ç™º</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- ç« ãƒ˜ãƒƒãƒ€ãƒ¼ -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">ç¬¬4ç« : ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³</h1>
                </div>

                <div id="chapter4">
                    <!-- ç« ã‚¿ã‚¤ãƒˆãƒ« -->
                    <h2 class="chapter-title">ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹</h2>
                    
                    <!-- å­¦ç¿’ç›®æ¨™ -->
                    <div class="highlight">
                        <h5>ã“ã®ç« ã§å­¦ã¶ã“ã¨</h5>
                        <ul>
                            <li>ãƒœã‚¿ãƒ³ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã€ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã®å®Ÿè£…</li>
                            <li>ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã€ãƒãƒ«ãƒã‚»ãƒ¬ã‚¯ãƒˆã€ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®æ´»ç”¨</li>
                            <li>ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã€æ•°å€¤å…¥åŠ›ã€æ—¥ä»˜å…¥åŠ›ã®å‡¦ç†</li>
                            <li>ãƒ•ã‚©ãƒ¼ãƒ ã¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®å®Ÿè£…</li>
                            <li>å‹•çš„ãªUIã®æ›´æ–°ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯</li>
                        </ul>
                    </div>

                    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: åŸºæœ¬çš„ãªå…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ -->
                    <h3 class="section-title">4.1 åŸºæœ¬çš„ãªå…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h3>
                    <p>Streamlitã«ã¯è±Šå¯Œãªå…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã™ã€‚</p>
                    
                    <h4>ä¸»è¦ãªå…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h4>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</th>
                                <th>ç”¨é€”</th>
                                <th>æˆ»ã‚Šå€¤ã®å‹</th>
                                <th>ä¾‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>st.button()</code></td>
                                <td>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œ</td>
                                <td>bool</td>
                                <td>é€ä¿¡ã€ãƒªã‚»ãƒƒãƒˆ</td>
                            </tr>
                            <tr>
                                <td><code>st.checkbox()</code></td>
                                <td>çœŸå½å€¤é¸æŠ</td>
                                <td>bool</td>
                                <td>ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š</td>
                            </tr>
                            <tr>
                                <td><code>st.radio()</code></td>
                                <td>å˜ä¸€é¸æŠ</td>
                                <td>str/int</td>
                                <td>ã‚«ãƒ†ã‚´ãƒªé¸æŠ</td>
                            </tr>
                            <tr>
                                <td><code>st.selectbox()</code></td>
                                <td>ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é¸æŠ</td>
                                <td>any</td>
                                <td>ãƒªã‚¹ãƒˆã‹ã‚‰é¸æŠ</td>
                            </tr>
                            <tr>
                                <td><code>st.multiselect()</code></td>
                                <td>è¤‡æ•°é¸æŠ</td>
                                <td>list</td>
                                <td>è¤‡æ•°é …ç›®é¸æŠ</td>
                            </tr>
                            <tr>
                                <td><code>st.slider()</code></td>
                                <td>æ•°å€¤ç¯„å›²é¸æŠ</td>
                                <td>int/float</td>
                                <td>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 4-1: åŸºæœ¬å…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…</h5>
                        <p>æ§˜ã€…ãªå…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã¦ã€è¨­å®šãƒ‘ãƒãƒ«ä»˜ãã®ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã™ã€‚</p>
                        
                        <h6>basic_inputs.py ã‚’ä½œæˆ</h6>
                        <pre class="code-block"><code class="language-python">import streamlit as st
import pandas as pd
import numpy as np
import plotly.express as px

# ãƒšãƒ¼ã‚¸è¨­å®š
st.set_page_config(
    page_title="å…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ¢",
    page_icon="ğŸ›ï¸",
    layout="wide"
)

st.title("ğŸ›ï¸ ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ¢")

# ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®è¨­å®šãƒ‘ãƒãƒ«
with st.sidebar:
    st.header("ğŸ“‹ è¨­å®šãƒ‘ãƒãƒ«")
    
    # ãƒœã‚¿ãƒ³
    if st.button("ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ", type="primary"):
        st.session_state.data_generated = True
        st.success("ãƒ‡ãƒ¼ã‚¿ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸï¼")
    
    st.divider()
    
    # ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
    show_raw_data = st.checkbox("ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º", value=True)
    show_statistics = st.checkbox("çµ±è¨ˆæƒ…å ±ã‚’è¡¨ç¤º", value=False)
    enable_animation = st.checkbox("ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹åŒ–", value=False)
    
    st.divider()
    
    # ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³
    chart_type = st.radio(
        "ã‚°ãƒ©ãƒ•ã®ç¨®é¡ã‚’é¸æŠ",
        ["ç·šã‚°ãƒ©ãƒ•", "æ£’ã‚°ãƒ©ãƒ•", "æ•£å¸ƒå›³", "ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ "]
    )
    
    st.divider()
    
    # ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹
    dataset_size = st.selectbox(
        "ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚µã‚¤ã‚º",
        ["å° (100)", "ä¸­ (500)", "å¤§ (1000)"],
        index=1
    )
    
    # æ•°å€¤ã‚’æŠ½å‡º
    size_map = {"å° (100)": 100, "ä¸­ (500)": 500, "å¤§ (1000)": 1000}
    data_size = size_map[dataset_size]
    
    st.divider()
    
    # ãƒãƒ«ãƒã‚»ãƒ¬ã‚¯ãƒˆ
    selected_columns = st.multiselect(
        "è¡¨ç¤ºã™ã‚‹åˆ—ã‚’é¸æŠ",
        ["A", "B", "C", "D", "E"],
        default=["A", "B", "C"]
    )
    
    st.divider()
    
    # ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
    noise_level = st.slider(
        "ãƒã‚¤ã‚ºãƒ¬ãƒ™ãƒ«",
        min_value=0.0,
        max_value=2.0,
        value=0.5,
        step=0.1
    )
    
    random_seed = st.slider(
        "ãƒ©ãƒ³ãƒ€ãƒ ã‚·ãƒ¼ãƒ‰",
        min_value=1,
        max_value=100,
        value=42
    )

# ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢
if 'data_generated' not in st.session_state:
    st.info("ğŸ‘ˆ ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®'ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ'ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„")
else:
    # ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
    np.random.seed(random_seed)
    data = pd.DataFrame({
        'A': np.random.randn(data_size) + noise_level * np.random.randn(data_size),
        'B': np.random.randn(data_size) + noise_level * np.random.randn(data_size),
        'C': np.random.randn(data_size) + noise_level * np.random.randn(data_size),
        'D': np.random.randn(data_size) + noise_level * np.random.randn(data_size),
        'E': np.random.randn(data_size) + noise_level * np.random.randn(data_size)
    })
    
    # é¸æŠã•ã‚ŒãŸåˆ—ã®ã¿ãƒ•ã‚£ãƒ«ã‚¿
    if selected_columns:
        filtered_data = data[selected_columns]
    else:
        st.warning("è¡¨ç¤ºã™ã‚‹åˆ—ã‚’é¸æŠã—ã¦ãã ã•ã„")
        filtered_data = data
    
    # æƒ…å ±è¡¨ç¤º
    col1, col2, col3, col4 = st.columns(4)
    
    with col1:
        st.metric("ãƒ‡ãƒ¼ã‚¿æ•°", f"{len(filtered_data):,}")
    
    with col2:
        st.metric("åˆ—æ•°", len(filtered_data.columns))
    
    with col3:
        st.metric("ãƒã‚¤ã‚ºãƒ¬ãƒ™ãƒ«", f"{noise_level:.1f}")
    
    with col4:
        st.metric("ã‚·ãƒ¼ãƒ‰å€¤", random_seed)
    
    # ã‚°ãƒ©ãƒ•è¡¨ç¤º
    st.subheader(f"ğŸ“Š {chart_type}")
    
    if chart_type == "ç·šã‚°ãƒ©ãƒ•":
        fig = px.line(filtered_data, title="æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿")
        if enable_animation:
            fig.update_traces(line=dict(width=3))
    
    elif chart_type == "æ£’ã‚°ãƒ©ãƒ•":
        mean_values = filtered_data.mean()
        fig = px.bar(x=mean_values.index, y=mean_values.values, title="å¹³å‡å€¤æ¯”è¼ƒ")
    
    elif chart_type == "æ•£å¸ƒå›³":
        if len(filtered_data.columns) >= 2:
            fig = px.scatter(
                filtered_data, 
                x=filtered_data.columns[0], 
                y=filtered_data.columns[1],
                title=f"{filtered_data.columns[0]} vs {filtered_data.columns[1]}"
            )
        else:
            st.error("æ•£å¸ƒå›³ã«ã¯å°‘ãªãã¨ã‚‚2ã¤ã®åˆ—ãŒå¿…è¦ã§ã™")
            fig = None
    
    elif chart_type == "ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ":
        fig = px.histogram(
            filtered_data.melt(var_name='åˆ—', value_name='å€¤'),
            x='å€¤',
            color='åˆ—',
            title="ãƒ‡ãƒ¼ã‚¿åˆ†å¸ƒ"
        )
    
    if 'fig' in locals() and fig is not None:
        st.plotly_chart(fig, use_container_width=True)
    
    # ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã‚ªãƒ—ã‚·ãƒ§ãƒ³
    if show_raw_data:
        st.subheader("ğŸ“‹ ç”Ÿãƒ‡ãƒ¼ã‚¿")
        st.dataframe(filtered_data, use_container_width=True)
    
    if show_statistics:
        st.subheader("ğŸ“Š çµ±è¨ˆæƒ…å ±")
        st.dataframe(filtered_data.describe(), use_container_width=True)
</code></pre>
                        
                        <h6>å®Ÿè¡Œã¨ç¢ºèª</h6>
                        <pre class="code-block"><code class="language-bash">streamlit run basic_inputs.py</code></pre>
                        
                        <h6>æœŸå¾…ã•ã‚Œã‚‹çµæœ</h6>
                        <p>ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®è¨­å®šãƒ‘ãƒãƒ«ã§å„ç¨®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ã®ã‚°ãƒ©ãƒ•ã¨è¡¨ç¤ºå†…å®¹ãŒå‹•çš„ã«æ›´æ–°ã•ã‚Œã¾ã™ã€‚</p>
                    </div>

                    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ãƒ†ã‚­ã‚¹ãƒˆã¨æ•°å€¤å…¥åŠ› -->
                    <h3 class="section-title">4.2 ãƒ†ã‚­ã‚¹ãƒˆã¨æ•°å€¤å…¥åŠ›</h3>
                    <p>ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã‚„ãƒ‡ãƒ¼ã‚¿åé›†ã«å¿…è¦ãªãƒ†ã‚­ã‚¹ãƒˆãƒ»æ•°å€¤å…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å­¦ç¿’ã—ã¾ã™ã€‚</p>

                    <h4>å…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç¨®é¡</h4>
                    <div class="info-box">
                        <h6>ãƒ†ã‚­ã‚¹ãƒˆç³»å…¥åŠ›</h6>
                        <ul>
                            <li><strong>st.text_input()</strong>: å˜è¡Œãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›</li>
                            <li><strong>st.text_area()</strong>: è¤‡æ•°è¡Œãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›</li>
                            <li><strong>st.password_input()</strong>: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ï¼ˆéè¡¨ç¤ºï¼‰</li>
                        </ul>
                        
                        <h6>æ•°å€¤ãƒ»æ—¥ä»˜ç³»å…¥åŠ›</h6>
                        <ul>
                            <li><strong>st.number_input()</strong>: æ•°å€¤å…¥åŠ›</li>
                            <li><strong>st.date_input()</strong>: æ—¥ä»˜é¸æŠ</li>
                            <li><strong>st.time_input()</strong>: æ™‚åˆ»é¸æŠ</li>
                        </ul>
                    </div>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 4-2: ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã®ä½œæˆ</h5>
                        <p>æ§˜ã€…ãªå…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
                        
                        <h6>input_forms.py ã‚’ä½œæˆ</h6>
                        <pre class="code-block"><code class="language-python">import streamlit as st
import pandas as pd
from datetime import datetime, date
import re

# ãƒšãƒ¼ã‚¸è¨­å®š
st.set_page_config(
    page_title="å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¢",
    page_icon="ğŸ“",
    layout="wide"
)

st.title("ğŸ“ ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¢")

# ã‚¿ãƒ–ã§æ•´ç†
tab1, tab2, tab3 = st.tabs(["ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²", "ğŸ“Š ãƒ‡ãƒ¼ã‚¿åˆ†æè¨­å®š", "ğŸ“‹ å…¥åŠ›å±¥æ­´"])

with tab1:
    st.subheader("ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ")
    
    # ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½¿ç”¨ã—ã¦ã¾ã¨ã‚ã¦å‡¦ç†
    with st.form("user_registration"):
        col1, col2 = st.columns(2)
        
        with col1:
            # åŸºæœ¬æƒ…å ±
            st.write("**åŸºæœ¬æƒ…å ±**")
            first_name = st.text_input("å", placeholder="å¤ªéƒ")
            last_name = st.text_input("å§“", placeholder="ç”°ä¸­")
            email = st.text_input("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹", placeholder="user@example.com")
            password = st.text_input("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰", type="password")
            confirm_password = st.text_input("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª", type="password")
        
        with col2:
            # è©³ç´°æƒ…å ±
            st.write("**è©³ç´°æƒ…å ±**")
            birth_date = st.date_input(
                "ç”Ÿå¹´æœˆæ—¥",
                value=date(1990, 1, 1),
                min_value=date(1900, 1, 1),
                max_value=date.today()
            )
            
            gender = st.selectbox(
                "æ€§åˆ¥",
                ["é¸æŠã—ã¦ãã ã•ã„", "ç”·æ€§", "å¥³æ€§", "ãã®ä»–", "å›ç­”ã—ãªã„"]
            )
            
            occupation = st.selectbox(
                "è·æ¥­",
                ["å­¦ç”Ÿ", "ä¼šç¤¾å“¡", "å…¬å‹™å“¡", "è‡ªå–¶æ¥­", "ä¸»å©¦ãƒ»ä¸»å¤«", "ãã®ä»–"]
            )
            
            interests = st.multiselect(
                "èˆˆå‘³ã®ã‚ã‚‹åˆ†é‡",
                ["æŠ€è¡“", "ãƒ“ã‚¸ãƒã‚¹", "ãƒ‡ã‚¶ã‚¤ãƒ³", "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°", "ãƒ‡ãƒ¼ã‚¿åˆ†æ", "AIãƒ»æ©Ÿæ¢°å­¦ç¿’"]
            )
        
        # è¿½åŠ æƒ…å ±
        st.write("**è¿½åŠ æƒ…å ±**")
        bio = st.text_area(
            "è‡ªå·±ç´¹ä»‹",
            placeholder="ç°¡å˜ãªè‡ªå·±ç´¹ä»‹ã‚’ãŠæ›¸ããã ã•ã„...",
            height=100
        )
        
        newsletter = st.checkbox("ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼ã‚’å—ã‘å–ã‚‹")
        terms = st.checkbox("åˆ©ç”¨è¦ç´„ã«åŒæ„ã™ã‚‹")
        
        # é€ä¿¡ãƒœã‚¿ãƒ³
        submitted = st.form_submit_button("ç™»éŒ²", type="primary")
        
        if submitted:
            # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            errors = []
            
            if not first_name or not last_name:
                errors.append("åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
            
            if not email:
                errors.append("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
            elif not re.match(r'^[\w\.-]+@[\w\.-]+\.\w+$', email):
                errors.append("æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
            
            if not password:
                errors.append("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
            elif len(password) < 8:
                errors.append("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã«ã—ã¦ãã ã•ã„")
            elif password != confirm_password:
                errors.append("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“")
            
            if gender == "é¸æŠã—ã¦ãã ã•ã„":
                errors.append("æ€§åˆ¥ã‚’é¸æŠã—ã¦ãã ã•ã„")
            
            if not terms:
                errors.append("åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¦ãã ã•ã„")
            
            # ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã¾ãŸã¯æˆåŠŸå‡¦ç†
            if errors:
                for error in errors:
                    st.error(error)
            else:
                # ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã«ä¿å­˜
                if 'users' not in st.session_state:
                    st.session_state.users = []
                
                user_data = {
                    'ç™»éŒ²æ—¥æ™‚': datetime.now(),
                    'åå‰': f"{last_name} {first_name}",
                    'ãƒ¡ãƒ¼ãƒ«': email,
                    'ç”Ÿå¹´æœˆæ—¥': birth_date,
                    'æ€§åˆ¥': gender,
                    'è·æ¥­': occupation,
                    'èˆˆå‘³åˆ†é‡': ', '.join(interests),
                    'è‡ªå·±ç´¹ä»‹': bio,
                    'ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼': newsletter
                }
                
                st.session_state.users.append(user_data)
                st.success("ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸï¼")
                st.balloons()

with tab2:
    st.subheader("ãƒ‡ãƒ¼ã‚¿åˆ†æè¨­å®š")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.write("**åˆ†æãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**")
        
        sample_size = st.number_input(
            "ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º",
            min_value=10,
            max_value=10000,
            value=1000,
            step=10
        )
        
        confidence_level = st.slider(
            "ä¿¡é ¼åº¦ãƒ¬ãƒ™ãƒ« (%)",
            min_value=90,
            max_value=99,
            value=95,
            step=1
        )
        
        significance_level = st.number_input(
            "æœ‰æ„æ°´æº–",
            min_value=0.01,
            max_value=0.10,
            value=0.05,
            step=0.01,
            format="%.3f"
        )
    
    with col2:
        st.write("**æ™‚é–“è¨­å®š**")
        
        analysis_date = st.date_input(
            "åˆ†æå®Ÿè¡Œæ—¥",
            value=date.today()
        )
        
        analysis_time = st.time_input(
            "åˆ†æå®Ÿè¡Œæ™‚åˆ»",
            value=datetime.now().time()
        )
        
        timeout_minutes = st.slider(
            "ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ (åˆ†)",
            min_value=1,
            max_value=60,
            value=30
        )
    
    st.write("**åˆ†æã‚ªãƒ—ã‚·ãƒ§ãƒ³**")
    
    col3, col4 = st.columns(2)
    
    with col3:
        remove_outliers = st.checkbox("å¤–ã‚Œå€¤ã‚’é™¤å»", value=True)
        normalize_data = st.checkbox("ãƒ‡ãƒ¼ã‚¿ã‚’æ­£è¦åŒ–", value=False)
        save_results = st.checkbox("çµæœã‚’ä¿å­˜", value=True)
    
    with col4:
        create_report = st.checkbox("ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ", value=True)
        send_email = st.checkbox("ãƒ¡ãƒ¼ãƒ«é€šçŸ¥", value=False)
        verbose_output = st.checkbox("è©³ç´°ãƒ­ã‚°", value=False)
    
    if st.button("åˆ†æã‚’å®Ÿè¡Œ", type="primary"):
        # è¨­å®šã®ç¢ºèª
        st.success("åˆ†æè¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸï¼")
        
        with st.expander("è¨­å®šå†…å®¹ã‚’ç¢ºèª"):
            settings = {
                'ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º': sample_size,
                'ä¿¡é ¼åº¦ãƒ¬ãƒ™ãƒ«': f"{confidence_level}%",
                'æœ‰æ„æ°´æº–': significance_level,
                'å®Ÿè¡Œæ—¥æ™‚': f"{analysis_date} {analysis_time}",
                'ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ': f"{timeout_minutes}åˆ†",
                'å¤–ã‚Œå€¤é™¤å»': remove_outliers,
                'ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–': normalize_data,
                'çµæœä¿å­˜': save_results,
                'ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ': create_report,
                'ãƒ¡ãƒ¼ãƒ«é€šçŸ¥': send_email,
                'è©³ç´°ãƒ­ã‚°': verbose_output
            }
            
            for key, value in settings.items():
                st.write(f"- **{key}**: {value}")

with tab3:
    st.subheader("å…¥åŠ›å±¥æ­´")
    
    if 'users' in st.session_state and st.session_state.users:
        st.write(f"**ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°**: {len(st.session_state.users)}äºº")
        
        # ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«å¤‰æ›
        df = pd.DataFrame(st.session_state.users)
        
        # è¡¨ç¤ºã‚ªãƒ—ã‚·ãƒ§ãƒ³
        show_details = st.checkbox("è©³ç´°æƒ…å ±ã‚’è¡¨ç¤º")
        
        if show_details:
            st.dataframe(df, use_container_width=True)
        else:
            # åŸºæœ¬æƒ…å ±ã®ã¿è¡¨ç¤º
            basic_df = df[['ç™»éŒ²æ—¥æ™‚', 'åå‰', 'ãƒ¡ãƒ¼ãƒ«', 'è·æ¥­']].copy()
            st.dataframe(basic_df, use_container_width=True)
        
        # CSV ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        csv = df.to_csv(index=False, encoding='utf-8-sig')
        st.download_button(
            label="CSVå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
            data=csv,
            file_name=f"user_data_{datetime.now().strftime('%Y%m%d_%H%M%S')}.csv",
            mime="text/csv"
        )
        
        # çµ±è¨ˆæƒ…å ±
        st.subheader("ğŸ“Š çµ±è¨ˆæƒ…å ±")
        
        col1, col2, col3 = st.columns(3)
        
        with col1:
            gender_counts = df['æ€§åˆ¥'].value_counts()
            st.write("**æ€§åˆ¥åˆ†å¸ƒ**")
            st.bar_chart(gender_counts)
        
        with col2:
            occupation_counts = df['è·æ¥­'].value_counts()
            st.write("**è·æ¥­åˆ†å¸ƒ**")
            st.bar_chart(occupation_counts)
        
        with col3:
            newsletter_count = df['ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼'].sum()
            total_users = len(df)
            st.metric(
                "ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼ç™»éŒ²ç‡",
                f"{newsletter_count}/{total_users}",
                f"{(newsletter_count/total_users*100):.1f}%"
            )
    
    else:
        st.info("ã¾ã ç™»éŒ²ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã‚¿ãƒ–ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
        
        # ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³
        if st.button("å±¥æ­´ã‚’ã‚¯ãƒªã‚¢"):
            if 'users' in st.session_state:
                del st.session_state.users
            st.success("å±¥æ­´ãŒã‚¯ãƒªã‚¢ã•ã‚Œã¾ã—ãŸ")
</code></pre>
                        
                        <h6>å®Ÿè¡Œã¨ç¢ºèª</h6>
                        <pre class="code-block"><code class="language-bash">streamlit run input_forms.py</code></pre>
                        
                        <h6>æœŸå¾…ã•ã‚Œã‚‹çµæœ</h6>
                        <p>3ã¤ã®ã‚¿ãƒ–ã§æ§‹æˆã•ã‚ŒãŸå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ ãŒè¡¨ç¤ºã•ã‚Œã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨å±¥æ­´ç®¡ç†æ©Ÿèƒ½ãŒç¢ºèªã§ãã¾ã™ã€‚</p>
                    </div>

                    <!-- ç†è§£åº¦ç¢ºèª -->
                    <div class="quiz-container">
                        <h5>ç†è§£åº¦ç¢ºèªã‚¯ã‚¤ã‚º</h5>
                        <ol>
                            <li>
                                <strong>è¤‡æ•°ã®é …ç›®ã‹ã‚‰è¤‡æ•°é¸æŠå¯èƒ½ãªå…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</strong>
                                <ul style="list-style-type: none;">
                                    <li>a) st.selectbox()</li>
                                    <li>b) st.multiselect()</li>
                                    <li>c) st.radio()</li>
                                    <li>d) st.checkbox()</li>
                                </ul>
                                <details style="margin-top: 0.5rem;">
                                    <summary>è§£ç­”ã‚’è¦‹ã‚‹</summary>
                                    <p><strong>ç­”ãˆ: b)</strong> st.multiselect() ã¯è¤‡æ•°ã®é …ç›®ã‚’åŒæ™‚ã«é¸æŠã§ãã¾ã™ã€‚</p>
                                </details>
                            </li>
                            
                            <li>
                                <strong>ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½¿ç”¨ã™ã‚‹åˆ©ç‚¹ã‚’2ã¤æŒ™ã’ã¦ãã ã•ã„</strong>
                                <details style="margin-top: 0.5rem;">
                                    <summary>è§£ç­”ã‚’è¦‹ã‚‹</summary>
                                    <p><strong>ç­”ãˆä¾‹:</strong><br>
                                    1. å…¥åŠ›ãŒã¾ã¨ã‚ã¦å‡¦ç†ã•ã‚Œã€éƒ¨åˆ†çš„ãªå†å®Ÿè¡Œã‚’é˜²ã’ã‚‹<br>
                                    2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€ä¿¡ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¾ã§å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œãªã„<br>
                                    3. è¤‡æ•°ã®å…¥åŠ›ã‚’ä¸€åº¦ã«æ¤œè¨¼ã§ãã‚‹</p>
                                </details>
                            </li>
                            
                            <li>
                                <strong>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ã‚’éè¡¨ç¤ºã«ã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ä½•ã§ã™ã‹ï¼Ÿ</strong>
                                <details style="margin-top: 0.5rem;">
                                    <summary>è§£ç­”ã‚’è¦‹ã‚‹</summary>
                                    <p><strong>ç­”ãˆ:</strong> type="password" ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ st.text_input() ã«æŒ‡å®šã—ã¾ã™ã€‚</p>
                                </details>
                            </li>
                        </ol>
                    </div>

                    <!-- ç« é–“ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="streamlit-learning-material-3.html" class="btn btn-secondary">â† å‰ã®ç« : ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã¨å¯è¦–åŒ–</a>
                        <a href="streamlit-learning-material-5.html" class="btn btn-primary">æ¬¡ã®ç« : ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ç®¡ç† â†’</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js åˆæœŸåŒ– -->
    <script>hljs.highlightAll();</script>
</body>
</html>