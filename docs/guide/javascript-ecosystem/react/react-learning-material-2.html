<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React学習教材 第2章 - JSXとコンポーネントの基礎</title>

    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        .navbar {
            background-color: #667eea;
        }

        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        .chapter-title {
            color: #667eea;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #764ba2;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        .quiz-container {
            background-color: rgba(102, 126, 234, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #667eea;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #764ba2;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #667eea;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .nav-link.active {
            background-color: #667eea !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>React学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-1.html">第1章: React入門と環境構築</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="react-learning-material-2.html">第2章: JSXとコンポーネントの基礎</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-3.html">第3章: PropsとState - データの管理</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-4.html">第4章: イベント処理とユーザーインタラクション</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-5.html">第5章: リストとキー</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-6.html">第6章: React Hooks - useEffectとライフサイクル</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-7.html">第7章: フォームとバリデーション</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-8.html">第8章: APIとの連携</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-9.html">第9章: React Routerとナビゲーション</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="react-learning-material-10.html">第10章: 高度なトピック</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第2章: JSXとコンポーネントの基礎</h1>
                </div>

                <div id="chapter2">
                    <h2 class="chapter-title">JSX - JavaScriptとHTMLの融合</h2>

                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>JSX構文の基礎とJavaScriptとの違いを理解する</li>
                            <li>JSXで式を埋め込む方法を学ぶ</li>
                            <li>関数コンポーネントの作成方法を習得する</li>
                            <li>コンポーネントの命名規則とベストプラクティスを理解する</li>
                            <li>コンポーネントのネストとimport/exportを学ぶ</li>
                            <li>フラグメント（&lt;&gt;...&lt;/&gt;）の使用方法を知る</li>
                            <li>条件付きレンダリング（三項演算子、&&演算子）を実装する</li>
                        </ul>
                    </div>

                    <!-- 2.1 JSX構文の基礎 -->
                    <h3 class="section-title">2.1 JSX構文の基礎</h3>
                    <p>JSX（JavaScript XML）は、JavaScriptの中でHTMLのような構文を使ってUIを記述できる拡張構文です。ReactがJSXを採用している理由は、UIとロジックを一緒に記述できることで、コードの可読性と保守性が向上するためです。</p>

                    <p><strong>JSXは必須ではありませんが、Reactでは標準的に使用されます。</strong></p>

                    <h4>通常のJavaScriptとJSXの比較</h4>
                    <pre class="code-block"><code class="language-javascript">// 通常のJavaScript（React.createElement使用）
const element = React.createElement(
  'h1',
  { className: 'greeting' },
  'Hello, World!'
);

// JSX（HTMLのような構文）
const element = &lt;h1 className="greeting"&gt;Hello, World!&lt;/h1&gt;;</code></pre>

                    <p>上記の2つのコードは同じ結果を生成しますが、JSXの方が直感的で読みやすいことがわかります。</p>

                    <div class="highlight">
                        <h6>重要なポイント</h6>
                        <p>JSXは最終的にJavaScriptに変換されます。Babel等のトランスパイラがJSXをReact.createElement()の呼び出しに変換しています。つまり、JSXは「JavaScriptの糖衣構文（syntactic sugar）」です。</p>
                    </div>

                    <!-- 2.2 JSXとHTMLの違い -->
                    <h3 class="section-title">2.2 JSXとHTMLの違い</h3>
                    <p>JSXはHTMLに似ていますが、いくつか重要な違いがあります。これらの違いを理解することで、エラーを避けることができます。</p>

                    <h4>主な違い</h4>
                    <ul>
                        <li><strong>class → className</strong>：HTMLの<code>class</code>属性は、JSXでは<code>className</code>を使用する（classはJavaScriptの予約語のため）</li>
                        <li><strong>for → htmlFor</strong>：ラベルの<code>for</code>属性は<code>htmlFor</code>を使用する</li>
                        <li><strong>キャメルケース</strong>：属性名はキャメルケースで記述する（例：<code>onclick</code> → <code>onClick</code>）</li>
                        <li><strong>自己閉じタグ</strong>：すべてのタグを閉じる必要がある（例：<code>&lt;img /&gt;</code>、<code>&lt;br /&gt;</code>）</li>
                        <li><strong>単一ルート要素</strong>：JSXは単一のルート要素を返す必要がある</li>
                    </ul>

                    <pre class="code-block"><code class="language-javascript">// 正しいJSX
function MyComponent() {
  return (
    &lt;div className="container"&gt;
      &lt;label htmlFor="name"&gt;名前：&lt;/label&gt;
      &lt;input id="name" type="text" /&gt;
      &lt;img src="logo.png" alt="Logo" /&gt;
    &lt;/div&gt;
  );
}

// 間違ったJSX（複数のルート要素）
function WrongComponent() {
  return (
    &lt;h1&gt;タイトル&lt;/h1&gt;
    &lt;p&gt;本文&lt;/p&gt;  // エラー！
  );
}</code></pre>

                    <!-- 2.3 JSXで式を埋め込む -->
                    <h3 class="section-title">2.3 JSXで式を埋め込む</h3>
                    <p>JSXの最大の利点は、JavaScriptの式を中括弧 <code>{}</code> で囲むことで埋め込める点です。これにより、動的なUIを簡単に作成できます。</p>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 2-1: JSXで式を埋め込む</h5>
                        <p>JavaScriptの変数、式、関数をJSXに埋め込む方法を学びます。</p>

                        <h6>基本的な式の埋め込み</h6>
                        <pre class="code-block"><code class="language-javascript">function Greeting() {
  const name = "太郎";
  const age = 25;
  const isStudent = true;

  return (
    &lt;div&gt;
      &lt;h1&gt;こんにちは、{name}さん！&lt;/h1&gt;
      &lt;p&gt;年齢: {age}歳&lt;/p&gt;
      &lt;p&gt;来年の年齢: {age + 1}歳&lt;/p&gt;
      &lt;p&gt;身分: {isStudent ? "学生" : "社会人"}&lt;/p&gt;
    &lt;/div&gt;
  );
}</code></pre>

                        <h6>関数の呼び出し</h6>
                        <pre class="code-block"><code class="language-javascript">function DateTime() {
  const getCurrentTime = () => {
    return new Date().toLocaleTimeString('ja-JP');
  };

  return (
    &lt;div&gt;
      &lt;p&gt;現在時刻: {getCurrentTime()}&lt;/p&gt;
    &lt;/div&gt;
  );
}</code></pre>

                        <div class="warning">
                            <h6>注意：埋め込めるもの、埋め込めないもの</h6>
                            <ul>
                                <li><strong>埋め込める</strong>：文字列、数値、配列、式、関数呼び出しの結果</li>
                                <li><strong>埋め込めない</strong>：オブジェクト（表示されない）、真偽値（表示されない）、null、undefined（表示されない）</li>
                            </ul>
                        </div>
                    </div>

                    <!-- 2.4 関数コンポーネントの作成 -->
                    <h3 class="section-title">2.4 関数コンポーネントの作成</h3>
                    <p>Reactでは、UIを構築するために「コンポーネント」を作成します。コンポーネントは、再利用可能なUI部品であり、関数またはクラスとして定義できます。現代のReactでは、関数コンポーネントが主流です。</p>

                    <h4>関数コンポーネントの基本構造</h4>
                    <pre class="code-block"><code class="language-javascript">// 基本的な関数コンポーネント
function Welcome() {
  return &lt;h1&gt;ようこそReactへ！&lt;/h1&gt;;
}

// アロー関数を使用したコンポーネント
const Welcome = () => {
  return &lt;h1&gt;ようこそReactへ！&lt;/h1&gt;;
};

// 省略形（1行の場合）
const Welcome = () => &lt;h1&gt;ようこそReactへ！&lt;/h1&gt;;</code></pre>

                    <div class="highlight">
                        <h6>コンポーネントの命名規則</h6>
                        <ul>
                            <li>コンポーネント名は<strong>必ず大文字で始める</strong>（PascalCase）</li>
                            <li>小文字で始めるとHTMLタグと見なされエラーになる</li>
                            <li>例：<code>Button</code>、<code>UserProfile</code>、<code>NavigationBar</code></li>
                        </ul>
                    </div>

                    <!-- 2.5 コンポーネントのネスト -->
                    <h3 class="section-title">2.5 コンポーネントのネスト</h3>
                    <p>コンポーネントの中で他のコンポーネントを使用することを「ネスト（入れ子）」と呼びます。これにより、複雑なUIを小さな部品に分割して管理できます。</p>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 2-2: コンポーネントのネスト</h5>
                        <p>複数のコンポーネントを組み合わせてUIを構築します。</p>

                        <h6>コード例</h6>
                        <pre class="code-block"><code class="language-javascript">// 小さなコンポーネント
function Header() {
  return &lt;h1&gt;私のウェブサイト&lt;/h1&gt;;
}

function Content() {
  return &lt;p&gt;Reactを学習中です！&lt;/p&gt;;
}

function Footer() {
  return &lt;footer&gt;© 2025 My Company&lt;/footer&gt;;
}

// これらを組み合わせたメインコンポーネント
function App() {
  return (
    &lt;div&gt;
      &lt;Header /&gt;
      &lt;Content /&gt;
      &lt;Footer /&gt;
    &lt;/div&gt;
  );
}</code></pre>

                        <div class="mermaid">
                            flowchart TD
                                A[App] --> B[Header]
                                A --> C[Content]
                                A --> D[Footer]
                        </div>

                        <h6>期待される結果</h6>
                        <p>ブラウザには、ヘッダー、コンテンツ、フッターが順番に表示されます。</p>
                    </div>

                    <!-- 2.6 import と export -->
                    <h3 class="section-title">2.6 import と export</h3>
                    <p>大規模なアプリケーションでは、コンポーネントを別々のファイルに分割します。これにより、コードの整理と再利用が容易になります。</p>

                    <h4>exportの種類</h4>
                    <pre class="code-block"><code class="language-javascript">// 名前付きエクスポート（Named Export）
export function Button() {
  return &lt;button&gt;クリック&lt;/button&gt;;
}

export const CONSTANT_VALUE = 100;

// デフォルトエクスポート（Default Export）
export default function Header() {
  return &lt;h1&gt;ヘッダー&lt;/h1&gt;;
}</code></pre>

                    <h4>importの方法</h4>
                    <pre class="code-block"><code class="language-javascript">// デフォルトエクスポートのインポート
import Header from './Header';

// 名前付きエクスポートのインポート
import { Button, CONSTANT_VALUE } from './Button';

// すべてをインポート
import * as Components from './Components';

// デフォルトと名前付きを同時にインポート
import Header, { Button } from './Components';</code></pre>

                    <div class="highlight">
                        <h6>ベストプラクティス</h6>
                        <ul>
                            <li>1ファイルにつき1つのメインコンポーネント（デフォルトエクスポート）</li>
                            <li>ファイル名はコンポーネント名と一致させる（例：Header.js）</li>
                            <li>小さなヘルパー関数や定数は名前付きエクスポート</li>
                        </ul>
                    </div>

                    <!-- 2.7 フラグメント -->
                    <h3 class="section-title">2.7 フラグメント（&lt;&gt;...&lt;/&gt;）</h3>
                    <p>先述のとおり、JSXでは複数の要素を返す場合、単一のルート要素で囲む必要があります。しかし、余計な<code>&lt;div&gt;</code>を追加したくない場合があります。そこで使用するのが「フラグメント」です。</p>

                    <pre class="code-block"><code class="language-javascript">// 不要なdivが追加される
function List() {
  return (
    &lt;div&gt;  {/* この余分なdivが問題になることがある */}
      &lt;li&gt;項目1&lt;/li&gt;
      &lt;li&gt;項目2&lt;/li&gt;
    &lt;/div&gt;
  );
}

// フラグメントを使用（余分なDOM要素なし）
function List() {
  return (
    &lt;&gt;
      &lt;li&gt;項目1&lt;/li&gt;
      &lt;li&gt;項目2&lt;/li&gt;
    &lt;/&gt;
  );
}

// または明示的なFragment構文
import { Fragment } from 'react';

function List() {
  return (
    &lt;Fragment&gt;
      &lt;li&gt;項目1&lt;/li&gt;
      &lt;li&gt;項目2&lt;/li&gt;
    &lt;/Fragment&gt;
  );
}</code></pre>

                    <!-- 2.8 条件付きレンダリング -->
                    <h3 class="section-title">2.8 条件付きレンダリング</h3>
                    <p>ユーザーの状態や条件に応じて、異なるUIを表示することを「条件付きレンダリング」と呼びます。Reactでは、JavaScriptの標準的な条件分岐を使用します。</p>

                    <h4>三項演算子を使用</h4>
                    <pre class="code-block"><code class="language-javascript">function UserGreeting({ isLoggedIn }) {
  return (
    &lt;div&gt;
      {isLoggedIn ? (
        &lt;h1&gt;おかえりなさい！&lt;/h1&gt;
      ) : (
        &lt;h1&gt;ログインしてください&lt;/h1&gt;
      )}
    &lt;/div&gt;
  );
}</code></pre>

                    <h4>論理AND演算子（&&）を使用</h4>
                    <pre class="code-block"><code class="language-javascript">function Notification({ hasNewMessages, messageCount }) {
  return (
    &lt;div&gt;
      &lt;h1&gt;メッセージボックス&lt;/h1&gt;
      {hasNewMessages && (
        &lt;p&gt;{messageCount}件の新着メッセージがあります&lt;/p&gt;
      )}
    &lt;/div&gt;
  );
}</code></pre>

                    <h4>if文を使用（returnの前）</h4>
                    <pre class="code-block"><code class="language-javascript">function Dashboard({ user }) {
  if (!user) {
    return &lt;p&gt;ローディング中...&lt;/p&gt;;
  }

  if (user.role === 'admin') {
    return &lt;AdminPanel user={user} /&gt;;
  }

  return &lt;UserPanel user={user} /&gt;;
}</code></pre>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 2-3: 条件付きレンダリングの実装</h5>
                        <p>ログイン状態に応じて異なるメッセージを表示するコンポーネントを作成します。</p>

                        <h6>コード例</h6>
                        <pre class="code-block"><code class="language-javascript">function App() {
  const isLoggedIn = true;  // この値を変更してテスト
  const userName = "田中太郎";
  const messageCount = 5;

  return (
    &lt;div&gt;
      {isLoggedIn ? (
        &lt;&gt;
          &lt;h1&gt;{userName}さん、こんにちは！&lt;/h1&gt;
          {messageCount > 0 && (
            &lt;p&gt;{messageCount}件の未読メッセージがあります&lt;/p&gt;
          )}
        &lt;/&gt;
      ) : (
        &lt;h1&gt;ログインが必要です&lt;/h1&gt;
      )}
    &lt;/div&gt;
  );
}</code></pre>

                        <h6>テスト手順</h6>
                        <ol>
                            <li><code>isLoggedIn</code>を<code>true</code>と<code>false</code>に変更して動作を確認</li>
                            <li><code>messageCount</code>を<code>0</code>にして、メッセージが表示されないことを確認</li>
                        </ol>
                    </div>

                    <!-- 理解度確認 -->
                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>JSXとは何ですか？なぜReactではJSXを使用するのですか？</li>
                            <li>HTMLの<code>class</code>属性は、JSXでは何と書きますか？</li>
                            <li>JSXで複数の要素を返す場合、どのようにしますか？</li>
                            <li>コンポーネント名が小文字で始まるとどうなりますか？</li>
                            <li>フラグメント（&lt;&gt;...&lt;/&gt;）はどのような場面で使用しますか？</li>
                            <li>条件付きレンダリングを実装する3つの方法を挙げてください。</li>
                            <li>デフォルトエクスポートと名前付きエクスポートの違いは何ですか？</li>
                        </ol>

                        <details>
                            <summary>解答例</summary>
                            <ol>
                                <li>JSXはJavaScriptの中でHTMLのような構文を使ってUIを記述できる拡張構文。UIとロジックを一緒に記述でき、可読性が向上する</li>
                                <li><code>className</code></li>
                                <li>単一のルート要素で囲むか、フラグメント（&lt;&gt;...&lt;/&gt;）を使用する</li>
                                <li>HTMLタグと見なされ、カスタムコンポーネントとして認識されない</li>
                                <li>余分なDOM要素を追加したくないが、複数の要素を返す必要がある場合</li>
                                <li>三項演算子、論理AND演算子（&&）、if文（returnの前）</li>
                                <li>デフォルトエクスポートは1ファイルに1つのみで任意の名前でインポート可能。名前付きエクスポートは複数定義でき、同じ名前でインポートする必要がある</li>
                            </ol>
                        </details>
                    </div>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="react-learning-material-1.html" class="btn btn-secondary">← 前の章</a>
                        <a href="react-learning-material-3.html" class="btn btn-primary">次の章 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>

    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>
