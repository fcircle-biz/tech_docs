<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EARS学習教材 第3章 - Ubiquitous要求パターン</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- カスタムCSS -->
    <style>
        /* ベースレイアウト */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ナビゲーション */
        .navbar {
            background-color: #2e7d32;
        }

        /* サイドバー */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }

        /* タイトル */
        .chapter-title {
            color: #2e7d32;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #2e7d32;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #4caf50;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* コンテンツボックス */
        .quiz-container {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #2e7d32;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        /* コードハイライト */
        .code-block {
            background-color: #1e1e1e;
            color: white;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* ナビゲーション */
        .nav-link.active {
            background-color: #2e7d32 !important;
            color: white !important;
        }
        
        .pattern-example {
            background-color: #e3f2fd;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #1976d2;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>EARS学習教材</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>学習章</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="ears-learning-material-1.html">
                                第1章: EARSの概要と背景
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="ears-learning-material-2.html">
                                第2章: 要求記述の基本原則
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="ears-learning-material-3.html">
                                第3章: Ubiquitous要求パターン
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="ears-learning-material-4.html">
                                第4章: Event-driven要求パターン
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="ears-learning-material-5.html">
                                第5章: Unwanted Behavior要求パターン
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="ears-learning-material-6.html">
                                第6章: State-driven要求パターン
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="ears-learning-material-7.html">
                                第7章: Optional Feature要求パターン
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="ears-learning-material-8.html">
                                第8章: 複合パターンと実践演習
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- 章ヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">第3章: Ubiquitous要求パターン</h1>
                </div>

                <div id="chapter3">
                    <!-- 章タイトル -->
                    <h2 class="chapter-title">基本的な普遍要求の記述方法</h2>
                    
                    <!-- 学習目標 -->
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>Ubiquitous（普遍的）要求パターンの基本概念</li>
                            <li>「The [system name] shall [requirement]」構文の使用方法</li>
                            <li>システムの基本機能要求の記述方法</li>
                            <li>品質特性要求の明確な表現方法</li>
                            <li>常に満たされるべき制約の記述</li>
                            <li>実際のシステムでの適用例</li>
                        </ul>
                    </div>

                    <!-- セクション1: Ubiquitousパターンとは -->
                    <h3 class="section-title">3.1 Ubiquitous要求パターンの基本概念</h3>
                    
                    <p>
                        <strong>Ubiquitous要求パターン</strong>は、EARSの5つのパターンの中で最も基本的かつ重要なパターンです。
                        「Ubiquitous」は「遍在する」「どこにでもある」という意味で、システムが<strong>常に満たすべき基本的な要求</strong>を記述する際に使用します。
                    </p>

                    <div class="mermaid">
                        graph TD
                            A["Ubiquitous要求パターン"] --> B["常に有効な要求"]
                            A --> C["基本機能要求"]
                            A --> D["品質特性要求"]
                            A --> E["システム制約"]
                            
                            B --> B1["条件や状態に依存しない"]
                            C --> C1["システムの核となる機能"]
                            D --> D1["パフォーマンス・可用性等"]
                            E --> E1["技術的・業務的制約"]
                            
                            style A fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
                    </div>

                    <div class="pattern-example">
                        <h6>Ubiquitousパターンの基本構文</h6>
                        <pre class="code-block"><code class="language-plaintext">The [system name] shall [system response]

【構成要素】
- The : 固定の冠詞
- [system name] : 対象システムの名称
- shall : 義務を示す助動詞
- [system response] : システムが行うべき動作・持つべき特性</code></pre>
                    </div>

                    <p>
                        このパターンの特徴は<strong>シンプルさ</strong>にあります。条件文やトリガーがないため、
                        記述された要求はシステムが動作する限り常に満たされなければなりません。
                    </p>

                    <!-- セクション2: 適用場面と判断基準 -->
                    <h3 class="section-title">3.2 Ubiquitousパターンの適用場面</h3>
                    
                    <p>
                        Ubiquitousパターンを使用するべき要求の種類と判断基準を理解することが重要です。
                        以下の3つのカテゴリに分類できます：
                    </p>

                    <div class="highlight">
                        <h6>1. システムの基本機能要求</h6>
                        <p>システムが提供する核となる機能や振る舞い：</p>
                        <ul>
                            <li>データの保存・取得機能</li>
                            <li>計算処理機能</li>
                            <li>通信・連携機能</li>
                            <li>表示・出力機能</li>
                        </ul>
                        
                        <p><strong>例：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">The 在庫管理システム shall 商品の在庫数量をリアルタイムで追跡する</code></pre>
                    </div>

                    <div class="highlight">
                        <h6>2. 品質特性要求（非機能要求）</h6>
                        <p>システムの性能・品質に関する要求：</p>
                        <ul>
                            <li>応答時間・処理速度</li>
                            <li>可用性・信頼性</li>
                            <li>セキュリティ</li>
                            <li>拡張性・保守性</li>
                        </ul>
                        
                        <p><strong>例：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">The Webアプリケーション shall 90%のユーザー要求に2秒以内で応答する</code></pre>
                    </div>

                    <div class="highlight">
                        <h6>3. システム制約要求</h6>
                        <p>システムが遵守すべき技術的・業務的制約：</p>
                        <ul>
                            <li>技術標準・プロトコル準拠</li>
                            <li>法的規制・業界標準</li>
                            <li>他システムとの互換性</li>
                            <li>運用環境の制約</li>
                        </ul>
                        
                        <p><strong>例：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">The 患者管理システム shall HIPAA準拠の暗号化方式で患者データを保護する</code></pre>
                    </div>

                    <!-- セクション3: 良い記述例と悪い記述例 -->
                    <h3 class="section-title">3.3 効果的なUbiquitous要求の記述方法</h3>

                    <p>
                        Ubiquitousパターンで効果的な要求を記述するためには、
                        具体性・測定可能性・明確性を確保することが重要です。
                    </p>

                    <div class="warning">
                        <h6>避けるべき記述例</h6>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>悪い記述例</th>
                                    <th>問題点</th>
                                    <th>改善点</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>The システム shall 高速で動作する</td>
                                    <td>「高速」が主観的</td>
                                    <td>具体的な数値基準が必要</td>
                                </tr>
                                <tr>
                                    <td>The アプリ shall データを保存する</td>
                                    <td>どのデータを、どこに、どのように？</td>
                                    <td>対象・方法・場所の明確化</td>
                                </tr>
                                <tr>
                                    <td>The システム shall セキュアである</td>
                                    <td>「セキュア」が曖昧</td>
                                    <td>具体的なセキュリティ要件</td>
                                </tr>
                                <tr>
                                    <td>The プログラム shall 正しく動く</td>
                                    <td>「正しく」の定義不明</td>
                                    <td>正確性の具体的基準</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="pattern-example">
                        <h6>改善された記述例</h6>
                        
                        <p><strong>性能要求の改善例：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">【改善前】The システム shall 高速で動作する

【改善後】The 検索システム shall ユーザーのキーワード検索要求に対して
平均1.5秒以内で結果を返す</code></pre>

                        <p><strong>機能要求の改善例：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">【改善前】The アプリ shall データを保存する

【改善後】The 販売管理アプリケーション shall 取引データを暗号化した上で
PostgreSQLデータベースに永続的に保存する</code></pre>

                        <p><strong>セキュリティ要求の改善例：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">【改善前】The システム shall セキュアである

【改善後】The 認証システム shall AES-256暗号化でユーザーパスワードを
ハッシュ化して保存する</code></pre>
                    </div>

                    <!-- セクション4: 実世界での適用例 -->
                    <h3 class="section-title">3.4 実世界でのUbiquitous要求適用例</h3>

                    <p>
                        具体的なシステム開発プロジェクトでのUbiquitous要求の適用例を見てみましょう。
                        オンライン書店システムを例に取ります：
                    </p>

                    <div class="mermaid">
                        graph TD
                            A["オンライン書店システム"] --> B["商品管理機能"]
                            A --> C["注文処理機能"]
                            A --> D["ユーザー管理機能"]
                            A --> E["品質特性要求"]
                            
                            B --> B1["書籍データ管理"]
                            B --> B2["在庫追跡"]
                            C --> C1["注文受付処理"]
                            C --> C2["決済処理"]
                            D --> D1["ユーザー登録"]
                            D --> D2["認証・認可"]
                            E --> E1["性能要求"]
                            E --> E2["セキュリティ要求"]
                    </div>

                    <div class="pattern-example">
                        <h6>オンライン書店システムのUbiquitous要求例</h6>
                        
                        <p><strong>商品管理機能：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">The 商品管理システム shall ISBN、タイトル、著者、価格、在庫数を含む
書籍データを構造化データベースに保存する

The 在庫管理システム shall 書籍の販売・入荷に応じて在庫数を
自動的に更新する</code></pre>

                        <p><strong>性能・品質要求：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">The Webフロントエンド shall 商品検索要求に対して3秒以内で
結果を表示する

The データベースシステム shall 99.9%以上の可用性を維持する

The システム shall 同時に1000人のユーザーアクセスを処理できる</code></pre>

                        <p><strong>セキュリティ・コンプライアンス要求：</strong></p>
                        <pre class="code-block"><code class="language-plaintext">The 決済システム shall PCI DSS標準に準拠してクレジットカード
情報を処理する

The 認証システム shall ユーザーパスワードをbcryptアルゴリズムで
ハッシュ化して保存する</code></pre>
                    </div>

                    <!-- セクション5: システム名の適切な指定 -->
                    <h3 class="section-title">3.5 システム名の適切な指定方法</h3>

                    <p>
                        Ubiquitousパターンで重要なのは、「[system name]」部分の適切な指定です。
                        システム名は<strong>要求の適用範囲</strong>を明確に定義します。
                    </p>

                    <div class="highlight">
                        <h6>システム名指定の原則</h6>
                        <ol>
                            <li><strong>具体性</strong>：「システム」ではなく具体的なシステム名を使用</li>
                            <li><strong>範囲の明確化</strong>：どの部分・コンポーネントかを特定</li>
                            <li><strong>一貫性</strong>：プロジェクト全体で用語を統一</li>
                            <li><strong>階層性</strong>：必要に応じてサブシステムレベルで指定</li>
                        </ol>
                    </div>

                    <div class="pattern-example">
                        <h6>システム名の良い例・悪い例</h6>
                        
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>悪い例</th>
                                    <th>良い例</th>
                                    <th>改善点</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>The システム shall...</td>
                                    <td>The 在庫管理システム shall...</td>
                                    <td>具体的なシステム名を使用</td>
                                </tr>
                                <tr>
                                    <td>The アプリ shall...</td>
                                    <td>The モバイルアプリケーション shall...</td>
                                    <td>システム種別を明確化</td>
                                </tr>
                                <tr>
                                    <td>The DB shall...</td>
                                    <td>The 顧客データベース shall...</td>
                                    <td>略語を避け、対象を特定</td>
                                </tr>
                                <tr>
                                    <td>The 全体システム shall...</td>
                                    <td>The ユーザー認証サブシステム shall...</td>
                                    <td>適切な粒度で範囲を限定</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 3-1: 曖昧な要求のUbiquitousパターン変換</h5>
                        <p>以下の曖昧な要求文を、明確で測定可能なUbiquitous要求に変換してください。</p>
                        
                        <h6>変換課題</h6>
                        <p>次の要求をUbiquitousパターンで改善してください：</p>
                        <ol>
                            <li>「システムはユーザーフレンドリーでなければならない」</li>
                            <li>「データベースは効率的でなければならない」</li>
                            <li>「アプリケーションは安全でなければならない」</li>
                            <li>「システムは拡張性があること」</li>
                        </ol>
                        
                        <h6>変換手順</h6>
                        <ol>
                            <li><strong>システム名の具体化</strong>：対象システムを特定する</li>
                            <li><strong>曖昧な表現の除去</strong>：主観的な形容詞を客観的基準に置換</li>
                            <li><strong>測定基準の追加</strong>：数値や具体的条件を設定</li>
                            <li><strong>完全性の確認</strong>：5W1Hで情報不足を補完</li>
                        </ol>
                        
                        <h6>改善例（参考）</h6>
                        <pre class="code-block"><code class="language-plaintext">【元の要求】「システムはユーザーフレンドリーでなければならない」

【分析】
- システム名が不明確
- 「ユーザーフレンドリー」が主観的
- 測定基準がない

【改善結果】
The Webユーザーインターフェース shall 新規ユーザーが15分以内の
チュートリアルで基本操作の80%を習得できるように設計する</code></pre>
                    </div>

                    <!-- 実習 -->
                    <div class="exercise-container">
                        <h5>実習 3-2: 実システムのUbiquitous要求作成</h5>
                        <p>架空の「オンライン学習管理システム（LMS）」について、Ubiquitous要求を作成してください。</p>
                        
                        <h6>システム概要</h6>
                        <p>大学向けのオンライン学習管理システムで、以下の機能を提供：</p>
                        <ul>
                            <li>講義コンテンツ配信</li>
                            <li>課題提出・採点管理</li>
                            <li>学生・教員のユーザー管理</li>
                            <li>成績管理・レポート生成</li>
                        </ul>
                        
                        <h6>作成すべき要求カテゴリ</h6>
                        <p>以下の各カテゴリで2-3個ずつUbiquitous要求を作成してください：</p>
                        <ol>
                            <li><strong>基本機能要求</strong>：システムの核となる機能</li>
                            <li><strong>性能要求</strong>：応答時間、スループット等</li>
                            <li><strong>セキュリティ要求</strong>：認証、データ保護等</li>
                            <li><strong>可用性要求</strong>：システム稼働率、復旧時間等</li>
                        </ol>
                        
                        <h6>評価観点</h6>
                        <ul>
                            <li>構文が正しく使用されているか</li>
                            <li>システム名が適切に特定されているか</li>
                            <li>要求が具体的で測定可能か</li>
                            <li>実現可能で検証可能か</li>
                        </ul>
                    </div>

                    <!-- 理解度確認 -->
                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>
                                <strong>Ubiquitousパターンの基本構文として正しいのはどれですか？</strong>
                                <ol type="a">
                                    <li>The [system] will [requirement]</li>
                                    <li>The [system] shall [requirement]</li>
                                    <li>The [system] should [requirement]</li>
                                    <li>The [system] must [requirement]</li>
                                </ol>
                            </li>
                            
                            <li>
                                <strong>Ubiquitousパターンが適用される要求として適切でないのはどれですか？</strong>
                                <ol type="a">
                                    <li>システムの基本機能要求</li>
                                    <li>品質特性要求（非機能要求）</li>
                                    <li>特定イベント発生時の処理要求</li>
                                    <li>システム制約要求</li>
                                </ol>
                            </li>
                            
                            <li>
                                <strong>次のうち、最も改善が必要な要求はどれですか？</strong>
                                <ol type="a">
                                    <li>The 認証システム shall ユーザーパスワードをSHA-256でハッシュ化する</li>
                                    <li>The システム shall 高速で動作する</li>
                                    <li>The データベース shall 99.9%の可用性を維持する</li>
                                    <li>The Webアプリケーション shall HTTPS通信を使用する</li>
                                </ol>
                            </li>
                            
                            <li>
                                <strong>システム名を指定する際の原則として不適切なのはどれですか？</strong>
                                <ol type="a">
                                    <li>具体的なシステム名を使用する</li>
                                    <li>適用範囲を明確にする</li>
                                    <li>プロジェクト全体で用語を統一する</li>
                                    <li>できるだけ短い名称を使用する</li>
                                </ol>
                            </li>
                            
                            <li>
                                <strong>「The 在庫管理システム shall 商品の在庫数をリアルタイムで更新する」この要求の改善点として最も適切なのはどれですか？</strong>
                                <ol type="a">
                                    <li>システム名をより具体的にする</li>
                                    <li>「リアルタイム」の定義を明確にする</li>
                                    <li>動詞を「will」に変更する</li>
                                    <li>特に改善の必要はない</li>
                                </ol>
                            </li>
                        </ol>
                    </div>

                    <!-- まとめ -->
                    <h3 class="section-title">3.6 章のまとめ</h3>
                    
                    <div class="highlight">
                        <h6>重要なポイント</h6>
                        <ul>
                            <li><strong>基本構文</strong>：「The [system name] shall [requirement]」の正確な使用</li>
                            <li><strong>適用場面</strong>：基本機能、品質特性、システム制約の3つのカテゴリ</li>
                            <li><strong>具体性の重要性</strong>：曖昧な表現を避け、測定可能な基準を設定</li>
                            <li><strong>システム名の特定</strong>：適用範囲を明確にする具体的な名称使用</li>
                            <li><strong>検証可能性</strong>：客観的にテスト・評価できる表現</li>
                            <li><strong>実用性</strong>：実際のシステム開発での適用方法</li>
                        </ul>
                    </div>

                    <p>
                        Ubiquitousパターンは、EARSの基礎となる最も重要なパターンです。
                        この章で学んだ原則は、他のすべてのEARSパターンにも共通して適用されます。
                        次の章では、特定の条件やイベントをトリガーとする「Event-driven要求パターン」について学習します。
                    </p>

                    <!-- 章間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="ears-learning-material-2.html" class="btn btn-secondary">← 前の章</a>
                        <a href="ears-learning-material-4.html" class="btn btn-primary">次の章 →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>