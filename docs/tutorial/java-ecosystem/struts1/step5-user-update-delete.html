<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struts 1.xå­¦ç¿’æ•™æ ç¬¬5ç«  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æ©Ÿèƒ½ã®æ‹¡å¼µï¼ˆUPDATE, DELETEï¼‰</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ - Javaç”Ÿæ…‹ç³»ãƒ†ãƒ¼ãƒ */
        .navbar {
            background-color: #f57c00;
        }

        .navbar-brand, .navbar-nav .nav-link {
            color: white !important;
        }

        .navbar-nav .nav-link:hover {
            color: #fff3e0 !important;
        }

        /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
            background-color: white;
            border-right: 1px solid #dee2e6;
        }

        .sidebar .nav-link {
            color: #495057;
            font-weight: 500;
        }

        .sidebar .nav-link:hover {
            background-color: #fff3e0;
            color: #f57c00;
        }

        .sidebar .nav-link.active {
            background-color: #f57c00 !important;
            color: white !important;
        }

        /* ã‚¿ã‚¤ãƒˆãƒ« */
        .chapter-title {
            color: #f57c00;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #f57c00;
            padding-bottom: 0.5rem;
        }

        .section-title {
            color: #ff9800;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }

        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒœãƒƒã‚¯ã‚¹ */
        .quiz-container {
            background-color: #fff3e0;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #f57c00;
        }

        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }

        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }

        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .nav-link.active {
            background-color: #f57c00 !important;
            color: white !important;
        }

        /* ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ */
        pre {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 1rem;
        }
    </style>
</head>
<body>
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">Struts 1.x ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="https://fcircle-biz.github.io/tech_docs/">ãƒ›ãƒ¼ãƒ </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ¦‚è¦</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#section5-1">5.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°è¡¨ç¤º</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#section5-2">5.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†æ©Ÿèƒ½</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#section5-3">5.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°å‡¦ç†</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#section5-4">5.4 ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤æ©Ÿèƒ½</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#section5-5">5.5 ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°å®Ÿè£…</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#section5-6">5.6 CRUDçµ±åˆç¢ºèª</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#quiz">ç†è§£åº¦ç¢ºèª</a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">ç¬¬5ç« : ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æ©Ÿèƒ½ã®æ‹¡å¼µï¼ˆUPDATE, DELETEï¼‰</h1>
                </div>

                <div id="chapter5">
                    <!-- ç« ã‚¿ã‚¤ãƒˆãƒ« -->
                    <h2 class="chapter-title">ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®æ›´æ–°ãƒ»å‰Šé™¤æ©Ÿèƒ½ã®å®Ÿè£…</h2>
                    
                    <!-- å­¦ç¿’ç›®æ¨™ï¼ˆå¿…é ˆï¼‰ -->
                    <div class="highlight">
                        <h5>ã“ã®ç« ã§å­¦ã¶ã“ã¨</h5>
                        <ul>
                            <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°è¡¨ç¤ºæ©Ÿèƒ½ã®å®Ÿè£…</li>
                            <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã®ä½œæˆ</li>
                            <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±æ›´æ–°å‡¦ç†ã®å®Ÿè£…</li>
                            <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤æ©Ÿèƒ½ã¨ç¢ºèªæ©Ÿèƒ½</li>
                            <li>JavaScriptã«ã‚ˆã‚‹å‹•çš„UIæ”¹å–„</li>
                            <li>CRUDæ©Ÿèƒ½ã®çµ±åˆã¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ”¹å–„</li>
                        </ul>
                    </div>

                    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5.1 -->
                    <h3 class="section-title" id="section5-1">5.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°è¡¨ç¤ºæ©Ÿèƒ½</h3>
                    <p>å€‹åˆ¥ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è©³ç´°æƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>

                    <!-- å®Ÿç¿’ï¼ˆå¿…é ˆï¼‰ -->
                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 5-1: UserViewActionå®Ÿè£…</h5>
                        <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°è¡¨ç¤ºã®Actionã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
                        
                        <h6>UserViewAction.java</h6>
                        <p>src/main/java/com/example/struts/action/UserViewAction.java:</p>
                        <pre><code>package com.example.struts.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.struts.action.Action;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;
import org.apache.struts.action.ActionMessage;
import org.apache.struts.action.ActionMessages;

import com.example.struts.model.User;
import com.example.struts.service.UserService;

public class UserViewAction extends Action {
    
    private UserService userService = new UserService();
    
    @Override
    public ActionForward execute(ActionMapping mapping,
                                ActionForm form,
                                HttpServletRequest request,
                                HttpServletResponse response) {
        
        try {
            // ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—
            String userIdParam = request.getParameter("userId");
            
            if (userIdParam == null || userIdParam.trim().isEmpty()) {
                ActionMessages errors = new ActionMessages();
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.view.error.noid"));
                saveErrors(request, errors);
                return mapping.findForward("error");
            }
            
            int userId = Integer.parseInt(userIdParam);
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—
            User user = userService.getUserById(userId);
            
            if (user == null) {
                ActionMessages errors = new ActionMessages();
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.view.error.notfound", userIdParam));
                saveErrors(request, errors);
                return mapping.findForward("error");
            }
            
            // ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«è¨­å®š
            request.setAttribute("user", user);
            
            return mapping.findForward("success");
            
        } catch (NumberFormatException e) {
            ActionMessages errors = new ActionMessages();
            errors.add(ActionMessages.GLOBAL_MESSAGE,
                new ActionMessage("user.view.error.invalidid"));
            saveErrors(request, errors);
            return mapping.findForward("error");
            
        } catch (Exception e) {
            ActionMessages errors = new ActionMessages();
            errors.add(ActionMessages.GLOBAL_MESSAGE,
                new ActionMessage("user.view.error.system"));
            saveErrors(request, errors);
            return mapping.findForward("error");
        }
    }
}</code></pre>

                        <h6>userView.jsp</h6>
                        <p>src/main/webapp/userView.jsp:</p>
                        <pre><code>&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %&gt;
&lt;%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %&gt;
&lt;%@ taglib uri="http://struts.apache.org/tags-logic" prefix="logic" %&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;title&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°&lt;/title&gt;
    &lt;style&gt;
        body { 
            font-family: 'Noto Sans JP', sans-serif; 
            margin: 20px; 
            background-color: #f5f5f5;
        }
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .user-info {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .info-row {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .info-label {
            font-weight: bold;
            min-width: 120px;
            color: #333;
        }
        .info-value {
            flex: 1;
            color: #555;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
            margin-right: 10px;
        }
        .btn-primary {
            background-color: #f57c00;
            color: white;
        }
        .btn-danger {
            background-color: #f44336;
            color: white;
        }
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        .btn:hover {
            opacity: 0.8;
        }
        .actions {
            margin-top: 30px;
            text-align: center;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container"&gt;
        &lt;h2&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°&lt;/h2&gt;
        
        &lt;logic:present name="user"&gt;
            &lt;div class="user-info"&gt;
                &lt;div class="info-row"&gt;
                    &lt;div class="info-label"&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ID:&lt;/div&gt;
                    &lt;div class="info-value"&gt;
                        &lt;bean:write name="user" property="userId"/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class="info-row"&gt;
                    &lt;div class="info-label"&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼å:&lt;/div&gt;
                    &lt;div class="info-value"&gt;
                        &lt;bean:write name="user" property="username"/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class="info-row"&gt;
                    &lt;div class="info-label"&gt;ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹:&lt;/div&gt;
                    &lt;div class="info-value"&gt;
                        &lt;bean:write name="user" property="email"/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class="info-row"&gt;
                    &lt;div class="info-label"&gt;ãƒ•ãƒ«ãƒãƒ¼ãƒ :&lt;/div&gt;
                    &lt;div class="info-value"&gt;
                        &lt;bean:write name="user" property="fullName"/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class="info-row"&gt;
                    &lt;div class="info-label"&gt;ç”Ÿå¹´æœˆæ—¥:&lt;/div&gt;
                    &lt;div class="info-value"&gt;
                        &lt;logic:present name="user" property="birthDate"&gt;
                            &lt;bean:write name="user" property="birthDate" format="yyyy-MM-dd"/&gt;
                        &lt;/logic:present&gt;
                        &lt;logic:notPresent name="user" property="birthDate"&gt;
                            æœªè¨­å®š
                        &lt;/logic:notPresent&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class="info-row"&gt;
                    &lt;div class="info-label"&gt;ç™»éŒ²æ—¥æ™‚:&lt;/div&gt;
                    &lt;div class="info-value"&gt;
                        &lt;bean:write name="user" property="createdAt" format="yyyy-MM-dd HH:mm:ss"/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class="info-row"&gt;
                    &lt;div class="info-label"&gt;æ›´æ–°æ—¥æ™‚:&lt;/div&gt;
                    &lt;div class="info-value"&gt;
                        &lt;bean:write name="user" property="updatedAt" format="yyyy-MM-dd HH:mm:ss"/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div class="actions"&gt;
                &lt;a href="userEdit.do?userId=&lt;bean:write name="user" property="userId"/&gt;" 
                   class="btn btn-primary"&gt;ç·¨é›†&lt;/a&gt;
                &lt;a href="javascript:void(0)" 
                   onclick="confirmDelete(&lt;bean:write name="user" property="userId"/&gt;)"
                   class="btn btn-danger"&gt;å‰Šé™¤&lt;/a&gt;
                &lt;a href="userList.do" class="btn btn-secondary"&gt;ä¸€è¦§ã«æˆ»ã‚‹&lt;/a&gt;
            &lt;/div&gt;
        &lt;/logic:present&gt;
    &lt;/div&gt;
    
    &lt;script&gt;
        function confirmDelete(userId) {
            if (confirm('ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ\nå‰Šé™¤ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚')) {
                location.href = 'userDelete.do?userId=' + userId;
            }
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                    </div>

                    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5.2 -->
                    <h3 class="section-title" id="section5-2">5.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†æ©Ÿèƒ½</h3>
                    <p>æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±ã‚’ç·¨é›†ã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 5-2: UserEditActionå®Ÿè£…</h5>
                        <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºã®Actionã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
                        
                        <h6>UserEditAction.java</h6>
                        <p>src/main/java/com/example/struts/action/UserEditAction.java:</p>
                        <pre><code>package com.example.struts.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.text.SimpleDateFormat;

import org.apache.struts.action.Action;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;
import org.apache.struts.action.ActionMessage;
import org.apache.struts.action.ActionMessages;

import com.example.struts.form.UserForm;
import com.example.struts.model.User;
import com.example.struts.service.UserService;

public class UserEditAction extends Action {
    
    private UserService userService = new UserService();
    private SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
    
    @Override
    public ActionForward execute(ActionMapping mapping,
                                ActionForm form,
                                HttpServletRequest request,
                                HttpServletResponse response) {
        
        UserForm userForm = (UserForm) form;
        
        try {
            String userIdParam = request.getParameter("userId");
            
            if (userIdParam == null || userIdParam.trim().isEmpty()) {
                ActionMessages errors = new ActionMessages();
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.edit.error.noid"));
                saveErrors(request, errors);
                return mapping.findForward("error");
            }
            
            int userId = Integer.parseInt(userIdParam);
            User user = userService.getUserById(userId);
            
            if (user == null) {
                ActionMessages errors = new ActionMessages();
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.edit.error.notfound", userIdParam));
                saveErrors(request, errors);
                return mapping.findForward("error");
            }
            
            // Userã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰UserFormã«å€¤ã‚’ã‚³ãƒ”ãƒ¼
            userForm.setUserId(String.valueOf(user.getUserId()));
            userForm.setUsername(user.getUsername());
            userForm.setEmail(user.getEmail());
            userForm.setFullName(user.getFullName());
            
            if (user.getBirthDate() != null) {
                userForm.setBirthDate(dateFormat.format(user.getBirthDate()));
            }
            
            return mapping.findForward("success");
            
        } catch (Exception e) {
            ActionMessages errors = new ActionMessages();
            errors.add(ActionMessages.GLOBAL_MESSAGE,
                new ActionMessage("user.edit.error.system"));
            saveErrors(request, errors);
            return mapping.findForward("error");
        }
    }
}</code></pre>

                        <h6>userEdit.jsp</h6>
                        <p>src/main/webapp/userEdit.jsp:</p>
                        <pre><code>&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %&gt;
&lt;%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %&gt;

&lt;html lang="ja"&gt;
&lt;head&gt;
    &lt;title&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†&lt;/title&gt;
    &lt;style&gt;
        body { 
            font-family: 'Noto Sans JP', sans-serif; 
            margin: 20px; 
            background-color: #f5f5f5;
        }
        .container { 
            max-width: 600px; 
            margin: 0 auto; 
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .form-group { margin-bottom: 20px; }
        label { 
            display: block; 
            font-weight: bold; 
            margin-bottom: 5px; 
            color: #333;
        }
        input[type="text"], input[type="email"], input[type="date"] { 
            width: 100%; 
            padding: 10px; 
            border: 2px solid #ddd; 
            border-radius: 4px;
            font-size: 14px;
        }
        input:focus {
            border-color: #f57c00;
            outline: none;
        }
        .error { 
            color: #f44336; 
            font-size: 12px; 
            margin-top: 5px;
        }
        .message { 
            color: #4caf50; 
            font-weight: bold; 
            margin-bottom: 20px;
            padding: 10px;
            background-color: #e8f5e8;
            border-radius: 4px;
        }
        .submit-btn { 
            background-color: #f57c00; 
            color: white; 
            padding: 12px 30px; 
            border: none; 
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
        }
        .submit-btn:hover {
            background-color: #ff9800;
        }
        .cancel-btn {
            background-color: #6c757d;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            display: inline-block;
        }
        .cancel-btn:hover {
            background-color: #5a6268;
        }
        .readonly {
            background-color: #e9ecef;
            cursor: not-allowed;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container"&gt;
        &lt;h2&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†&lt;/h2&gt;
        
        &lt;!-- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º --&gt;
        &lt;html:errors/&gt;
        
        &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ  --&gt;
        &lt;html:form action="/userUpdate"&gt;
            &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’éš ã—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ã—ã¦é€ä¿¡ --&gt;
            &lt;html:hidden property="userId"/&gt;
            
            &lt;div class="form-group"&gt;
                &lt;label&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ID&lt;/label&gt;
                &lt;input type="text" value="&lt;bean:write name="userForm" property="userId"/&gt;" 
                       class="readonly" readonly&gt;
            &lt;/div&gt;
            
            &lt;div class="form-group"&gt;
                &lt;label for="username"&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼å *&lt;/label&gt;
                &lt;html:text property="username" styleId="username"/&gt;
                &lt;div style="color: red; font-size: 0.9em;"&gt;
                    &lt;html:errors property="username"/&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div class="form-group"&gt;
                &lt;label for="email"&gt;ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ *&lt;/label&gt;
                &lt;html:text property="email" styleId="email"/&gt;
                &lt;div style="color: red; font-size: 0.9em;"&gt;
                    &lt;html:errors property="email"/&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div class="form-group"&gt;
                &lt;label for="fullName"&gt;ãƒ•ãƒ«ãƒãƒ¼ãƒ  *&lt;/label&gt;
                &lt;html:text property="fullName" styleId="fullName"/&gt;
                &lt;div style="color: red; font-size: 0.9em;"&gt;
                    &lt;html:errors property="fullName"/&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div class="form-group"&gt;
                &lt;label for="birthDate"&gt;ç”Ÿå¹´æœˆæ—¥ï¼ˆä»»æ„ï¼‰&lt;/label&gt;
                &lt;html:text property="birthDate" styleId="birthDate"/&gt;
                &lt;div style="color: red; font-size: 0.9em;"&gt;
                    &lt;html:errors property="birthDate"/&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div class="form-group"&gt;
                &lt;html:submit style="background-color: #007bff; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer;"&gt;æ›´æ–°&lt;/html:submit&gt;
                &lt;a href="userView.do?userId=&lt;bean:write name="userForm" property="userId"/&gt;" 
                   class="cancel-btn"&gt;ã‚­ãƒ£ãƒ³ã‚»ãƒ«&lt;/a&gt;
            &lt;/div&gt;
        &lt;/html:form&gt;
        
        &lt;p&gt;&lt;small&gt;* ã¯å¿…é ˆé …ç›®ã§ã™&lt;/small&gt;&lt;/p&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                    </div>

                    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5.3 -->
                    <h3 class="section-title" id="section5-3">5.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°å‡¦ç†</h3>
                    <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®æ›´æ–°å‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 5-3: UserUpdateActionå®Ÿè£…</h5>
                        <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±æ›´æ–°å‡¦ç†ã®Actionã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
                        
                        <h6>UserUpdateAction.java</h6>
                        <p>src/main/java/com/example/struts/action/UserUpdateAction.java:</p>
                        <pre><code>package com.example.struts.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.sql.Date;
import java.text.ParseException;
import java.text.SimpleDateFormat;

import org.apache.struts.action.Action;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;
import org.apache.struts.action.ActionMessage;
import org.apache.struts.action.ActionMessages;

import com.example.struts.form.UserForm;
import com.example.struts.model.User;
import com.example.struts.service.UserService;

public class UserUpdateAction extends Action {
    
    private UserService userService = new UserService();
    private SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
    
    @Override
    public ActionForward execute(ActionMapping mapping,
                                ActionForm form,
                                HttpServletRequest request,
                                HttpServletResponse response) {
        
        UserForm userForm = (UserForm) form;
        
        try {
            // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Userã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›
            User user = new User();
            user.setUserId(Integer.parseInt(userForm.getUserId()));
            user.setUsername(userForm.getUsername().trim());
            user.setEmail(userForm.getEmail().trim());
            user.setFullName(userForm.getFullName().trim());
            
            // ç”Ÿå¹´æœˆæ—¥ã®å¤‰æ›ï¼ˆä»»æ„ï¼‰
            if (userForm.getBirthDate() != null && 
                !userForm.getBirthDate().trim().isEmpty()) {
                try {
                    java.util.Date parsedDate = dateFormat.parse(userForm.getBirthDate());
                    user.setBirthDate(new Date(parsedDate.getTime()));
                } catch (ParseException e) {
                    ActionMessages errors = new ActionMessages();
                    errors.add("birthDate", 
                        new ActionMessage("error.birthdate.format"));
                    saveErrors(request, errors);
                    return mapping.getInputForward();
                }
            }
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°å‡¦ç†
            boolean success = userService.updateUser(user);
            
            if (success) {
                // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­å®š
                ActionMessages messages = new ActionMessages();
                messages.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.update.success", user.getUsername()));
                saveMessages(request, messages);
                
                // è©³ç´°ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
                return new ActionForward("/userView.do?userId=" + user.getUserId(), true);
            } else {
                ActionMessages errors = new ActionMessages();
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.update.error.failed"));
                saveErrors(request, errors);
                return mapping.getInputForward();
            }
            
        } catch (Exception e) {
            // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
            ActionMessages errors = new ActionMessages();
            
            if (e.getMessage() != null && 
                e.getMessage().contains("å­˜åœ¨ã—ã¾ã›ã‚“")) {
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.update.error.notfound"));
            } else {
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.update.error.system"));
            }
            
            saveErrors(request, errors);
            return mapping.getInputForward();
        }
    }
}</code></pre>
                    </div>

                    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5.4 -->
                    <h3 class="section-title" id="section5-4">5.4 ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤æ©Ÿèƒ½</h3>
                    <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‰Šé™¤å‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 5-4: UserDeleteActionå®Ÿè£…</h5>
                        <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤å‡¦ç†ã®Actionã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
                        
                        <h6>UserDeleteAction.java</h6>
                        <p>src/main/java/com/example/struts/action/UserDeleteAction.java:</p>
                        <pre><code>package com.example.struts.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.struts.action.Action;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;
import org.apache.struts.action.ActionMessage;
import org.apache.struts.action.ActionMessages;

import com.example.struts.model.User;
import com.example.struts.service.UserService;

public class UserDeleteAction extends Action {
    
    private UserService userService = new UserService();
    
    @Override
    public ActionForward execute(ActionMapping mapping,
                                ActionForm form,
                                HttpServletRequest request,
                                HttpServletResponse response) {
        
        try {
            String userIdParam = request.getParameter("userId");
            
            if (userIdParam == null || userIdParam.trim().isEmpty()) {
                ActionMessages errors = new ActionMessages();
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.delete.error.noid"));
                saveErrors(request, errors);
                return mapping.findForward("error");
            }
            
            int userId = Integer.parseInt(userIdParam);
            
            // å‰Šé™¤å‰ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ï¼ˆãƒ­ã‚°ç”¨ï¼‰
            User user = userService.getUserById(userId);
            if (user == null) {
                ActionMessages errors = new ActionMessages();
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.delete.error.notfound", userIdParam));
                saveErrors(request, errors);
                return mapping.findForward("error");
            }
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤å‡¦ç†
            boolean success = userService.deleteUser(userId);
            
            if (success) {
                // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­å®š
                ActionMessages messages = new ActionMessages();
                messages.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.delete.success", user.getUsername()));
                saveMessages(request, messages);
                
                return mapping.findForward("success");
            } else {
                ActionMessages errors = new ActionMessages();
                errors.add(ActionMessages.GLOBAL_MESSAGE,
                    new ActionMessage("user.delete.error.failed"));
                saveErrors(request, errors);
                return mapping.findForward("error");
            }
            
        } catch (NumberFormatException e) {
            ActionMessages errors = new ActionMessages();
            errors.add(ActionMessages.GLOBAL_MESSAGE,
                new ActionMessage("user.delete.error.invalidid"));
            saveErrors(request, errors);
            return mapping.findForward("error");
            
        } catch (Exception e) {
            ActionMessages errors = new ActionMessages();
            errors.add(ActionMessages.GLOBAL_MESSAGE,
                new ActionMessage("user.delete.error.system"));
            saveErrors(request, errors);
            return mapping.findForward("error");
        }
    }
}</code></pre>
                    </div>

                    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5.5 -->
                    <h3 class="section-title" id="section5-5">5.5 è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°</h3>
                    <p>æ–°ã—ãä½œæˆã—ãŸActionã®ãƒãƒƒãƒ”ãƒ³ã‚°ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>

                    <div class="exercise-container">
                        <h5>å®Ÿç¿’ 5-5: struts-config.xml ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¿½åŠ </h5>
                        
                        <h6>struts-config.xml è¿½åŠ è¨­å®š</h6>
                        <pre><code>&lt;!-- action-mappingsè¦ç´ ã«è¿½åŠ  --&gt;
&lt;action-mappings&gt;
    &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°è¡¨ç¤º --&gt;
    &lt;action path="/userView"
            type="com.example.struts.action.UserViewAction"&gt;
        &lt;forward name="success" path="/pages/userView.jsp"/&gt;
        &lt;forward name="error" path="/pages/error.jsp"/&gt;
    &lt;/action&gt;
    
    &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º --&gt;
    &lt;action path="/userEdit"
            type="com.example.struts.action.UserEditAction"
            name="userForm"
            scope="request"
            validate="false"&gt;
        &lt;forward name="success" path="/pages/userEdit.jsp"/&gt;
        &lt;forward name="error" path="/pages/error.jsp"/&gt;
    &lt;/action&gt;
    
    &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°å‡¦ç† --&gt;
    &lt;action path="/userUpdate"
            type="com.example.struts.action.UserUpdateAction"
            name="userForm"
            scope="request"
            validate="true"
            input="/pages/userEdit.jsp"&gt;
    &lt;/action&gt;
    
    &lt;!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤å‡¦ç† --&gt;
    &lt;action path="/userDelete"
            type="com.example.struts.action.UserDeleteAction"&gt;
        &lt;forward name="success" path="/userList.do" redirect="true"/&gt;
        &lt;forward name="error" path="/pages/error.jsp"/&gt;
    &lt;/action&gt;
&lt;/action-mappings&gt;</code></pre>

                        <h6>MessageResources.properties è¿½åŠ </h6>
                        <div class="highlight">
                            <p><strong>ğŸ’¡ ç·¨é›†æ–¹æ³•:</strong> Eclipseã®Limyãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¨ãƒ‡ã‚£ã‚¿ã‚’ä½¿ç”¨ã—ã¦ä»¥ä¸‹ã®å†…å®¹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚æ—¥æœ¬èªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé©åˆ‡ã«Unicodeã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã•ã‚Œã¾ã™ã€‚</p>
                        </div>
                        <pre><code># ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°é–¢é€£
user.view.error.noid=ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“
user.view.error.notfound=æŒ‡å®šã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼(ID: {0})ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
user.view.error.invalidid=ä¸æ­£ãªãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§ã™
user.view.error.system=ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ

# ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†é–¢é€£
user.edit.error.noid=ç·¨é›†å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“
user.edit.error.notfound=ç·¨é›†å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼(ID: {0})ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
user.edit.error.system=ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ç”»é¢ã®è¡¨ç¤ºã«å¤±æ•—ã—ã¾ã—ãŸ

# ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°é–¢é€£
user.update.success=ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€Œ{0}ã€ã®æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸ
user.update.error.failed=ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ
user.update.error.notfound=æ›´æ–°å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
user.update.error.system=ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ

# ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤é–¢é€£
user.delete.success=ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€Œ{0}ã€ã‚’å‰Šé™¤ã—ã¾ã—ãŸ
user.delete.error.noid=å‰Šé™¤å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“
user.delete.error.notfound=å‰Šé™¤å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼(ID: {0})ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
user.delete.error.invalidid=ä¸æ­£ãªãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§ã™
user.delete.error.failed=ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ
user.delete.error.system=ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</code></pre>
                    </div>

                    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5.6 -->
                    <h3 class="section-title" id="section5-6">5.6 CRUDçµ±åˆã®ç¢ºèª</h3>
                    <p>å®Ÿè£…ã—ãŸå…¨ã¦ã®æ©Ÿèƒ½ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>

                    <div class="highlight">
                        <h5>å®Œæˆã—ãŸCRUDæ©Ÿèƒ½</h5>
                        <ul>
                            <li><strong>Create</strong>: userForm.do â†’ userCreate.do</li>
                            <li><strong>Read</strong>: userList.do â†’ userView.do</li>
                            <li><strong>Update</strong>: userEdit.do â†’ userUpdate.do</li>
                            <li><strong>Delete</strong>: userDelete.doï¼ˆç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä»˜ãï¼‰</li>
                        </ul>
                        
                        <h5>ç”»é¢é·ç§»ãƒ•ãƒ­ãƒ¼</h5>
                        <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ â† â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´° â† â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†<br>
                        â†“<br>
                        ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ </p>
                    </div>

                    <!-- æ³¨æ„ç‚¹ -->
                    <div class="warning">
                        <h5>å®Ÿè£…å®Œäº†å¾Œã®ãƒã‚§ãƒƒã‚¯é …ç›®</h5>
                        <ul>
                            <li>å…¨ã¦ã®Action ã‚¯ãƒ©ã‚¹ãŒstruts-config.xmlã«æ­£ã—ããƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ã“ã¨</li>
                            <li>ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒé©åˆ‡ã«æ©Ÿèƒ½ã™ã‚‹ã“ã¨</li>
                            <li>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨</li>
                            <li>å‰Šé™¤æ™‚ã®ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå‹•ä½œã™ã‚‹ã“ã¨</li>
                            <li>æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå¾Œã‚‚è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨</li>
                            <li>å„ç”»é¢é–“ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãæ©Ÿèƒ½ã™ã‚‹ã“ã¨</li>
                        </ul>
                    </div>

                    <!-- ç†è§£åº¦ç¢ºèªï¼ˆå¿…é ˆï¼‰ -->
                    <div class="quiz-container" id="quiz">
                        <h5>ç†è§£åº¦ç¢ºèªã‚¯ã‚¤ã‚º</h5>
                        <ol>
                            <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°ç”»é¢ã§Userã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’JSPã§è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ã‚¹ã‚³ãƒ¼ãƒ—ã¯ä½•ã§ã™ã‹ï¼Ÿ</li>
                            <li>ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã§Userã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰UserFormã«å€¤ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹å‡¦ç†ã¯ã©ã“ã§è¡Œã„ã¾ã™ã‹ï¼Ÿ</li>
                            <li>æ›´æ–°å‡¦ç†å¾Œã«è©³ç´°ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ActionForwardã®æ›¸ãæ–¹ã¯ï¼Ÿ</li>
                            <li>JavaScriptã§ã®å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®å®Ÿè£…ã«ä½¿ç”¨ã™ã‚‹é–¢æ•°ã¯ä½•ã§ã™ã‹ï¼Ÿ</li>
                            <li>hiddenãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’é€ä¿¡ã™ã‚‹Strutsã‚¿ã‚°ã¯ä½•ã§ã™ã‹ï¼Ÿ</li>
                            <li>æ•°å€¤å‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’intã«å¤‰æ›ã™ã‚‹éš›ã«ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ä¾‹å¤–ã¯ä½•ã§ã™ã‹ï¼Ÿ</li>
                        </ol>
                        
                        <details class="mt-3">
                            <summary>è§£ç­”ã‚’ç¢ºèª</summary>
                            <ol>
                                <li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆrequest.setAttributeï¼‰</li>
                                <li>UserEditActionã®execute()ãƒ¡ã‚½ãƒƒãƒ‰å†…</li>
                                <li>new ActionForward("/userView.do?userId=" + userId, true)</li>
                                <li>confirm()</li>
                                <li>&lt;html:hidden property="userId"/&gt;</li>
                                <li>NumberFormatException</li>
                            </ol>
                        </details>
                    </div>

                    <!-- ç« é–“ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¿…é ˆï¼‰ -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="step4-user-create-read.html" class="btn btn-secondary">â† å‰ã®ç« : ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æ©Ÿèƒ½ï¼ˆCREATE, READï¼‰</a>
                        <a href="step6-testing-debug.html" class="btn btn-primary">æ¬¡ã®ç« : ãƒ–ãƒ©ã‚¦ã‚¶å‹•ä½œç¢ºèª â†’</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ã‚¹ãƒ ãƒ¼ã‚¹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒªãƒ³ã‚¯æ›´æ–°
        window.addEventListener('scroll', function() {
            let current = '';
            const sections = document.querySelectorAll('h3[id], div[id]');
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('.sidebar .nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>