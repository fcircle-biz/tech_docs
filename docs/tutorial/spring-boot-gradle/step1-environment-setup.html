<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Boot + Gradle チュートリアル Step 1 - 開発環境構築とプロジェクト作成</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        
        .navbar {
            background-color: #4caf50;
        }
        
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        
        .chapter-title {
            color: #4caf50;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #4caf50;
            padding-bottom: 0.5rem;
        }
        
        .section-title {
            color: #66bb6a;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        
        .quiz-container {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #4caf50;
        }
        
        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }
        
        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }
        
        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }
        
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .nav-link.active {
            background-color: #4caf50 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Spring Boot + Gradle チュートリアル</a>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="step1-environment-setup.html">
                                Step 1: 環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step2-docker-postgresql.html">
                                Step 2: PostgreSQL環境
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step3-spring-mvc-web.html">
                                Step 3: Webコントローラー
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step4-spring-data-jpa.html">
                                Step 4: データベースアクセス
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step5-user-registration.html">
                                Step 5: ユーザー登録機能
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step6-thymeleaf-ui.html">
                                Step 6: 画面実装
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step7-user-list-detail.html">
                                Step 7: 一覧・詳細機能
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step8-user-update-delete.html">
                                Step 8: 更新・削除機能
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step9-security-error.html">
                                Step 9: セキュリティ基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step10-deployment.html">
                                Step 10: デプロイメント
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Step 1: 開発環境構築とプロジェクト作成</h1>
                </div>

                <div id="step1">
                    <h2 class="chapter-title">開発環境構築とプロジェクト作成</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>JDK 17のインストールと環境変数設定</li>
                            <li>Visual Studio Codeのセットアップと必要な拡張機能</li>
                            <li>Docker Desktopのインストールと動作確認</li>
                            <li>Spring Initializrを使用したプロジェクト作成</li>
                            <li>Gradleプロジェクト構造の理解</li>
                            <li>Hello Worldアプリケーションの作成と実行</li>
                        </ul>
                    </div>

                    <h3 class="section-title">1.1 JDK 17のインストール</h3>
                    <p>Spring Boot 3.xを使用するためには、Java 17以上が必要です。Oracle JDKまたはOpenJDKをインストールしましょう。</p>

                    <div class="exercise-container">
                        <h5>実習 1-1: JDK 17のインストール</h5>
                        <p>お使いのOSに応じてJDK 17をインストールします。</p>
                        <h6>手順（Windows）</h6>
                        <ol>
                            <li><a href="https://adoptium.net/" target="_blank">Eclipse Temurin</a>からJDK 17をダウンロード</li>
                            <li>インストーラーを実行し、指示に従ってインストール</li>
                            <li>環境変数JAVA_HOMEを設定</li>
                            <li>PATHにJDKのbinディレクトリを追加</li>
                        </ol>
                        <h6>インストール確認</h6>
                        <p>コマンドプロンプトまたはターミナルで以下のコマンドを実行：</p>
                        <pre class="code-block"><code class="language-bash">java -version
javac -version</code></pre>
                        <h6>期待される結果</h6>
                        <pre class="code-block"><code class="language-bash">openjdk version "17.0.7" 2023-04-18
OpenJDK Runtime Environment Temurin-17.0.7+7 (build 17.0.7+7)
OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)</code></pre>
                    </div>

                    <h3 class="section-title">1.2 Visual Studio Codeのセットアップ</h3>
                    <p>Visual Studio Code（VS Code）は、Javaアプリケーション開発に適した軽量で高機能なエディターです。</p>

                    <div class="exercise-container">
                        <h5>実習 1-2: VS Codeのインストールと設定</h5>
                        <p>VS Codeと必要な拡張機能をインストールします。</p>
                        <h6>手順</h6>
                        <ol>
                            <li><a href="https://code.visualstudio.com/" target="_blank">Visual Studio Code</a>をダウンロードしてインストール</li>
                            <li>VS Codeを起動し、拡張機能画面（Ctrl+Shift+X）を開く</li>
                            <li>以下の拡張機能をインストール：
                                <ul>
                                    <li><strong>Extension Pack for Java</strong> - Java開発のための基本パック</li>
                                    <li><strong>Spring Boot Extension Pack</strong> - Spring Boot開発支援</li>
                                    <li><strong>Docker</strong> - Docker統合機能</li>
                                </ul>
                            </li>
                        </ol>
                        <h6>確認方法</h6>
                        <p>コマンドパレット（Ctrl+Shift+P）で「Java: Getting Started」と入力して、Java開発のスタートページが表示されることを確認します。</p>
                    </div>

                    <h3 class="section-title">1.3 Docker Desktopのインストール</h3>
                    <p>PostgreSQLデータベースをコンテナで実行するため、Docker Desktopをインストールします。</p>

                    <div class="exercise-container">
                        <h5>実習 1-3: Docker Desktopのセットアップ</h5>
                        <p>Docker Desktopをインストールして動作確認を行います。</p>
                        <h6>手順</h6>
                        <ol>
                            <li><a href="https://www.docker.com/products/docker-desktop/" target="_blank">Docker Desktop</a>をダウンロードしてインストール</li>
                            <li>インストール後、Docker Desktopを起動</li>
                            <li>初期設定を完了させる</li>
                        </ol>
                        <h6>動作確認</h6>
                        <pre class="code-block"><code class="language-bash">docker --version
docker run hello-world</code></pre>
                        <h6>期待される結果</h6>
                        <p>「Hello from Docker!」メッセージが表示され、Dockerが正常に動作していることを確認できます。</p>
                    </div>

                    <h3 class="section-title">1.4 Spring Bootプロジェクトの作成</h3>
                    <p>Spring Initializrを使用して、Spring Bootプロジェクトを作成します。</p>

                    <div class="exercise-container">
                        <h5>実習 1-4: Spring Initializrでプロジェクト作成</h5>
                        <p>Webブラウザを使ってSpring Bootプロジェクトを生成します。</p>
                        <h6>手順</h6>
                        <ol>
                            <li><a href="https://start.spring.io/" target="_blank">Spring Initializr</a>にアクセス</li>
                            <li>以下の設定を行う：
                                <ul>
                                    <li><strong>Project:</strong> Gradle - Groovy</li>
                                    <li><strong>Language:</strong> Java</li>
                                    <li><strong>Spring Boot:</strong> 3.2.x（最新版）</li>
                                    <li><strong>Group:</strong> com.example</li>
                                    <li><strong>Artifact:</strong> user-management</li>
                                    <li><strong>Name:</strong> user-management</li>
                                    <li><strong>Package name:</strong> com.example.usermanagement</li>
                                    <li><strong>Packaging:</strong> Jar</li>
                                    <li><strong>Java:</strong> 17</li>
                                </ul>
                            </li>
                            <li>以下の依存関係を追加：
                                <ul>
                                    <li><strong>Spring Web</strong> - Web MVC機能</li>
                                    <li><strong>Spring Data JPA</strong> - データベースアクセス</li>
                                    <li><strong>PostgreSQL Driver</strong> - PostgreSQL接続</li>
                                    <li><strong>Thymeleaf</strong> - テンプレートエンジン</li>
                                    <li><strong>Spring Boot DevTools</strong> - 開発効率化ツール</li>
                                </ul>
                            </li>
                            <li>「GENERATE」ボタンをクリックしてZIPファイルをダウンロード</li>
                            <li>適当なフォルダに解凍</li>
                        </ol>
                    </div>

                    <h3 class="section-title">1.5 プロジェクト構造の理解</h3>
                    <p>生成されたGradleプロジェクトの構造を確認しましょう。</p>

                    <div class="exercise-container">
                        <h5>実習 1-5: プロジェクト構造の確認</h5>
                        <p>VS Codeでプロジェクトを開いて構造を確認します。</p>
                        <h6>手順</h6>
                        <ol>
                            <li>VS Codeで「File」→「Open Folder」から解凍したプロジェクトフォルダを開く</li>
                            <li>プロジェクト構造を確認する</li>
                        </ol>
                        <h6>プロジェクト構造</h6>
                        <pre class="code-block"><code class="language-bash">user-management/
├── build.gradle              # Gradleビルド設定
├── gradlew                    # Gradle Wrapper（Unix用）
├── gradlew.bat               # Gradle Wrapper（Windows用）
├── gradle/
│   └── wrapper/
│       ├── gradle-wrapper.jar
│       └── gradle-wrapper.properties
├── settings.gradle           # プロジェクト設定
└── src/
    ├── main/
    │   ├── java/
    │   │   └── com/example/usermanagement/
    │   │       └── UserManagementApplication.java
    │   └── resources/
    │       ├── application.properties
    │       ├── static/          # 静的ファイル（CSS、JS等）
    │       └── templates/       # Thymeleafテンプレート
    └── test/
        └── java/
            └── com/example/usermanagement/
                └── UserManagementApplicationTests.java</code></pre>
                        <h6>重要なファイルの説明</h6>
                        <ul>
                            <li><strong>build.gradle:</strong> 依存関係とビルド設定</li>
                            <li><strong>gradlew / gradlew.bat:</strong> Gradle Wrapper（Gradleを別途インストール不要）</li>
                            <li><strong>UserManagementApplication.java:</strong> メインクラス</li>
                            <li><strong>application.properties:</strong> アプリケーション設定</li>
                        </ul>
                    </div>

                    <h3 class="section-title">1.6 Hello Worldアプリケーションの作成</h3>
                    <p>まずは簡単なWebアプリケーションを作成して、環境が正しく動作することを確認しましょう。</p>

                    <div class="exercise-container">
                        <h5>実習 1-6: Hello Worldコントローラーの作成</h5>
                        <p>最初のWebコントローラーを作成してブラウザで表示を確認します。</p>
                        <h6>手順</h6>
                        <ol>
                            <li>VS Codeで新しいファイルを作成：<code>src/main/java/com/example/usermanagement/HelloController.java</code></li>
                            <li>以下のコードを入力：</li>
                        </ol>
                        <h6>HelloController.java</h6>
                        <pre class="code-block"><code class="language-java">package com.example.usermanagement;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class HelloController {
    
    @GetMapping("/")
    public String hello(Model model) {
        model.addAttribute("message", "Hello, Spring Boot!");
        return "hello";
    }
}</code></pre>
                        <h6>手順（続き）</h6>
                        <ol start="3">
                            <li>Thymeleafテンプレートを作成：<code>src/main/resources/templates/hello.html</code></li>
                            <li>以下のHTMLコードを入力：</li>
                        </ol>
                        <h6>hello.html</h6>
                        <pre class="code-block"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Hello World&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1 th:text="${message}"&gt;Hello World!&lt;/h1&gt;
    &lt;p&gt;Spring Boot + Gradle プロジェクトが正常に動作しています。&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                    </div>

                    <h3 class="section-title">1.7 アプリケーションの実行</h3>
                    <p>作成したアプリケーションを実行して動作確認を行います。</p>

                    <div class="exercise-container">
                        <h5>実習 1-7: アプリケーションの起動と確認</h5>
                        <p>Spring Bootアプリケーションを起動してブラウザで確認します。</p>
                        <h6>手順</h6>
                        <ol>
                            <li>VS Codeのターミナル（Ctrl+`）を開く</li>
                            <li>以下のコマンドでアプリケーションを起動：</li>
                        </ol>
                        <h6>実行コマンド</h6>
                        <pre class="code-block"><code class="language-bash">./gradlew bootRun</code></pre>
                        <h6>期待される結果</h6>
                        <pre class="code-block"><code class="language-bash">  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.x)

...
2023-XX-XX XX:XX:XX.XXX  INFO 12345 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-XX-XX XX:XX:XX.XXX  INFO 12345 --- [           main] c.e.u.UserManagementApplication          : Started UserManagementApplication in X.XXX seconds</code></pre>
                        <h6>動作確認</h6>
                        <ol start="3">
                            <li>ブラウザで <a href="http://localhost:8080" target="_blank">http://localhost:8080</a> にアクセス</li>
                            <li>「Hello, Spring Boot!」メッセージが表示されることを確認</li>
                            <li>アプリケーションを停止する場合は、ターミナルでCtrl+Cを押す</li>
                        </ol>
                    </div>

                    <div class="warning">
                        <h5>トラブルシューティング</h5>
                        <ul>
                            <li><strong>ポート8080が既に使用されている場合:</strong> 他のアプリケーションがポート8080を使用している可能性があります。application.propertiesファイルに<code>server.port=8081</code>を追加して別のポートを使用してください。</li>
                            <li><strong>Java バージョンエラー:</strong> JDK 17が正しくインストールされているか確認してください。</li>
                            <li><strong>VS Code でJavaが認識されない:</strong> Extension Pack for Javaがインストールされているか確認し、VS Codeを再起動してください。</li>
                        </ul>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>Spring Boot 3.xを使用するために必要なJavaのバージョンは何ですか？</li>
                            <li>Gradleプロジェクトで依存関係を定義するファイルはどれですか？</li>
                            <li>@Controllerアノテーションの役割は何ですか？</li>
                            <li>Spring Bootアプリケーションのデフォルトポート番号は何番ですか？</li>
                            <li>Thymeleafテンプレートファイルはどのディレクトリに配置しますか？</li>
                        </ol>
                        <details>
                            <summary>解答例</summary>
                            <ol>
                                <li>Java 17以上</li>
                                <li>build.gradle</li>
                                <li>WebコントローラークラスであることをSpringに認識させる</li>
                                <li>8080番</li>
                                <li>src/main/resources/templates</li>
                            </ol>
                        </details>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="../README.html" class="btn btn-secondary">← チュートリアル目次</a>
                        <a href="step2-docker-postgresql.html" class="btn btn-primary">次の章 → Step 2: PostgreSQL環境構築</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
</body>
</html>