<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Boot + Gradle チュートリアル Step 6 - Thymeleafによる画面実装</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        
        .navbar {
            background-color: #4caf50;
        }
        
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        
        .chapter-title {
            color: #4caf50;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #4caf50;
            padding-bottom: 0.5rem;
        }
        
        .section-title {
            color: #66bb6a;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        
        .quiz-container {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #4caf50;
        }
        
        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }
        
        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }
        
        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }
        
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .nav-link.active {
            background-color: #4caf50 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Spring Boot + Gradle チュートリアル</a>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="step1-environment-setup.html">
                                Step 1: 環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step2-docker-postgresql.html">
                                Step 2: PostgreSQL環境
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step3-spring-mvc-web.html">
                                Step 3: Webコントローラー
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step4-spring-data-jpa.html">
                                Step 4: データベースアクセス
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step5-user-registration.html">
                                Step 5: ユーザー登録機能
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="step6-thymeleaf-ui.html">
                                Step 6: 画面実装
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step7-user-list-detail.html">
                                Step 7: 一覧・詳細機能
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step8-user-update-delete.html">
                                Step 8: 更新・削除機能
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step9-security-error.html">
                                Step 9: セキュリティ基礎
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step10-deployment.html">
                                Step 10: デプロイメント
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Step 6: Thymeleafによる画面実装</h1>
                </div>

                <div id="step6">
                    <h2 class="chapter-title">Thymeleafによる画面実装</h2>
                    
                    <div class="highlight">
                        <h5>この章で学ぶこと</h5>
                        <ul>
                            <li>Thymeleafテンプレートエンジンの設定</li>
                            <li>レイアウト共通化（ヘッダー、フッター）</li>
                            <li>ユーザー登録フォームの作成</li>
                            <li>フォームバリデーションとエラー表示</li>
                            <li>CSSフレームワーク（Bootstrap）の統合</li>
                            <li>静的リソースの管理</li>
                        </ul>
                    </div>

                    <h3 class="section-title">6.1 Thymeleafテンプレートエンジンとは</h3>
                    <p>Thymeleafは、Spring Bootで推奨されるテンプレートエンジンです。HTMLテンプレートに動的なデータを埋め込んで、Webページを生成します。</p>

                    <div class="highlight">
                        <h5>Thymeleafの特徴</h5>
                        <ul>
                            <li><strong>自然なテンプレート:</strong> 純粋なHTMLとして表示可能</li>
                            <li><strong>強力な式言語:</strong> Spring Expression Language（SpEL）対応</li>
                            <li><strong>国際化対応:</strong> 多言語サポート</li>
                            <li><strong>レイアウト機能:</strong> 共通レイアウトの作成</li>
                        </ul>
                    </div>

                    <h3 class="section-title">6.2 共通レイアウトの作成</h3>
                    <p>全ページで共通して使用するヘッダーとフッターを含むレイアウトテンプレートを作成します。</p>

                    <div class="exercise-container">
                        <h5>実習 6-1: 共通レイアウトテンプレートの作成</h5>
                        <p>フラグメント機能を使用して共通レイアウトを作成します。</p>
                        <h6>手順</h6>
                        <ol>
                            <li>新しいディレクトリを作成：<code>src/main/resources/templates/fragments/</code></li>
                            <li>新しいファイルを作成：<code>src/main/resources/templates/fragments/layout.html</code></li>
                            <li>以下のHTMLを記述：</li>
                        </ol>
                        <h6>fragments/layout.html</h6>
                        <pre class="code-block"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head th:fragment="head(title)"&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title th:text="${title} + ' - ユーザー管理システム'"&gt;ユーザー管理システム&lt;/title&gt;
    
    &lt;!-- Bootstrap 5 CDN --&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"&gt;
    
    &lt;!-- Bootstrap Icons --&gt;
    &lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"&gt;
    
    &lt;!-- Google Fonts --&gt;
    &lt;link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&amp;display=swap" rel="stylesheet"&gt;
    
    &lt;!-- カスタムCSS --&gt;
    &lt;link th:href="@{/css/custom.css}" rel="stylesheet"&gt;
&lt;/head&gt;

&lt;!-- ナビゲーションバー --&gt;
&lt;nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top"&gt;
    &lt;div class="container-fluid"&gt;
        &lt;a class="navbar-brand" href="/"&gt;
            &lt;i class="bi bi-people-fill"&gt;&lt;/i&gt; ユーザー管理システム
        &lt;/a&gt;
        
        &lt;button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"&gt;
            &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
        &lt;/button&gt;
        
        &lt;div class="collapse navbar-collapse" id="navbarNav"&gt;
            &lt;ul class="navbar-nav me-auto"&gt;
                &lt;li class="nav-item"&gt;
                    &lt;a class="nav-link" href="/"&gt;
                        &lt;i class="bi bi-house"&gt;&lt;/i&gt; ホーム
                    &lt;/a&gt;
                &lt;/li&gt;
                &lt;li class="nav-item"&gt;
                    &lt;a class="nav-link" href="/users"&gt;
                        &lt;i class="bi bi-list"&gt;&lt;/i&gt; ユーザー一覧
                    &lt;/a&gt;
                &lt;/li&gt;
                &lt;li class="nav-item"&gt;
                    &lt;a class="nav-link" href="/register"&gt;
                        &lt;i class="bi bi-person-plus"&gt;&lt;/i&gt; 新規登録
                    &lt;/a&gt;
                &lt;/li&gt;
                &lt;li class="nav-item"&gt;
                    &lt;a class="nav-link" href="/users/search"&gt;
                        &lt;i class="bi bi-search"&gt;&lt;/i&gt; 検索
                    &lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/nav&gt;

&lt;!-- フッター --&gt;
&lt;footer th:fragment="footer" class="bg-light text-center py-3 mt-5"&gt;
    &lt;div class="container"&gt;
        &lt;p class="text-muted mb-0"&gt;
            &amp;copy; 2024 ユーザー管理システム - Spring Boot チュートリアル
        &lt;/p&gt;
    &lt;/div&gt;
&lt;/footer&gt;

&lt;!-- JavaScript フラグメント --&gt;
&lt;div th:fragment="scripts"&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"&gt;&lt;/script&gt;
    &lt;script th:src="@{/js/custom.js}"&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;/html&gt;</code></pre>
                    </div>

                    <h3 class="section-title">6.3 カスタムCSSの作成</h3>
                    <p>アプリケーション独自のスタイルを定義するCSSファイルを作成します。</p>

                    <div class="exercise-container">
                        <h5>実習 6-2: カスタムCSSファイルの作成</h5>
                        <p>静的リソース用のCSSファイルを作成します。</p>
                        <h6>手順</h6>
                        <ol>
                            <li>新しいディレクトリを作成：<code>src/main/resources/static/css/</code></li>
                            <li>新しいファイルを作成：<code>src/main/resources/static/css/custom.css</code></li>
                            <li>以下のCSSを記述：</li>
                        </ol>
                        <h6>static/css/custom.css</h6>
                        <pre class="code-block"><code class="language-css">/* カスタムスタイル */
body {
    font-family: 'Noto Sans JP', sans-serif;
    padding-top: 76px;
    background-color: #f8f9fa;
}

/* ナビゲーションバー */
.navbar-brand {
    font-weight: 500;
}

.nav-link:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
}

/* カード */
.card {
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    border: 1px solid rgba(0, 0, 0, 0.125);
}

.card-header {
    background-color: #e9ecef;
    border-bottom: 1px solid rgba(0, 0, 0, 0.125);
}

/* フォーム */
.form-control:focus {
    border-color: #80bdff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

.is-invalid {
    border-color: #dc3545;
}

.invalid-feedback {
    display: block;
}

/* ボタン */
.btn {
    border-radius: 4px;
    font-weight: 500;
}

/* テーブル */
.table {
    background-color: white;
}

.table th {
    background-color: #f8f9fa;
    border-bottom: 2px solid #dee2e6;
    font-weight: 600;
}

/* アラート */
.alert {
    border-radius: 6px;
}

/* ページネーション */
.pagination {
    margin-bottom: 0;
}

/* フッター */
footer {
    margin-top: auto;
}

/* ユーティリティ */
.text-truncate {
    max-width: 200px;
}

/* レスポンシブ対応 */
@media (max-width: 768px) {
    .container-fluid {
        padding-left: 15px;
        padding-right: 15px;
    }
    
    .table-responsive {
        font-size: 0.875rem;
    }
    
    .btn-group-vertical .btn {
        margin-bottom: 0.25rem;
    }
}

/* アニメーション */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.fade-in {
    animation: fadeIn 0.3s ease-out;
}</code></pre>
                    </div>

                    <h3 class="section-title">6.4 改良されたユーザー一覧画面の作成</h3>
                    <p>共通レイアウトを使用した美しいユーザー一覧画面を作成します。</p>

                    <div class="exercise-container">
                        <h5>実習 6-3: 改良されたユーザー一覧画面</h5>
                        <p>レイアウトテンプレートを使用してユーザー一覧画面を改良します。</p>
                        <h6>手順</h6>
                        <ol>
                            <li><code>src/main/resources/templates/users/list.html</code>を更新：</li>
                        </ol>
                        <h6>users/list.html（改良版）</h6>
                        <pre class="code-block"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head th:replace="fragments/layout :: head('ユーザー一覧')"&gt;&lt;/head&gt;
&lt;body&gt;
    &lt;nav th:replace="fragments/layout :: navbar"&gt;&lt;/nav&gt;
    
    &lt;div class="container-fluid mt-4"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col"&gt;
                &lt;!-- ページヘッダー --&gt;
                &lt;div class="d-flex justify-content-between align-items-center mb-4"&gt;
                    &lt;h1 class="h3"&gt;
                        &lt;i class="bi bi-people"&gt;&lt;/i&gt; ユーザー一覧
                        &lt;span class="badge bg-secondary" th:text="${totalUsers} + '人'"&gt;0人&lt;/span&gt;
                    &lt;/h1&gt;
                    &lt;div&gt;
                        &lt;a href="/register" class="btn btn-primary"&gt;
                            &lt;i class="bi bi-person-plus"&gt;&lt;/i&gt; 新規登録
                        &lt;/a&gt;
                        &lt;a href="/users/search" class="btn btn-outline-secondary"&gt;
                            &lt;i class="bi bi-search"&gt;&lt;/i&gt; 検索
                        &lt;/a&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;!-- ユーザーテーブル --&gt;
                &lt;div class="card"&gt;
                    &lt;div class="card-body p-0"&gt;
                        &lt;div class="table-responsive"&gt;
                            &lt;table class="table table-hover mb-0"&gt;
                                &lt;thead&gt;
                                    &lt;tr&gt;
                                        &lt;th&gt;ID&lt;/th&gt;
                                        &lt;th&gt;名前&lt;/th&gt;
                                        &lt;th&gt;メールアドレス&lt;/th&gt;
                                        &lt;th&gt;登録日時&lt;/th&gt;
                                        &lt;th&gt;操作&lt;/th&gt;
                                    &lt;/tr&gt;
                                &lt;/thead&gt;
                                &lt;tbody&gt;
                                    &lt;tr th:each="user : ${users}" class="fade-in"&gt;
                                        &lt;td th:text="${user.id}"&gt;1&lt;/td&gt;
                                        &lt;td&gt;
                                            &lt;strong th:text="${user.name}"&gt;ユーザー名&lt;/strong&gt;
                                        &lt;/td&gt;
                                        &lt;td&gt;
                                            &lt;span class="text-truncate" th:text="${user.email}"&gt;メール&lt;/span&gt;
                                        &lt;/td&gt;
                                        &lt;td th:text="${#temporals.format(user.createdAt, 'yyyy-MM-dd HH:mm')}"&gt;日時&lt;/td&gt;
                                        &lt;td&gt;
                                            &lt;div class="btn-group" role="group"&gt;
                                                &lt;a th:href="@{'/users/' + ${user.id}}" class="btn btn-sm btn-outline-primary"&gt;
                                                    &lt;i class="bi bi-eye"&gt;&lt;/i&gt;
                                                &lt;/a&gt;
                                                &lt;a th:href="@{'/users/' + ${user.id} + '/edit'}" class="btn btn-sm btn-outline-warning"&gt;
                                                    &lt;i class="bi bi-pencil"&gt;&lt;/i&gt;
                                                &lt;/a&gt;
                                            &lt;/div&gt;
                                        &lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;!-- ページネーション --&gt;
                &lt;nav th:if="${totalPages &gt; 1}" class="mt-4"&gt;
                    &lt;ul class="pagination justify-content-center"&gt;
                        &lt;li class="page-item" th:classappend="${!hasPrevious} ? 'disabled' : ''"&gt;
                            &lt;a class="page-link" th:href="@{/users(page=${currentPage - 1})}"&gt;前へ&lt;/a&gt;
                        &lt;/li&gt;
                        
                        &lt;li th:each="pageNum : ${#numbers.sequence(0, totalPages - 1)}" 
                            class="page-item" 
                            th:classappend="${pageNum == currentPage} ? 'active' : ''"&gt;
                            &lt;a class="page-link" th:href="@{/users(page=${pageNum})}" th:text="${pageNum + 1}"&gt;1&lt;/a&gt;
                        &lt;/li&gt;
                        
                        &lt;li class="page-item" th:classappend="${!hasNext} ? 'disabled' : ''"&gt;
                            &lt;a class="page-link" th:href="@{/users(page=${currentPage + 1})}"&gt;次へ&lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/nav&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;footer th:replace="fragments/layout :: footer"&gt;&lt;/footer&gt;
    &lt;div th:replace="fragments/layout :: scripts"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                    </div>

                    <h3 class="section-title">6.5 JavaScriptファイルの作成</h3>
                    <p>ユーザーインターフェースを向上させるJavaScriptファイルを作成します。</p>

                    <div class="exercise-container">
                        <h5>実習 6-4: カスタムJavaScriptの作成</h5>
                        <p>インタラクティブな機能を追加するJavaScriptファイルを作成します。</p>
                        <h6>手順</h6>
                        <ol>
                            <li>新しいディレクトリを作成：<code>src/main/resources/static/js/</code></li>
                            <li>新しいファイルを作成：<code>src/main/resources/static/js/custom.js</code></li>
                            <li>以下のJavaScriptを記述：</li>
                        </ol>
                        <h6>static/js/custom.js</h6>
                        <pre class="code-block"><code class="language-javascript">// アプリケーション初期化
document.addEventListener('DOMContentLoaded', function() {
    // フェードインアニメーション
    initFadeInAnimation();
    
    // フォームバリデーション
    initFormValidation();
    
    // 削除確認ダイアログ
    initDeleteConfirmation();
    
    // ツールチップの初期化
    initTooltips();
    
    // 自動非表示アラート
    initAutoHideAlerts();
});

// フェードインアニメーション
function initFadeInAnimation() {
    const elements = document.querySelectorAll('.fade-in');
    elements.forEach((element, index) => {
        setTimeout(() => {
            element.style.opacity = '0';
            element.style.transform = 'translateY(10px)';
            element.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out';
            
            setTimeout(() => {
                element.style.opacity = '1';
                element.style.transform = 'translateY(0)';
            }, 50);
        }, index * 50);
    });
}

// フォームバリデーション
function initFormValidation() {
    const forms = document.querySelectorAll('.needs-validation');
    
    forms.forEach(form => {
        form.addEventListener('submit', function(event) {
            if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            form.classList.add('was-validated');
        });
    });
    
    // パスワード確認バリデーション
    const passwordField = document.getElementById('password');
    const passwordConfirmField = document.getElementById('passwordConfirm');
    
    if (passwordField && passwordConfirmField) {
        function validatePasswordConfirm() {
            if (passwordField.value !== passwordConfirmField.value) {
                passwordConfirmField.setCustomValidity('パスワードが一致しません');
            } else {
                passwordConfirmField.setCustomValidity('');
            }
        }
        
        passwordField.addEventListener('input', validatePasswordConfirm);
        passwordConfirmField.addEventListener('input', validatePasswordConfirm);
    }
}

// 削除確認ダイアログ
function initDeleteConfirmation() {
    const deleteButtons = document.querySelectorAll('.btn-delete');
    
    deleteButtons.forEach(button => {
        button.addEventListener('click', function(event) {
            event.preventDefault();
            
            const userName = this.dataset.userName || 'このユーザー';
            const deleteUrl = this.href;
            
            if (confirm(`本当に「${userName}」を削除しますか？\nこの操作は取り消せません。`)) {
                // 削除リクエストを送信
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = deleteUrl;
                
                const methodInput = document.createElement('input');
                methodInput.type = 'hidden';
                methodInput.name = '_method';
                methodInput.value = 'DELETE';
                form.appendChild(methodInput);
                
                document.body.appendChild(form);
                form.submit();
            }
        });
    });
}

// ツールチップの初期化
function initTooltips() {
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    tooltipTriggerList.forEach(function (tooltipTriggerEl) {
        new bootstrap.Tooltip(tooltipTriggerEl);
    });
}

// 自動非表示アラート
function initAutoHideAlerts() {
    const alerts = document.querySelectorAll('.alert-dismissible');
    
    alerts.forEach(alert => {
        // 5秒後に自動でフェードアウト
        setTimeout(() => {
            const bsAlert = new bootstrap.Alert(alert);
            bsAlert.close();
        }, 5000);
    });
}

// ユーティリティ関数
function showMessage(message, type = 'info') {
    const alertDiv = document.createElement('div');
    alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
    alertDiv.innerHTML = `
        ${message}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    `;
    
    const container = document.querySelector('.container-fluid');
    container.insertBefore(alertDiv, container.firstChild);
    
    // 3秒後に自動削除
    setTimeout(() => {
        const bsAlert = new bootstrap.Alert(alertDiv);
        bsAlert.close();
    }, 3000);
}

// 検索フォームの拡張
function initSearchForm() {
    const searchInput = document.getElementById('searchKeyword');
    
    if (searchInput) {
        let timeout;
        
        searchInput.addEventListener('input', function() {
            clearTimeout(timeout);
            
            timeout = setTimeout(() => {
                if (this.value.length >= 2 || this.value.length === 0) {
                    // 自動検索実行（デバウンス）
                    this.form.submit();
                }
            }, 500);
        });
    }
}</code></pre>
                    </div>

                    <div class="quiz-container">
                        <h5>理解度確認クイズ</h5>
                        <ol>
                            <li>Thymeleafフラグメントの用途は何ですか？</li>
                            <li>th:replaceとth:includeの違いは何ですか？</li>
                            <li>static/css/ディレクトリの役割は何ですか？</li>
                            <li>Bootstrap Iconsを使用する利点は何ですか？</li>
                            <li>レスポンシブデザインで考慮すべき点は何ですか？</li>
                        </ol>
                        <details>
                            <summary>解答例</summary>
                            <ol>
                                <li>共通の要素（ヘッダー、フッター等）を再利用するため</li>
                                <li>th:replaceは要素を置き換え、th:includeは要素の中身のみを置き換える</li>
                                <li>CSS、JavaScript、画像などの静的リソースを配置する</li>
                                <li>統一されたアイコンデザインで視覚的にわかりやすいUI作成</li>
                                <li>画面サイズに応じた表示調整、タッチデバイス対応、読みやすいフォントサイズ</li>
                            </ol>
                        </details>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="step5-user-registration.html" class="btn btn-secondary">← 前の章 Step 5: ユーザー登録機能</a>
                        <a href="step7-user-list-detail.html" class="btn btn-primary">次の章 → Step 7: 一覧・詳細機能</a>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
</body>
</html>