<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Django実践チュートリアル ステップ9 - テストとデバッグ</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; padding-top: 56px; }
        .navbar { background-color: #4caf50; }
        .sidebar { position: sticky; top: 70px; height: calc(100vh - 70px); overflow-y: auto; }
        .chapter-title { color: #4caf50; margin-top: 1.5rem; margin-bottom: 1rem; border-bottom: 2px solid #4caf50; padding-bottom: 0.5rem; }
        .section-title { color: #66bb6a; margin-top: 1.2rem; margin-bottom: 0.8rem; }
        .quiz-container { background-color: #e8f5e8; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #4caf50; }
        .exercise-container { background-color: #f3e5f5; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #9c27b0; }
        .highlight { background-color: #ffecb3; border-radius: 8px; padding: 1rem; margin: 1rem 0; border-left: 4px solid #ffc107; }
        .code-block { background-color: #1e1e1e; border-radius: 5px; padding: 1rem; margin: 1rem 0; }
        .nav-link.active { background-color: #4caf50 !important; color: white !important; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand"><strong>Django実践チュートリアル</strong></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>チュートリアルステップ</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="step1-environment-setup.html">ステップ1: 開発環境構築</a></li>
                        <li class="nav-item"><a class="nav-link" href="step2-docker-postgresql.html">ステップ2: Docker・PostgreSQL</a></li>
                        <li class="nav-item"><a class="nav-link" href="step3-django-project-init.html">ステップ3: プロジェクト初期化</a></li>
                        <li class="nav-item"><a class="nav-link" href="step4-models-migration.html">ステップ4: モデル・マイグレーション</a></li>
                        <li class="nav-item"><a class="nav-link" href="step5-views-templates-urls.html">ステップ5: ビュー・テンプレート・URL</a></li>
                        <li class="nav-item"><a class="nav-link" href="step6-admin-interface.html">ステップ6: 管理サイト</a></li>
                        <li class="nav-item"><a class="nav-link" href="step7-crud-operations.html">ステップ7: CRUD操作</a></li>
                        <li class="nav-item"><a class="nav-link" href="step8-validation-security.html">ステップ8: バリデーション・セキュリティ</a></li>
                        <li class="nav-item"><a class="nav-link active" href="step9-testing-debugging.html">ステップ9: テスト・デバッグ</a></li>
                    </ul>
                </div>
            </nav>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">ステップ9: テストとデバッグ</h1>
                </div>

                <div id="step9">
                    <div class="highlight">
                        <h5>このステップで実装すること</h5>
                        <ul>
                            <li>Djangoテストフレームワークの基礎</li>
                            <li>モデルテストの作成</li>
                            <li>ビューテストの実装</li>
                            <li>フォームテストの作成</li>
                            <li>テストデータベースの管理</li>
                            <li>デバッグツールの活用</li>
                            <li>ログ設定とトラブルシューティング</li>
                        </ul>
                    </div>

                    <h2 class="chapter-title">品質保証とデバッグ技術</h2>

                    <div class="exercise-container">
                        <h5>実装 9-1: モデルテストの作成</h5>
                        <p>カスタムUserモデルの機能をテストする包括的なテストスイートを作成します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>users/tests/test_models.py作成</strong>:
                                <pre class="code-block"><code class="language-python"># users/tests/test_models.py (新規作成)
from django.test import TestCase
from django.core.exceptions import ValidationError
from django.db import IntegrityError
from datetime import date, timedelta
from users.models import User

class UserModelTest(TestCase):
    """Userモデルのテストクラス"""
    
    def setUp(self):
        """各テストメソッド実行前の準備"""
        self.valid_user_data = {
            'username': 'testuser',
            'email': 'test@example.com',
            'first_name': '太郎',
            'last_name': '田中',
            'phone_number': '090-1234-5678',
            'birth_date': date(1990, 5, 15)
        }
    
    def test_user_creation_with_valid_data(self):
        """有効なデータでのユーザー作成テスト"""
        user = User.objects.create_user(**self.valid_user_data)
        self.assertEqual(user.username, 'testuser')
        self.assertEqual(user.email, 'test@example.com')
        self.assertTrue(user.is_active)
        self.assertIsNotNone(user.created_at)
    
    def test_user_str_representation(self):
        """__str__メソッドのテスト"""
        user = User.objects.create_user(**self.valid_user_data)
        expected = f"{user.username} ({user.get_full_name()})"
        self.assertEqual(str(user), expected)
    
    def test_get_full_name_method(self):
        """get_full_nameメソッドのテスト"""
        user = User.objects.create_user(**self.valid_user_data)
        self.assertEqual(user.get_full_name(), '太郎 田中')
        
        # 名前が空の場合
        user.first_name = ''
        user.last_name = ''
        self.assertEqual(user.get_full_name(), '')
    
    def test_get_age_method(self):
        """get_ageメソッドのテスト"""
        # 30歳のユーザー
        birth_date = date.today() - timedelta(days=30*365)
        user = User.objects.create_user(
            username='testuser',
            birth_date=birth_date
        )
        self.assertAlmostEqual(user.get_age(), 30, delta=1)
        
        # 生年月日が未設定の場合
        user.birth_date = None
        self.assertIsNone(user.get_age())
    
    def test_email_uniqueness(self):
        """メールアドレスの一意性制約テスト"""
        User.objects.create_user(**self.valid_user_data)
        
        # 同じメールアドレスで2人目のユーザー作成を試行
        with self.assertRaises(IntegrityError):
            User.objects.create_user(
                username='testuser2',
                email='test@example.com'  # 同じメールアドレス
            )
    
    def test_phone_number_validation(self):
        """電話番号バリデーションのテスト"""
        # 有効な電話番号
        user_data = self.valid_user_data.copy()
        user_data['phone_number'] = '090-1234-5678'
        user = User(**user_data)
        user.full_clean()  # バリデーション実行
        
        # 無効な電話番号
        user_data['phone_number'] = '090-12345678'  # ハイフンなし
        user = User(**user_data)
        with self.assertRaises(ValidationError):
            user.full_clean()
    
    def test_username_validation(self):
        """ユーザー名バリデーションのテスト"""
        user_data = self.valid_user_data.copy()
        
        # 無効な文字を含むユーザー名
        user_data['username'] = 'test@user'  # @を含む
        user = User(**user_data)
        with self.assertRaises(ValidationError):
            user.full_clean()
    
    def test_age_validation(self):
        """年齢バリデーションのテスト"""
        user_data = self.valid_user_data.copy()
        
        # 年齢が若すぎる（12歳）
        user_data['birth_date'] = date.today() - timedelta(days=12*365)
        user = User(**user_data)
        with self.assertRaises(ValidationError):
            user.full_clean()
        
        # 年齢が高すぎる（101歳）
        user_data['birth_date'] = date.today() - timedelta(days=101*365)
        user = User(**user_data)
        with self.assertRaises(ValidationError):
            user.full_clean()
    
    def test_email_normalization(self):
        """メールアドレス正規化のテスト"""
        user_data = self.valid_user_data.copy()
        user_data['email'] = 'TEST@EXAMPLE.COM'  # 大文字
        user = User.objects.create_user(**user_data)
        self.assertEqual(user.email, 'test@example.com')  # 小文字に変換される</code></pre>
                            </li>
                            <li><strong>tests/__init__.py作成</strong>:
                                <pre class="code-block"><code class="language-bash">mkdir users/tests
touch users/tests/__init__.py</code></pre>
                            </li>
                        </ol>
                    </div>

                    <div class="exercise-container">
                        <h5>実装 9-2: ビューテストの作成</h5>
                        <p>ビューの動作をテストし、適切なレスポンスとリダイレクトを確認します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>users/tests/test_views.py作成</strong>:
                                <pre class="code-block"><code class="language-python"># users/tests/test_views.py (新規作成)
from django.test import TestCase, Client
from django.urls import reverse
from django.contrib.auth import get_user_model
from users.models import User

class UserViewTest(TestCase):
    """ユーザービューのテストクラス"""
    
    def setUp(self):
        """テスト準備"""
        self.client = Client()
        self.user = User.objects.create_user(
            username='testuser',
            email='test@example.com',
            first_name='太郎',
            last_name='田中',
            password='testpass123'
        )
    
    def test_user_list_view(self):
        """ユーザー一覧ページのテスト"""
        url = reverse('users:user_list')
        response = self.client.get(url)
        
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, 'testuser')
        self.assertContains(response, '太郎 田中')
    
    def test_user_detail_view(self):
        """ユーザー詳細ページのテスト"""
        url = reverse('users:user_detail', args=[self.user.pk])
        response = self.client.get(url)
        
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, self.user.username)
        self.assertContains(response, self.user.email)
    
    def test_user_detail_view_nonexistent_user(self):
        """存在しないユーザーの詳細ページテスト"""
        url = reverse('users:user_detail', args=[9999])
        response = self.client.get(url)
        self.assertEqual(response.status_code, 404)
    
    def test_user_create_view_get(self):
        """ユーザー作成ページ（GET）のテスト"""
        url = reverse('users:user_create')
        response = self.client.get(url)
        
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, 'ユーザー登録')
    
    def test_user_create_view_post_valid(self):
        """ユーザー作成（POST・有効データ）のテスト"""
        url = reverse('users:user_create')
        data = {
            'username': 'newuser',
            'email': 'new@example.com',
            'first_name': '次郎',
            'last_name': '佐藤',
            'password1': 'NewPass123!',
            'password2': 'NewPass123!',
        }
        response = self.client.post(url, data)
        
        # リダイレクトされることを確認
        self.assertEqual(response.status_code, 302)
        
        # ユーザーが作成されたことを確認
        self.assertTrue(User.objects.filter(username='newuser').exists())
    
    def test_user_create_view_post_invalid(self):
        """ユーザー作成（POST・無効データ）のテスト"""
        url = reverse('users:user_create')
        data = {
            'username': '',  # 空のユーザー名
            'email': 'invalid-email',  # 無効なメール
            'password1': '123',  # 弱いパスワード
            'password2': '456',  # パスワードが一致しない
        }
        response = self.client.post(url, data)
        
        # フォームエラーでページが再表示される
        self.assertEqual(response.status_code, 200)
        self.assertFormError(response, 'form', 'username', 'This field is required.')
    
    def test_user_update_view(self):
        """ユーザー更新のテスト"""
        url = reverse('users:user_update', args=[self.user.pk])
        data = {
            'username': 'updateduser',
            'email': 'updated@example.com',
            'first_name': '更新',
            'last_name': '太郎',
            'is_active': True,
        }
        response = self.client.post(url, data)
        
        # リダイレクトされることを確認
        self.assertEqual(response.status_code, 302)
        
        # ユーザー情報が更新されたことを確認
        self.user.refresh_from_db()
        self.assertEqual(self.user.username, 'updateduser')
        self.assertEqual(self.user.first_name, '更新')
    
    def test_user_delete_view(self):
        """ユーザー削除のテスト"""
        user_id = self.user.pk
        url = reverse('users:user_delete', args=[user_id])
        
        # DELETE確認ページ
        response = self.client.get(url)
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, '削除確認')
        
        # 実際の削除実行
        response = self.client.post(url)
        self.assertEqual(response.status_code, 302)
        
        # ユーザーが削除されたことを確認
        self.assertFalse(User.objects.filter(pk=user_id).exists())
    
    def test_dashboard_view(self):
        """ダッシュボードページのテスト"""
        url = reverse('users:dashboard')
        response = self.client.get(url)
        
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, 'ダッシュボード')
        self.assertContains(response, '総ユーザー数')
    
    def test_user_search(self):
        """ユーザー検索機能のテスト"""
        # 検索対象のユーザーを追加作成
        User.objects.create_user(
            username='searchuser',
            email='search@example.com',
            first_name='検索',
            last_name='対象'
        )
        
        url = reverse('users:user_list')
        response = self.client.get(url, {'search': '検索'})
        
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, 'searchuser')
        self.assertNotContains(response, 'testuser')  # 検索にヒットしない</code></pre>
                            </li>
                        </ol>
                    </div>

                    <div class="exercise-container">
                        <h5>実装 9-3: フォームテストの作成</h5>
                        <p>カスタムフォームのバリデーション機能をテストします。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>users/tests/test_forms.py作成</strong>:
                                <pre class="code-block"><code class="language-python"># users/tests/test_forms.py (新規作成)
from django.test import TestCase
from users.forms import CustomUserCreationForm, UserUpdateForm
from users.models import User

class CustomUserCreationFormTest(TestCase):
    """カスタムユーザー作成フォームのテスト"""
    
    def test_form_valid_data(self):
        """有効なデータでのフォームテスト"""
        form_data = {
            'username': 'testuser',
            'email': 'test@example.com',
            'first_name': '太郎',
            'last_name': '田中',
            'password1': 'TestPass123!',
            'password2': 'TestPass123!',
        }
        form = CustomUserCreationForm(data=form_data)
        self.assertTrue(form.is_valid())
    
    def test_form_invalid_email_duplicate(self):
        """重複メールアドレスのテスト"""
        # 既存ユーザー作成
        User.objects.create_user(
            username='existing',
            email='test@example.com'
        )
        
        form_data = {
            'username': 'testuser',
            'email': 'test@example.com',  # 重複
            'first_name': '太郎',
            'last_name': '田中',
            'password1': 'TestPass123!',
            'password2': 'TestPass123!',
        }
        form = CustomUserCreationForm(data=form_data)
        self.assertFalse(form.is_valid())
        self.assertIn('email', form.errors)
    
    def test_form_password_mismatch(self):
        """パスワード不一致のテスト"""
        form_data = {
            'username': 'testuser',
            'email': 'test@example.com',
            'first_name': '太郎',
            'last_name': '田中',
            'password1': 'TestPass123!',
            'password2': 'DifferentPass123!',  # 異なるパスワード
        }
        form = CustomUserCreationForm(data=form_data)
        self.assertFalse(form.is_valid())
    
    def test_form_required_fields(self):
        """必須フィールドのテスト"""
        form_data = {}  # 空データ
        form = CustomUserCreationForm(data=form_data)
        self.assertFalse(form.is_valid())
        
        required_fields = ['username', 'email', 'first_name', 'last_name']
        for field in required_fields:
            self.assertIn(field, form.errors)

class UserUpdateFormTest(TestCase):
    """ユーザー更新フォームのテスト"""
    
    def setUp(self):
        """テスト準備"""
        self.user = User.objects.create_user(
            username='testuser',
            email='test@example.com'
        )
    
    def test_form_valid_data(self):
        """有効なデータでのフォーム更新テスト"""
        form_data = {
            'username': 'updateduser',
            'email': 'updated@example.com',
            'first_name': '更新',
            'last_name': '太郎',
            'phone_number': '090-1234-5678',
            'is_active': True,
        }
        form = UserUpdateForm(data=form_data, instance=self.user)
        self.assertTrue(form.is_valid())
    
    def test_form_email_duplicate_different_user(self):
        """他のユーザーとメール重複のテスト"""
        # 別ユーザー作成
        User.objects.create_user(
            username='otheruser',
            email='other@example.com'
        )
        
        form_data = {
            'username': 'testuser',
            'email': 'other@example.com',  # 他ユーザーのメール
            'first_name': '太郎',
            'last_name': '田中',
            'is_active': True,
        }
        form = UserUpdateForm(data=form_data, instance=self.user)
        self.assertFalse(form.is_valid())
        self.assertIn('email', form.errors)
    
    def test_form_same_email_same_user(self):
        """同じユーザーの既存メール使用のテスト（OK）"""
        form_data = {
            'username': 'testuser',
            'email': 'test@example.com',  # 自分の既存メール
            'first_name': '太郎',
            'last_name': '田中',
            'is_active': True,
        }
        form = UserUpdateForm(data=form_data, instance=self.user)
        self.assertTrue(form.is_valid())</code></pre>
                            </li>
                        </ol>
                    </div>

                    <div class="exercise-container">
                        <h5>実装 9-4: テスト実行とカバレッジ確認</h5>
                        <p>作成したテストを実行し、カバレッジを確認します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>テスト実行</strong>:
                                <pre class="code-block"><code class="language-bash"># すべてのテスト実行
python manage.py test

# 特定のアプリのテストのみ
python manage.py test users

# 詳細出力でテスト実行
python manage.py test --verbosity=2

# 特定のテストクラスのみ
python manage.py test users.tests.test_models.UserModelTest</code></pre>
                            </li>
                            <li><strong>カバレッジツールのインストール</strong>:
                                <pre class="code-block"><code class="language-bash">pip install coverage</code></pre>
                            </li>
                            <li><strong>カバレッジ付きテスト実行</strong>:
                                <pre class="code-block"><code class="language-bash"># カバレッジデータ収集
coverage run --source='.' manage.py test

# カバレッジレポート表示
coverage report

# HTMLレポート生成
coverage html</code></pre>
                            </li>
                        </ol>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>すべてのテストがパスし、適切なカバレッジが確保されている</p>
                        </div>
                    </div>

                    <div class="exercise-container">
                        <h5>実装 9-5: ログ設定とデバッグ</h5>
                        <p>アプリケーションのログ機能を設定し、デバッグツールを活用します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>詳細なログ設定</strong>:
                                <pre class="code-block"><code class="language-python"># myproject/settings.py のLOGGING設定を拡張
import os

LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {
        'verbose': {
            'format': '{levelname} {asctime} {module} {process:d} {thread:d} {message}',
            'style': '{',
        },
        'simple': {
            'format': '{levelname} {message}',
            'style': '{',
        },
    },
    'handlers': {
        'file': {
            'level': 'INFO',
            'class': 'logging.FileHandler',
            'filename': os.path.join(BASE_DIR, 'logs', 'django.log'),
            'formatter': 'verbose',
        },
        'error_file': {
            'level': 'ERROR',
            'class': 'logging.FileHandler',
            'filename': os.path.join(BASE_DIR, 'logs', 'error.log'),
            'formatter': 'verbose',
        },
        'console': {
            'level': 'DEBUG' if DEBUG else 'INFO',
            'class': 'logging.StreamHandler',
            'formatter': 'simple',
        },
    },
    'root': {
        'handlers': ['console'],
    },
    'loggers': {
        'django': {
            'handlers': ['file'],
            'level': 'INFO',
            'propagate': False,
        },
        'django.request': {
            'handlers': ['error_file'],
            'level': 'ERROR',
            'propagate': False,
        },
        'users': {
            'handlers': ['file', 'console'],
            'level': 'DEBUG' if DEBUG else 'INFO',
            'propagate': False,
        },
    },
}</code></pre>
                            </li>
                            <li><strong>ログの活用例</strong>:
                                <pre class="code-block"><code class="language-python"># users/views.py でのログ使用例
import logging

logger = logging.getLogger(__name__)

class UserCreateView(CreateView):
    def form_valid(self, form):
        user = form.save(commit=False)
        user.set_password(form.cleaned_data['password1'])
        user.save()
        
        # ログ出力
        logger.info(f'New user created: {user.username} ({user.email})')
        
        messages.success(self.request, f'ユーザー「{user.username}」が正常に作成されました。')
        return super().form_valid(form)
    
    def form_invalid(self, form):
        # エラーログ
        logger.warning(f'User creation failed: {form.errors}')
        return super().form_invalid(form)</code></pre>
                            </li>
                            <li><strong>デバッグヘルパーの作成</strong>:
                                <pre class="code-block"><code class="language-python"># users/debug.py (新規作成)
import logging
from django.conf import settings
from functools import wraps

def debug_view(func):
    """ビューのデバッグ用デコレータ"""
    @wraps(func)
    def wrapper(request, *args, **kwargs):
        if settings.DEBUG:
            logger = logging.getLogger(__name__)
            logger.debug(f'View called: {func.__name__}')
            logger.debug(f'Request method: {request.method}')
            logger.debug(f'Request user: {request.user}')
            logger.debug(f'Args: {args}, Kwargs: {kwargs}')
        
        result = func(request, *args, **kwargs)
        
        if settings.DEBUG:
            logger.debug(f'View completed: {func.__name__}')
        
        return result
    return wrapper</code></pre>
                            </li>
                        </ol>
                    </div>

                    <div class="exercise-container">
                        <h5>実装 9-6: 本番環境への準備</h5>
                        <p>本番環境でのデプロイに向けた最終設定を行います。</p>
                        
                        <h6>チェック項目</h6>
                        <ol>
                            <li><strong>セキュリティチェック</strong>:
                                <pre class="code-block"><code class="language-bash"># Djangoセキュリティチェック
python manage.py check --deploy</code></pre>
                            </li>
                            <li><strong>静的ファイル収集</strong>:
                                <pre class="code-block"><code class="language-bash"># 静的ファイルを本番用ディレクトリに収集
python manage.py collectstatic --noinput</code></pre>
                            </li>
                            <li><strong>マイグレーション確認</strong>:
                                <pre class="code-block"><code class="language-bash"># 未適用のマイグレーション確認
python manage.py showmigrations --list</code></pre>
                            </li>
                            <li><strong>requirements.txt更新</strong>:
                                <pre class="code-block"><code class="language-bash"># 依存関係を最新の状態で記録
pip freeze > requirements.txt</code></pre>
                            </li>
                        </ol>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>本番環境デプロイの準備が整い、セキュリティチェックにパスする</p>
                        </div>
                    </div>

                    <div class="quiz-container">
                        <h5>チュートリアル完了チェック</h5>
                        <ul class="list-unstyled">
                            <li>☐ 包括的なテストスイートが作成されている</li>
                            <li>☐ すべてのテストがパスする</li>
                            <li>☐ 適切なカバレッジが確保されている</li>
                            <li>☐ ログ機能が正常に動作している</li>
                            <li>☐ デバッグツールが活用できている</li>
                            <li>☐ 本番環境デプロイの準備が完了している</li>
                        </ul>
                    </div>

                    <div class="alert alert-success mt-4">
                        <h4>🎉 Django実践チュートリアル完了！</h4>
                        <p>おめでとうございます！このチュートリアルで以下のスキルを習得しました：</p>
                        <ul>
                            <li>Django開発環境の構築</li>
                            <li>PostgreSQL データベース連携</li>
                            <li>カスタムユーザーモデルの実装</li>
                            <li>フルCRUD機能の開発</li>
                            <li>セキュリティ対策の実装</li>
                            <li>テスト駆動開発の実践</li>
                        </ul>
                        <p><strong>次のステップ:</strong> より高度な機能（認証システム、API開発、デプロイメント等）に挑戦してみてください！</p>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a href="step8-validation-security.html" class="btn btn-secondary">← 前のステップ: バリデーション・セキュリティ</a>
                        <span class="text-muted">完了！</span>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">© 2025 F-Circle. All rights reserved.<br>
本資料はAIツールを活用し、人間による編集・監修のもと作成されています。無断転載・再配布を禁じます。</p>
                </div>
            </div>
        </div>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>mermaid.initialize({ startOnLoad: true, theme: 'default' });</script>
</body>
</html>