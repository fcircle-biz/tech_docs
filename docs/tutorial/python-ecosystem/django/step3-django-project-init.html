<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Django実践チュートリアル ステップ3 - Djangoプロジェクトの初期化と基本設定</title>
    
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Highlight.js CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding-top: 56px;
        }
        .navbar {
            background-color: #4caf50;
        }
        .sidebar {
            position: sticky;
            top: 70px;
            height: calc(100vh - 70px);
            overflow-y: auto;
        }
        .chapter-title {
            color: #4caf50;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #4caf50;
            padding-bottom: 0.5rem;
        }
        .section-title {
            color: #66bb6a;
            margin-top: 1.2rem;
            margin-bottom: 0.8rem;
        }
        .quiz-container {
            background-color: #e8f5e8;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #4caf50;
        }
        .exercise-container {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #9c27b0;
        }
        .highlight {
            background-color: #ffecb3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }
        .warning {
            background-color: #ffebee;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #f44336;
        }
        .code-block {
            background-color: #1e1e1e;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }
        .nav-link.active {
            background-color: #4caf50 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand">
                <strong>Django実践チュートリアル</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- サイドバー -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>チュートリアルステップ</span>
                    </h6>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="step1-environment-setup.html">
                                ステップ1: 開発環境構築
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step2-docker-postgresql.html">
                                ステップ2: Docker・PostgreSQL
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="step3-django-project-init.html">
                                ステップ3: プロジェクト初期化
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step4-models-migration.html">
                                ステップ4: モデル・マイグレーション
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step5-views-templates-urls.html">
                                ステップ5: ビュー・テンプレート・URL
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step6-admin-interface.html">
                                ステップ6: 管理サイト
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step7-crud-operations.html">
                                ステップ7: CRUD操作
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step8-validation-security.html">
                                ステップ8: バリデーション・セキュリティ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="step9-testing-debugging.html">
                                ステップ9: テスト・デバッグ
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- メインコンテンツ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- ステップヘッダー -->
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">ステップ3: Djangoプロジェクトの初期化と基本設定</h1>
                </div>

                <div id="step3">
                    <!-- このステップの目標 -->
                    <div class="highlight">
                        <h5>このステップで実装すること</h5>
                        <ul>
                            <li>Djangoプロジェクト構造の理解</li>
                            <li>settings.pyの詳細設定</li>
                            <li>PostgreSQLデータベース設定</li>
                            <li>静的ファイルとメディアファイルの設定</li>
                            <li>日本語・タイムゾーン設定</li>
                            <li>開発サーバーの起動と確認</li>
                        </ul>
                    </div>

                    <!-- 前提条件・準備 -->
                    <div class="alert alert-info">
                        <h6>前提条件</h6>
                        <ul>
                            <li>ステップ1・2が完了していること</li>
                            <li>PostgreSQLコンテナが起動していること</li>
                            <li>.envファイルに環境変数が設定済み</li>
                            <li>仮想環境が有効化されていること</li>
                        </ul>
                    </div>

                    <h2 class="chapter-title">Djangoプロジェクト構造の理解と設定</h2>

                    <div class="mermaid">
                        graph TD
                            A["myproject/ (プロジェクトルート)"] --> B["settings.py (設定)"]
                            A --> C["urls.py (URLルーティング)"]
                            A --> D["wsgi.py (WSGI設定)"]
                            A --> E["asgi.py (ASGI設定)"]
                            B --> F["データベース設定"]
                            B --> G["静的ファイル設定"]
                            B --> H["国際化設定"]
                    </div>

                    <!-- セクション1: プロジェクト構造理解 -->
                    <h3 class="section-title">3.1 Djangoプロジェクト構造の理解</h3>
                    <p>Djangoプロジェクトの基本構造と各ファイルの役割を理解しましょう。</p>

                    <!-- 実装手順1 -->
                    <div class="exercise-container">
                        <h5>実装 3-1: プロジェクト構造の確認と理解</h5>
                        <p>現在のプロジェクト構造を確認し、各ファイルの役割を理解します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>プロジェクト構造確認</strong>:
                                <pre class="code-block"><code class="language-bash">cd C:\django-tutorial
tree /F</code></pre>
                            </li>
                            <li><strong>主要ファイルの役割</strong>:
                                <ul>
                                    <li><strong>manage.py</strong>: Django管理コマンドのエントリーポイント</li>
                                    <li><strong>myproject/settings.py</strong>: プロジェクト全体の設定ファイル</li>
                                    <li><strong>myproject/urls.py</strong>: URLルーティング設定</li>
                                    <li><strong>myproject/wsgi.py</strong>: WSGI（本番環境用）</li>
                                    <li><strong>myproject/asgi.py</strong>: ASGI（非同期用）</li>
                                </ul>
                            </li>
                            <li><strong>manage.py利用可能コマンド確認</strong>:
                                <pre class="code-block"><code class="language-bash">python manage.py help</code></pre>
                            </li>
                        </ol>
                        
                        <h6>動作確認</h6>
                        <p>基本的なDjango管理コマンドを試してみます:</p>
                        <pre class="code-block"><code class="language-bash"># Djangoバージョン確認
python manage.py version

# 現在の設定確認
python manage.py check</code></pre>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>Djangoバージョンが表示され、設定チェックでエラーが出ないこと</p>
                        </div>
                    </div>

                    <!-- セクション2: settings.py詳細設定 -->
                    <h3 class="section-title">3.2 settings.pyの詳細設定</h3>
                    <p>プロジェクト設定を本格的な開発に適するように調整します。</p>

                    <!-- 実装手順2 -->
                    <div class="exercise-container">
                        <h5>実装 3-2: settings.pyの基本設定更新</h5>
                        <p>環境変数を使用した設定とデバッグモードの適切な管理を行います。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>settings.pyファイルをバックアップ</strong>:
                                <pre class="code-block"><code class="language-bash">copy myproject\settings.py myproject\settings.py.backup</code></pre>
                            </li>
                            <li><strong>settings.pyの先頭に環境変数読み込み追加</strong>:
                                <pre class="code-block"><code class="language-python"># myproject/settings.py
import os
from pathlib import Path
from decouple import config

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent</code></pre>
                            </li>
                            <li><strong>デバッグとセキュリティキー設定更新</strong>:
                                <pre class="code-block"><code class="language-python"># SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = config('SECRET_KEY', default='your-default-secret-key-here')

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = config('DEBUG', default=True, cast=bool)

ALLOWED_HOSTS = ['localhost', '127.0.0.1', '[::1]']</code></pre>
                            </li>
                            <li><strong>アプリケーション設定</strong>:
                                <pre class="code-block"><code class="language-python"># Application definition
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    # サードパーティアプリ
    'debug_toolbar',  # 開発用デバッグツール
    # 独自アプリケーション（後で追加）
]</code></pre>
                            </li>
                        </ol>
                        
                        <h6>動作確認</h6>
                        <p>設定ファイルの構文チェック:</p>
                        <pre class="code-block"><code class="language-bash">python manage.py check</code></pre>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>「System check identified no issues (0 silenced).」が表示される</p>
                        </div>
                        
                        <h6>トラブルシューティング</h6>
                        <div class="alert alert-warning">
                            <p><strong>ModuleNotFoundError: No module named 'decouple'の場合:</strong></p>
                            <pre class="code-block"><code class="language-bash">pip install python-decouple</code></pre>
                        </div>
                    </div>

                    <!-- セクション3: データベース設定 -->
                    <h3 class="section-title">3.3 PostgreSQLデータベース設定</h3>
                    <p>SQLiteからPostgreSQLへデータベースを変更し、適切な接続設定を行います。</p>

                    <!-- 実装手順3 -->
                    <div class="exercise-container">
                        <h5>実装 3-3: PostgreSQLデータベース接続設定</h5>
                        <p>settings.pyでPostgreSQLデータベース設定を行い、接続を確認します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>データベース設定の更新</strong>: settings.pyのDATABASES設定を変更
                                <pre class="code-block"><code class="language-python"># Database
# https://docs.djangoproject.com/en/5.0/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': config('DB_ENGINE', default='django.db.backends.postgresql'),
        'NAME': config('DB_NAME', default='django_db'),
        'USER': config('DB_USER', default='django_user'),
        'PASSWORD': config('DB_PASSWORD', default='django_password'),
        'HOST': config('DB_HOST', default='localhost'),
        'PORT': config('DB_PORT', default='5432', cast=int),
        'OPTIONS': {
            'connect_timeout': 20,
        }
    }
}</code></pre>
                            </li>
                            <li><strong>データベース接続テスト</strong>:
                                <pre class="code-block"><code class="language-bash">python manage.py dbshell</code></pre>
                            </li>
                            <li><strong>PostgreSQL接続確認</strong>: dbshell内で実行
                                <pre class="code-block"><code class="language-sql">-- データベース一覧表示
\l

-- 現在のデータベース確認
SELECT current_database();

-- 終了
\q</code></pre>
                            </li>
                        </ol>
                        
                        <h6>動作確認</h6>
                        <p>データベース設定の検証:</p>
                        <pre class="code-block"><code class="language-bash">python manage.py check --database=default</code></pre>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>PostgreSQLデータベースに正常に接続でき、dbshellでSQLコマンドが実行できる</p>
                        </div>
                        
                        <h6>トラブルシューティング</h6>
                        <div class="alert alert-warning">
                            <p><strong>psycopg2関連エラーの場合:</strong></p>
                            <pre class="code-block"><code class="language-bash"># Windows環境でのバイナリ版インストール
pip uninstall psycopg2
pip install psycopg2-binary</code></pre>
                        </div>
                    </div>

                    <!-- セクション4: 国際化設定 -->
                    <h3 class="section-title">3.4 国際化とタイムゾーン設定</h3>
                    <p>日本語環境での開発に適した国際化設定を行います。</p>

                    <!-- 実装手順4 -->
                    <div class="exercise-container">
                        <h5>実装 3-4: 日本語・タイムゾーン設定</h5>
                        <p>Djangoアプリケーションを日本語環境に最適化します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>国際化設定の更新</strong>: settings.pyで以下を変更
                                <pre class="code-block"><code class="language-python"># Internationalization
# https://docs.djangoproject.com/en/5.0/topics/i18n/

LANGUAGE_CODE = config('LANGUAGE_CODE', default='ja')

TIME_ZONE = config('TIME_ZONE', default='Asia/Tokyo')

USE_I18N = config('USE_I18N', default=True, cast=bool)

USE_TZ = config('USE_TZ', default=True, cast=bool)

# 日本語ロケール設定
LOCALE_PATHS = [
    BASE_DIR / 'locale',
]

# 日付フォーマット設定
DATE_FORMAT = 'Y年n月j日'
TIME_FORMAT = 'G:i'
DATETIME_FORMAT = 'Y年n月j日 G:i'</code></pre>
                            </li>
                            <li><strong>localeディレクトリ作成</strong>:
                                <pre class="code-block"><code class="language-bash">mkdir locale</code></pre>
                            </li>
                        </ol>
                        
                        <h6>動作確認</h6>
                        <p>Django管理コマンドで日本語設定を確認:</p>
                        <pre class="code-block"><code class="language-bash"># Djangoの設定値確認
python -c "
from django.conf import settings
import django
django.setup()
print('LANGUAGE_CODE:', settings.LANGUAGE_CODE)
print('TIME_ZONE:', settings.TIME_ZONE)
print('USE_I18N:', settings.USE_I18N)
print('USE_TZ:', settings.USE_TZ)
"</code></pre>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>LANGUAGE_CODE: ja、TIME_ZONE: Asia/Tokyo が正しく設定されている</p>
                        </div>
                    </div>

                    <!-- セクション5: 静的ファイル設定 -->
                    <h3 class="section-title">3.5 静的ファイルとメディアファイル設定</h3>
                    <p>CSS、JavaScript、画像などの静的ファイルの管理設定を行います。</p>

                    <!-- 実装手順5 -->
                    <div class="exercise-container">
                        <h5>実装 3-5: 静的ファイル・メディアファイル設定</h5>
                        <p>開発環境と本番環境での静的ファイルの適切な管理を設定します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>静的ファイル設定</strong>: settings.pyに以下を追加
                                <pre class="code-block"><code class="language-python"># Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.0/howto/static-files/

# 静的ファイルのURL
STATIC_URL = '/static/'

# 開発時の静的ファイルディレクトリ
STATICFILES_DIRS = [
    BASE_DIR / 'static',
]

# 本番時の静的ファイル収集先
STATIC_ROOT = BASE_DIR / 'staticfiles'

# メディアファイル設定（ユーザーアップロード用）
MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media'

# 静的ファイルの検索設定
STATICFILES_FINDERS = [
    'django.contrib.staticfiles.finders.FileSystemFinder',
    'django.contrib.staticfiles.finders.AppDirectoriesFinder',
]</code></pre>
                            </li>
                            <li><strong>ディレクトリ作成</strong>:
                                <pre class="code-block"><code class="language-bash">mkdir static
mkdir static\css
mkdir static\js
mkdir static\images
mkdir media</code></pre>
                            </li>
                            <li><strong>テスト用CSSファイル作成</strong>:
                                <pre class="code-block"><code class="language-css">/* static/css/base.css */
body {
    font-family: 'Arial', sans-serif;
    background-color: #f8f9fa;
    margin: 0;
    padding: 20px;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    background-color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}</code></pre>
                            </li>
                        </ol>
                        
                        <h6>動作確認</h6>
                        <p>静的ファイルの設定確認:</p>
                        <pre class="code-block"><code class="language-bash"># 静的ファイル収集のテスト（ドライラン）
python manage.py collectstatic --dry-run</code></pre>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>静的ファイルディレクトリが作成され、collectstaticコマンドが正常に動作する</p>
                        </div>
                    </div>

                    <!-- セクション6: ミドルウェア設定 -->
                    <h3 class="section-title">3.6 ミドルウェアとデバッグツール設定</h3>
                    <p>開発効率を向上させるデバッグツールとミドルウェアを設定します。</p>

                    <!-- 実装手順6 -->
                    <div class="exercise-container">
                        <h5>実装 3-6: 開発用ミドルウェア設定</h5>
                        <p>Django Debug Toolbarなどの開発支援ツールを設定します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>ミドルウェア設定</strong>: settings.pyで以下を更新
                                <pre class="code-block"><code class="language-python">MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.locale.LocaleMiddleware',  # 国際化用
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

# 開発環境でのみDebug Toolbarを有効化
if DEBUG:
    MIDDLEWARE.append('debug_toolbar.middleware.DebugToolbarMiddleware')
    
    # Debug Toolbarの内部IP設定
    INTERNAL_IPS = [
        '127.0.0.1',
        'localhost',
    ]</code></pre>
                            </li>
                            <li><strong>URL設定でDebug Toolbar追加</strong>: myproject/urls.pyを編集
                                <pre class="code-block"><code class="language-python"># myproject/urls.py
from django.contrib import admin
from django.urls import path, include
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    path('admin/', admin.site.urls),
]

# 開発環境での静的・メディアファイル配信
if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
    urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)
    
    # Debug Toolbar用URL
    import debug_toolbar
    urlpatterns = [
        path('__debug__/', include(debug_toolbar.urls)),
    ] + urlpatterns</code></pre>
                            </li>
                        </ol>
                        
                        <h6>動作確認</h6>
                        <p>開発サーバーを起動してDebug Toolbarの動作確認:</p>
                        <pre class="code-block"><code class="language-bash">python manage.py runserver</code></pre>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>開発サーバーが起動し、ブラウザでページ右端にDebug Toolbarが表示される</p>
                        </div>
                    </div>

                    <!-- セクション7: 初期マイグレーション -->
                    <h3 class="section-title">3.7 データベース初期マイグレーション</h3>
                    <p>Djangoの組み込みアプリケーション用のテーブルを作成します。</p>

                    <!-- 実装手順7 -->
                    <div class="exercise-container">
                        <h5>実装 3-7: 初期データベーステーブル作成</h5>
                        <p>Django標準のユーザー認証、セッション管理などのテーブルを作成します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>マイグレーションファイル確認</strong>:
                                <pre class="code-block"><code class="language-bash">python manage.py showmigrations</code></pre>
                            </li>
                            <li><strong>初期マイグレーション実行</strong>:
                                <pre class="code-block"><code class="language-bash">python manage.py migrate</code></pre>
                            </li>
                            <li><strong>作成されたテーブル確認</strong>:
                                <pre class="code-block"><code class="language-bash">python manage.py dbshell</code></pre>
                                <pre class="code-block"><code class="language-sql">-- PostgreSQL内でテーブル一覧確認
\dt

-- 特定テーブルの構造確認（例：auth_user）
\d auth_user

-- 終了
\q</code></pre>
                            </li>
                        </ol>
                        
                        <h6>動作確認</h6>
                        <p>マイグレーション状態の再確認:</p>
                        <pre class="code-block"><code class="language-bash">python manage.py showmigrations</code></pre>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>すべてのマイグレーションに[X]マークが付き、PostgreSQLにテーブルが作成されている</p>
                        </div>
                    </div>

                    <!-- セクション8: スーパーユーザー作成 -->
                    <h3 class="section-title">3.8 管理者ユーザーの作成</h3>
                    <p>Django管理サイトにアクセスするための管理者ユーザーを作成します。</p>

                    <!-- 実装手順8 -->
                    <div class="exercise-container">
                        <h5>実装 3-8: Django管理者ユーザー作成</h5>
                        <p>管理サイトにログインできる最初のユーザーを作成します。</p>
                        
                        <h6>手順</h6>
                        <ol>
                            <li><strong>スーパーユーザー作成</strong>:
                                <pre class="code-block"><code class="language-bash">python manage.py createsuperuser</code></pre>
                                <p>以下の情報を入力:</p>
                                <ul>
                                    <li>Username: admin</li>
                                    <li>Email address: admin@example.com</li>
                                    <li>Password: （8文字以上の安全なパスワード）</li>
                                </ul>
                            </li>
                            <li><strong>管理サイトアクセス</strong>: 開発サーバー起動後、http://127.0.0.1:8000/admin/ にアクセス</li>
                            <li><strong>ログインテスト</strong>: 作成したユーザー名とパスワードでログイン</li>
                        </ol>
                        
                        <h6>動作確認</h6>
                        <p>管理サイトで以下が確認できること:</p>
                        <ul>
                            <li>Django管理画面が日本語で表示される</li>
                            <li>「認証と認可」セクションでユーザーとグループが管理できる</li>
                            <li>「最近のアクション」が日本時間で表示される</li>
                        </ul>
                        
                        <h6>期待される結果</h6>
                        <div class="alert alert-success">
                            <p>Django管理サイトに正常にログインでき、日本語環境で管理機能が利用できる</p>
                        </div>
                    </div>

                    <!-- ステップ完了チェック -->
                    <div class="quiz-container">
                        <h5>ステップ完了チェック</h5>
                        <p>以下の項目が完了していることを確認してください：</p>
                        <ul class="list-unstyled">
                            <li>☐ settings.pyに環境変数を使用した設定が適用されている</li>
                            <li>☐ PostgreSQLデータベース接続が正常に動作する</li>
                            <li>☐ 日本語・日本時間の設定が適用されている</li>
                            <li>☐ 静的ファイル・メディアファイルの設定が完了している</li>
                            <li>☐ Debug Toolbarが開発環境で動作している</li>
                            <li>☐ 初期マイグレーションが正常に実行されている</li>
                            <li>☐ スーパーユーザーが作成され管理サイトにアクセスできる</li>
                        </ul>
                    </div>

                    <!-- ファイル構成確認 -->
                    <div class="alert alert-light">
                        <h6>現在のプロジェクト構成</h6>
                        <pre class="code-block"><code class="language-bash">django-tutorial/
├── venv/                           # 仮想環境
├── docker/                         # Docker関連ファイル
├── static/                         # 静的ファイル（開発用）
│   ├── css/
│   ├── js/
│   └── images/
├── media/                          # メディアファイル
├── locale/                         # 国際化ファイル
├── myproject/                      # Djangoプロジェクト
│   ├── __init__.py
│   ├── settings.py                # 更新済み設定ファイル
│   ├── settings.py.backup         # バックアップ
│   ├── urls.py                     # 更新済みURL設定
│   ├── wsgi.py
│   └── asgi.py
├── manage.py
├── requirements.txt
├── .env                           # 環境変数
└── .gitignore</code></pre>
                    </div>

                    <!-- 重要な設定値まとめ -->
                    <div class="alert alert-info">
                        <h6>設定済み項目まとめ</h6>
                        <ul>
                            <li><strong>データベース</strong>: PostgreSQL (django_db)</li>
                            <li><strong>言語</strong>: 日本語 (ja)</li>
                            <li><strong>タイムゾーン</strong>: Asia/Tokyo</li>
                            <li><strong>デバッグモード</strong>: 有効（開発環境）</li>
                            <li><strong>静的ファイル</strong>: /static/ URL</li>
                            <li><strong>メディアファイル</strong>: /media/ URL</li>
                            <li><strong>管理サイト</strong>: /admin/ URL</li>
                        </ul>
                    </div>

                    <!-- ステップ間ナビゲーション -->
                    <div class="d-flex justify-content-between mt-4">
                        <a href="step2-docker-postgresql.html" class="btn btn-secondary">← 前のステップ: Docker・PostgreSQL</a>
                        <a href="step4-models-migration.html" class="btn btn-primary">次のステップ: モデル・マイグレーション →</a>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- フッター -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2025 F-Circle All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Highlight.js 初期化 -->
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid.js 初期化 -->
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>