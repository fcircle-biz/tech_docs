<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ASP.NET WebForms初心者向け学習資料 - データバインディングとDB連携</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .slide-container {
        width: 1280px;
        min-height: 720px;
        overflow: hidden;
        position: relative;
        background-color: #f0f4f8;
    }
    .header-accent {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 8px;
        background-color: #0078d4;
    }
    .footer {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 40px;
        background-color: #0078d4;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 30px;
        color: white;
    }
    .content {
        position: relative;
        z-index: 1;
        padding: 60px 40px;
        display: flex;
        flex-direction: column;
        height: calc(100% - 120px);
    }
    .two-column {
        display: flex;
        flex: 1;
    }
    .left-column {
        flex: 1;
        padding-right: 30px;
    }
    .right-column {
        flex: 1;
        padding-left: 20px;
        display: flex;
        flex-direction: column;
    }
    .concept-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 18px;
    }
    .concept-icon {
        background-color: #0078d4;
        color: white;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-right: 14px;
        flex-shrink: 0;
    }
    .highlight-box {
        background-color: #e6f2ff;
        border-left: 4px solid #0078d4;
        padding: 16px;
        margin-top: 24px;
        border-radius: 0 4px 4px 0;
    }
    .code-block {
        background-color: #272822;
        color: #f8f8f2;
        padding: 16px;
        border-radius: 6px;
        font-family: Consolas, Monaco, 'Andale Mono', monospace;
        font-size: 14px;
        overflow: hidden;
        margin-bottom: 20px;
    }
    .code-comment {
        color: #88846f;
    }
    .code-keyword {
        color: #66d9ef;
    }
    .code-string {
        color: #a6e22e;
    }
    .data-flow-diagram {
        background-color: white;
        border-radius: 6px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .data-flow-item {
        padding: 10px 15px;
        margin-bottom: 10px;
        border-radius: 4px;
        text-align: center;
        position: relative;
    }
    .data-flow-item:not(:last-child):after {
        content: "↓";
        position: absolute;
        bottom: -18px;
        left: 50%;
        font-size: 20px;
        color: #0078d4;
    }
    .db {
        background-color: #e6f2ff;
        border: 1px solid #0078d4;
    }
    .ef {
        background-color: #e3f6df;
        border: 1px solid #4caf50;
    }
    .control {
        background-color: #fff3e6;
        border: 1px solid #ff9800;
    }
    .browser {
        background-color: #f7e6ff;
        border: 1px solid #9c27b0;
    }
</style>
</head>
<body>
<div class="slide-container">
<div class="header-accent"></div>
<div class="content">
<div>
<h1 class="text-4xl font-bold text-gray-800 mb-2">データバインディングとDB連携</h1>
<div class="w-20 h-1 bg-blue-600 mb-6"></div>
<div class="two-column">
<div class="left-column">
<div class="concept-item">
<div class="concept-icon"><i class="fas fa-table"></i></div>
<div>
<h3 class="text-xl font-semibold text-gray-700">データバインドコントロール</h3>
<p class="text-gray-600">GridView、ListView、FormView、DetailsViewなど、データソースと連携して自動的にデータ表示・編集機能を提供するコントロール</p>
</div>
</div>
<div class="concept-item">
<div class="concept-icon"><i class="fas fa-database"></i></div>
<div>
<h3 class="text-xl font-semibold text-gray-700">Entity Framework連携</h3>
<p class="text-gray-600">O/Rマッパーを利用してデータベースアクセスを簡素化。DBコンテキストからデータを取得し、LINQで操作可能</p>
</div>
</div>
<div class="concept-item">
<div class="concept-icon"><i class="fas fa-code"></i></div>
<div>
<h3 class="text-xl font-semibold text-gray-700">モデルバインディング</h3>
<p class="text-gray-600">SelectMethod、UpdateMethod等のプロパティを設定し、データ操作メソッドを指定。コードビハインドとの連携が容易</p>
</div>
</div>
<div class="highlight-box mt-4">
<h4 class="font-semibold mb-1">データバインドの主要コントロール</h4>
<ul class="pl-5 space-y-1">
<li><strong>GridView</strong>: 表形式でのデータ表示・編集</li>
<li><strong>ListView</strong>: カスタマイズ可能なレイアウトのリスト表示</li>
<li><strong>FormView</strong>: 1レコードずつ表示するフォーム形式</li>
<li><strong>DetailsView</strong>: 1レコードの詳細情報表示</li>
<li><strong>Repeater</strong>: シンプルで軽量なデータ繰り返し表示</li>
</ul>
</div>
</div>
<div class="right-column">
<div class="code-block mb-4">
<span class="code-comment">// GridViewとEntityFrameworkの連携例</span><br/>
<span class="code-keyword">public</span> IQueryable&lt;Student&gt; <span class="code-string">studentsGrid_GetData</span>()<br/>
{<br/>
  SchoolContext db = <span class="code-keyword">new</span> SchoolContext();<br/>
  <span class="code-keyword">var</span> query = db.Students<br/>
    .Include(s =&gt; s.Enrollments.Select(e =&gt; e.Course));<br/>
  <span class="code-keyword">return</span> query;<br/>
}
</div>
<div class="code-block mb-4">
<span class="code-comment">&lt;!-- GridViewの実装例 --&gt;</span><br/>
&lt;asp:GridView runat=<span class="code-string">"server"</span> ID=<span class="code-string">"studentsGrid"</span><br/>
  ItemType=<span class="code-string">"Models.Student"</span><br/>
  DataKeyNames=<span class="code-string">"StudentID"</span><br/>
  SelectMethod=<span class="code-string">"studentsGrid_GetData"</span><br/>
  AutoGenerateColumns=<span class="code-string">"false"</span>&gt;<br/>
  &lt;Columns&gt;<br/>
    &lt;asp:BoundField DataField=<span class="code-string">"Name"</span> HeaderText=<span class="code-string">"名前"</span> /&gt;<br/>
    &lt;asp:BoundField DataField=<span class="code-string">"Grade"</span> HeaderText=<span class="code-string">"学年"</span> /&gt;<br/>
  &lt;/Columns&gt;<br/>
&lt;/asp:GridView&gt;
</div>
<div class="data-flow-diagram">
<h4 class="font-semibold mb-3 text-center">データフロー</h4>
<div class="data-flow-item db">
<i class="fas fa-database mr-2"></i>データベース (SQL Server)
</div>
<div class="data-flow-item ef">
<i class="fas fa-exchange-alt mr-2"></i>Entity Framework (DBコンテキスト)
</div>
<div class="data-flow-item control">
<i class="fas fa-table mr-2"></i>GridView / データバインドコントロール
</div>
<div class="data-flow-item browser">
<i class="fas fa-desktop mr-2"></i>ブラウザ表示 (HTML出力)
</div>
</div>
</div>
</div>
</div>
</div>
<div class="footer">
<span>10 / 12</span>
<span>ASP.NET WebForms 学習ガイド</span>
</div>
</div>
</body>
</html>
